(()=>{var e={504:function(e,t,n){var r,i,s;r=0,i=function(e){var t,n,r,i,s,a,o,l,u,c,h,d,f,p;return t=e.lib.BlockCipher,n=e.algo,r=[],i=[],s=[],a=[],o=[],l=[],u=[],c=[],h=[],d=[],function(){for(var e=[],t=0;t<256;t++)t<128?e[t]=t<<1:e[t]=t<<1^283;for(var n=0,f=0,t=0;t<256;t++){var p=f^f<<1^f<<2^f<<3^f<<4;p=p>>>8^255&p^99,r[n]=p,i[p]=n;var m=e[n],g=e[m],y=e[g],v=257*e[p]^0x1010100*p;s[n]=v<<24|v>>>8,a[n]=v<<16|v>>>16,o[n]=v<<8|v>>>24,l[n]=v;var v=0x1010101*y^65537*g^257*m^0x1010100*n;u[p]=v<<24|v>>>8,c[p]=v<<16|v>>>16,h[p]=v<<8|v>>>24,d[p]=v,n?(n=m^e[e[e[y^m]]],f^=e[e[f]]):n=f=1}}(),f=[0,1,2,4,8,16,32,64,128,27,54],p=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e,t=this._keyPriorReset=this._key,n=t.words,i=t.sigBytes/4,s=((this._nRounds=i+6)+1)*4,a=this._keySchedule=[],o=0;o<s;o++)o<i?a[o]=n[o]:(e=a[o-1],o%i?i>6&&o%i==4&&(e=r[e>>>24]<<24|r[e>>>16&255]<<16|r[e>>>8&255]<<8|r[255&e]):e=(r[(e=e<<8|e>>>24)>>>24]<<24|r[e>>>16&255]<<16|r[e>>>8&255]<<8|r[255&e])^f[o/i|0]<<24,a[o]=a[o-i]^e);for(var l=this._invKeySchedule=[],p=0;p<s;p++){var o=s-p;if(p%4)var e=a[o];else var e=a[o-4];p<4||o<=4?l[p]=e:l[p]=u[r[e>>>24]]^c[r[e>>>16&255]]^h[r[e>>>8&255]]^d[r[255&e]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,a,o,l,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,c,h,d,i);var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,s,a,o){for(var l=this._nRounds,u=e[t]^n[0],c=e[t+1]^n[1],h=e[t+2]^n[2],d=e[t+3]^n[3],f=4,p=1;p<l;p++){var m=r[u>>>24]^i[c>>>16&255]^s[h>>>8&255]^a[255&d]^n[f++],g=r[c>>>24]^i[h>>>16&255]^s[d>>>8&255]^a[255&u]^n[f++],y=r[h>>>24]^i[d>>>16&255]^s[u>>>8&255]^a[255&c]^n[f++],v=r[d>>>24]^i[u>>>16&255]^s[c>>>8&255]^a[255&h]^n[f++];u=m,c=g,h=y,d=v}var m=(o[u>>>24]<<24|o[c>>>16&255]<<16|o[h>>>8&255]<<8|o[255&d])^n[f++],g=(o[c>>>24]<<24|o[h>>>16&255]<<16|o[d>>>8&255]<<8|o[255&u])^n[f++],y=(o[h>>>24]<<24|o[d>>>16&255]<<16|o[u>>>8&255]<<8|o[255&c])^n[f++],v=(o[d>>>24]<<24|o[u>>>16&255]<<16|o[c>>>8&255]<<8|o[255&h])^n[f++];e[t]=m,e[t+1]=g,e[t+2]=y,e[t+3]=v},keySize:8}),e.AES=t._createHelper(p),e.AES},e.exports=i(n(645),n(15),n(673),n(539),n(866))},733:function(e,t,n){var r,i,s;r=0,i=function(e){return!function(){var t=e.lib.BlockCipher,n=e.algo;let r=[0x243f6a88,0x85a308d3,0x13198a2e,0x3707344,0xa4093822,0x299f31d0,0x82efa98,0xec4e6c89,0x452821e6,0x38d01377,0xbe5466cf,0x34e90c6c,0xc0ac29b7,0xc97c50dd,0x3f84d5b5,0xb5470917,0x9216d5d9,0x8979fb1b],i=[[0xd1310ba6,0x98dfb5ac,0x2ffd72db,0xd01adfb7,0xb8e1afed,0x6a267e96,0xba7c9045,0xf12c7f99,0x24a19947,0xb3916cf7,0x801f2e2,0x858efc16,0x636920d8,0x71574e69,0xa458fea3,0xf4933d7e,0xd95748f,0x728eb658,0x718bcd58,0x82154aee,0x7b54a41d,0xc25a59b5,0x9c30d539,0x2af26013,0xc5d1b023,0x286085f0,0xca417918,0xb8db38ef,0x8e79dcb0,0x603a180e,0x6c9e0e8b,0xb01e8a3e,0xd71577c1,0xbd314b27,0x78af2fda,0x55605c60,0xe65525f3,0xaa55ab94,0x57489862,0x63e81440,0x55ca396a,0x2aab10b6,0xb4cc5c34,0x1141e8ce,0xa15486af,0x7c72e993,0xb3ee1411,0x636fbc2a,0x2ba9c55d,0x741831f6,0xce5c3e16,0x9b87931e,0xafd6ba33,0x6c24cf5c,0x7a325381,0x28958677,0x3b8f4898,0x6b4bb9af,0xc4bfe81b,0x66282193,0x61d809cc,0xfb21a991,0x487cac60,0x5dec8032,0xef845d5d,0xe98575b1,0xdc262302,0xeb651b88,0x23893e81,0xd396acc5,0xf6d6ff3,0x83f44239,0x2e0b4482,0xa4842004,0x69c8f04a,0x9e1f9b5e,0x21c66842,0xf6e96c9a,0x670c9c61,0xabd388f0,0x6a51a0d2,0xd8542f68,0x960fa728,0xab5133a3,0x6eef0b6c,0x137a3be4,0xba3bf050,0x7efb2a98,0xa1f1651d,0x39af0176,0x66ca593e,0x82430e88,0x8cee8619,0x456f9fb4,0x7d84a5c3,0x3b8b5ebe,0xe06f75d8,0x85c12073,0x401a449f,0x56c16aa6,0x4ed3aa62,0x363f7706,0x1bfedf72,0x429b023d,0x37d0d724,0xd00a1248,0xdb0fead3,0x49f1c09b,0x75372c9,0x80991b7b,0x25d479d8,0xf6e8def7,0xe3fe501a,0xb6794c3b,0x976ce0bd,0x4c006ba,0xc1a94fb6,0x409f60c4,0x5e5c9ec2,0x196a2463,0x68fb6faf,0x3e6c53b5,0x1339b2eb,0x3b52ec6f,0x6dfc511f,0x9b30952c,0xcc814544,0xaf5ebd09,0xbee3d004,0xde334afd,0x660f2807,0x192e4bb3,0xc0cba857,0x45c8740f,0xd20b5f39,0xb9d3fbdb,0x5579c0bd,0x1a60320a,0xd6a100c6,0x402c7279,0x679f25fe,0xfb1fa3cc,0x8ea5e9f8,0xdb3222f8,0x3c7516df,0xfd616b15,0x2f501ec8,0xad0552ab,0x323db5fa,0xfd238760,0x53317b48,0x3e00df82,0x9e5c57bb,0xca6f8ca0,0x1a87562e,0xdf1769db,0xd542a8f6,0x287effc3,0xac6732c6,0x8c4f5573,0x695b27b0,0xbbca58c8,0xe1ffa35d,0xb8f011a0,0x10fa3d98,0xfd2183b8,0x4afcb56c,0x2dd1d35b,0x9a53e479,0xb6f84565,0xd28e49bc,0x4bfb9790,0xe1ddf2da,0xa4cb7e33,0x62fb1341,0xcee4c6e8,0xef20cada,0x36774c01,0xd07e9efe,0x2bf11fb4,0x95dbda4d,0xae909198,0xeaad8e71,0x6b93d5a0,0xd08ed1d0,0xafc725e0,0x8e3c5b2f,0x8e7594b7,0x8ff6e2fb,0xf2122b64,0x8888b812,0x900df01c,0x4fad5ea0,0x688fc31c,0xd1cff191,0xb3a8c1ad,0x2f2f2218,0xbe0e1777,0xea752dfe,0x8b021fa1,0xe5a0cc0f,0xb56f74e8,0x18acf3d6,0xce89e299,0xb4a84fe0,0xfd13e0b7,0x7cc43b81,0xd2ada8d9,0x165fa266,0x80957705,0x93cc7314,0x211a1477,0xe6ad2065,0x77b5fa86,0xc75442f5,0xfb9d35cf,0xebcdaf0c,0x7b3e89a0,0xd6411bd3,0xae1e7e49,2428461,0x2071b35e,0x226800bb,0x57b8e0af,0x2464369b,0xf009b91e,0x5563911d,0x59dfa6aa,0x78c14389,0xd95a537f,0x207d5ba2,0x2e5b9c5,0x83260376,0x6295cfa9,0x11c81968,0x4e734a41,0xb3472dca,0x7b14a94a,0x1b510052,0x9a532915,0xd60f573f,0xbc9bc6e4,0x2b60a476,0x81e67400,0x8ba6fb5,0x571be91f,0xf296ec6b,0x2a0dd915,0xb6636521,0xe7b9f9b6,0xff34052e,0xc5855664,0x53b02d5d,0xa99f8fa1,0x8ba4799,0x6e85076a],[0x4b7a70e9,0xb5b32944,0xdb75092e,0xc4192623,290971e4,0x49a7df7d,0x9cee60b8,0x8fedb266,0xecaa8c71,0x699a17ff,0x5664526c,0xc2b19ee1,0x193602a5,0x75094c29,0xa0591340,0xe4183a3e,0x3f54989a,0x5b429d65,0x6b8fe4d6,0x99f73fd6,0xa1d29c07,0xefe830f5,0x4d2d38e6,0xf0255dc1,0x4cdd2086,0x8470eb26,0x6382e9c6,0x21ecc5e,0x9686b3f,0x3ebaefc9,0x3c971814,0x6b6a70a1,0x687f3584,0x52a0e286,0xb79c5305,0xaa500737,0x3e07841c,0x7fdeae5c,0x8e7d44ec,0x5716f2b8,0xb03ada37,0xf0500c0d,0xf01c1f04,0x200b3ff,0xae0cf51a,0x3cb574b2,0x25837a58,0xdc0921bd,0xd19113f9,0x7ca92ff6,0x94324773,0x22f54701,0x3ae5e581,0x37c2dadc,0xc8b57634,0x9af3dda7,0xa9446146,0xfd0030e,0xecc8c73e,0xa4751e41,0xe238cd99,0x3bea0e2f,0x3280bba1,0x183eb331,0x4e548b38,0x4f6db908,0x6f420d03,0xf60a04bf,0x2cb81290,0x24977c79,0x5679b072,0xbcaf89af,0xde9a771f,0xd9930810,0xb38bae12,0xdccf3f2e,0x5512721f,0x2e6b7124,0x501adde6,0x9f84cd87,0x7a584718,0x7408da17,0xbc9f9abc,0xe94b7d8c,0xec7aec3a,0xdb851dfa,0x63094366,0xc464c3d2,0xef1c1847,0x3215d908,0xdd433b37,0x24c2ba16,0x12a14d43,0x2a65c451,0x50940002,0x133ae4dd,0x71dff89e,0x10314e55,0x81ac77d6,0x5f11199b,0x43556f1,0xd7a3c76b,0x3c11183b,0x5924a509,0xf28fe6ed,0x97f1fbfa,0x9ebabf2c,0x1e153c6e,0x86e34570,0xeae96fb1,0x860e5e0a,0x5a3e2ab3,0x771fe71c,0x4e3d06fa,0x2965dcb9,0x99e71d0f,0x803e89d6,0x5266c825,0x2e4cc978,0x9c10b36a,0xc6150eba,0x94e2ea78,0xa5fc3c53,0x1e0a2df4,0xf2f74ea7,0x361d2b3d,0x1939260f,0x19c27960,0x5223a708,0xf71312b6,0xebadfe6e,0xeac31f66,0xe3bc4595,0xa67bc883,0xb17f37d1,0x18cff28,0xc332ddef,0xbe6c5aa5,0x65582185,0x68ab9802,0xeecea50f,0xdb2f953b,0x2aef7dad,0x5b6e2f84,0x1521b628,0x29076170,0xecdd4775,0x619f1510,0x13cca830,0xeb61bd96,0x334fe1e,0xaa0363cf,0xb5735c90,0x4c70a239,0xd59e9e0b,0xcbaade14,0xeecc86bc,0x60622ca7,0x9cab5cab,0xb2f3846e,0x648b1eaf,0x19bdf0ca,0xa02369b9,0x655abb50,0x40685a32,0x3c2ab4b3,0x319ee9d5,0xc021b8f7,0x9b540b19,0x875fa099,0x95f7997e,0x623d7da8,0xf837889a,0x97e32d77,0x11ed935f,0x16681281,0xe358829,0xc7e61fd6,0x96dedfa1,0x7858ba99,0x57f584a5,0x1b227263,0x9b83c3ff,0x1ac24696,0xcdb30aeb,0x532e3054,0x8fd948e4,0x6dbc3128,0x58ebf2ef,0x34c6ffea,0xfe28ed61,0xee7c3c73,0x5d4a14d9,0xe864b7e3,0x42105d14,0x203e13e0,0x45eee2b6,0xa3aaabea,0xdb6c4f15,0xfacb4fd0,0xc742f442,0xef6abbb5,0x654f3b1d,0x41cd2105,0xd81e799e,0x86854dc7,0xe44b476a,0x3d816250,0xcf62a1f2,0x5b8d2646,0xfc8883a0,0xc1c7b6a3,0x7f1524c3,0x69cb7492,0x47848a0b,0x5692b285,0x95bbf00,0xad19489d,0x1462b174,0x23820e00,0x58428d2a,0xc55f5ea,0x1dadf43e,0x233f7061,0x3372f092,0x8d937e41,0xd65fecf1,0x6c223bdb,0x7cde3759,0xcbee7460,0x4085f2a7,0xce77326e,0xa6078084,0x19f8509e,0xe8efd855,0x61d99735,0xa969a7aa,0xc50c06c2,0x5a04abfc,0x800bcadc,0x9e447a2e,0xc3453484,0xfdd56705,0xe1e9ec9,0xdb73dbd3,0x105588cd,0x675fda79,0xe3674340,0xc5c43465,0x713e38d8,0x3d28f89e,0xf16dff20,0x153e21e7,0x8fb03d4a,0xe6e39f2b,0xdb83adf7],[0xe93d5a68,0x948140f7,0xf64c261c,0x94692934,0x411520f7,0x7602d4f7,0xbcf46b2e,0xd4a20068,0xd4082471,0x3320f46a,0x43b7d4b7,0x500061af,0x1e39f62e,0x97244546,0x14214f74,0xbf8b8840,0x4d95fc1d,0x96b591af,0x70f4ddd3,0x66a02f45,0xbfbc09ec,0x3bd9785,0x7fac6dd0,0x31cb8504,0x96eb27b3,0x55fd3941,0xda2547e6,0xabca0a9a,0x28507825,0x530429f4,0xa2c86da,0xe9b66dfb,0x68dc1462,0xd7486900,0x680ec0a4,0x27a18dee,0x4f3ffea2,0xe887ad8c,0xb58ce006,0x7af4d6b6,0xaace1e7c,0xd3375fec,0xce78a399,0x406b2a42,0x20fe9e35,0xd9f385b9,0xee39d7ab,0x3b124e8b,0x1dc9faf7,0x4b6d1856,0x26a36631,0xeae397b2,0x3a6efa74,0xdd5b4332,0x6841e7f7,0xca7820fb,0xfb0af54e,0xd8feb397,0x454056ac,0xba489527,0x55533a3a,0x20838d87,0xfe6ba9b7,0xd096954b,0x55a867bc,0xa1159a58,0xcca92963,0x99e1db33,0xa62a4a56,0x3f3125f9,0x5ef47e1c,0x9029317c,0xfdf8e802,0x4272f70,0x80bb155c,0x5282ce3,0x95c11548,0xe4c66d22,0x48c1133f,0xc70f86dc,0x7f9c9ee,0x41041f0f,0x404779a4,0x5d886e17,0x325f51eb,0xd59bc0d1,0xf2bcc18f,0x41113564,0x257b7834,0x602a9c60,0xdff8e8a3,0x1f636c1b,0xe12b4c2,0x2e1329e,0xaf664fd1,0xcad18115,0x6b2395e0,0x333e92e1,0x3b240b62,0xeebeb922,0x85b2a20e,0xe6ba0d99,0xde720c8c,0x2da2f728,0xd0127845,0x95b794fd,0x647d0862,0xe7ccf5f0,0x5449a36f,0x877d48fa,0xc39dfd27,0xf33e8d1e,0xa476341,0x992eff74,0x3a6f6eab,0xf4f8fd37,0xa812dc60,0xa1ebddf8,0x991be14c,0xdb6e6b0d,0xc67b5510,0x6d672c37,0x2765d43b,0xdcd0e804,0xf1290dc7,0xcc00ffa3,0xb5390f92,0x690fed0b,0x667b9ffb,0xcedb7d9c,0xa091cf0b,0xd9155ea3,0xbb132f88,0x515bad24,0x7b9479bf,0x763bd6eb,0x37392eb3,0xcc115979,0x8026e297,0xf42e312d,0x6842ada7,0xc66a2b3b,0x12754ccc,0x782ef11c,0x6a124237,0xb79251e7,0x6a1bbe6,0x4bfb6350,0x1a6b1018,0x11caedfa,0x3d25bdd8,0xe2e1c3c9,0x44421659,0xa121386,0xd90cec6e,0xd5abea2a,0x64af674e,0xda86a85f,0xbebfe988,0x64e4c3fe,0x9dbc8057,0xf0f7c086,0x60787bf8,0x6003604d,0xd1fd8346,0xf6381fb0,0x7745ae04,0xd736fccc,0x83426b33,0xf01eab71,0xb0804187,0x3c005e5f,0x77a057be,0xbde8ae24,0x55464299,0xbf582e61,0x4e58f48f,0xf2ddfda2,0xf474ef38,0x8789bdc2,0x5366f9c3,0xc8b38e74,0xb475f255,0x46fcd9b9,0x7aeb2661,0x8b1ddf84,0x846a0e79,0x915f95e2,0x466e598e,0x20b45770,0x8cd55591,0xc902de4c,0xb90bace1,0xbb8205d0,0x11a86248,0x7574a99e,0xb77f19b6,0xe0a9dc09,0x662d09a1,0xc4324633,0xe85a1f02,0x9f0be8c,0x4a99a025,0x1d6efe10,0x1ab93d1d,0xba5a4df,0xa186f20f,0x2868f169,0xdcb7da83,0x573906fe,0xa1e2ce9b,0x4fcd7f52,0x50115e01,0xa70683fa,0xa002b5c4,0xde6d027,0x9af88c27,0x773f8641,0xc3604c06,0x61a806b5,0xf0177a28,0xc0f586e0,6314154,0x30dc7d62,0x11e69ed7,0x2338ea63,0x53c2dd94,0xc2c21634,0xbbcbee56,0x90bcb6de,0xebfc7da1,0xce591d76,0x6f05e409,0x4b7c0188,0x39720a3d,0x7c927c24,0x86e3725f,0x724d9db9,0x1ac15bb4,0xd39eb8fc,0xed545578,0x8fca5b5,0xd83d7cd3,0x4dad0fc4,0x1e50ef5e,0xb161e6f8,0xa28514d9,0x6c51133c,0x6fd5c7e7,0x56e14ec4,0x362abfce,0xddc6c837,0xd79a3234,0x92638212,0x670efa8e,0x406000e0],[0x3a39ce37,0xd3faf5cf,0xabc27737,0x5ac52d1b,0x5cb0679e,0x4fa33742,0xd3822740,0x99bc9bbe,0xd5118e9d,0xbf0f7315,0xd62d1c7e,0xc700c47b,0xb78c1b6b,0x21a19045,0xb26eb1be,0x6a366eb4,0x5748ab2f,0xbc946e79,0xc6a376d2,0x6549c2c8,0x530ff8ee,0x468dde7d,0xd5730a1d,0x4cd04dc6,0x2939bbdb,0xa9ba4650,0xac9526e8,0xbe5ee304,0xa1fad5f0,0x6a2d519a,0x63ef8ce2,0x9a86ee22,0xc089c2b8,0x43242ef6,0xa51e03aa,0x9cf2d0a4,0x83c061ba,0x9be96a4d,0x8fe51550,0xba645bd6,0x2826a2f9,0xa73a3ae1,0x4ba99586,0xef5562e9,0xc72fefd3,0xf752f7da,0x3f046f69,0x77fa0a59,0x80e4a915,0x87b08601,0x9b09e6ad,0x3b3ee593,0xe990fd5a,0x9e34d797,0x2cf0b7d9,0x22b8b51,0x96d5ac3a,0x17da67d,0xd1cf3ed6,0x7c7d2d28,0x1f9f25cf,0xadf2b89b,0x5ad6b472,0x5a88f54c,0xe029ac71,0xe019a5e6,0x47b0acfd,0xed93fa9b,0xe8d3c48d,0x283b57cc,0xf8d56629,0x79132e28,0x785f0191,0xed756055,0xf7960e44,0xe3d35e8c,0x15056dd4,0x88f46dba,0x3a16125,0x564f0bd,0xc3eb9e15,0x3c9057a2,0x97271aec,0xa93a072a,0x1b3f6d9b,0x1e6321f5,0xf59c66fb,0x26dcf319,0x7533d928,0xb155fdf5,0x3563482,0x8aba3cbb,0x28517711,0xc20ad9f8,0xabcc5167,0xccad925f,0x4de81751,0x3830dc8e,0x379d5862,0x9320f991,0xea7a90c2,0xfb3e7bce,0x5121ce64,0x774fbe32,0xa8b6e37e,0xc3293d46,0x48de5369,0x6413e680,0xa2ae0810,0xdd6db224,0x69852dfd,0x9072166,0xb39a460a,0x6445c0dd,0x586cdecf,0x1c20c8ae,0x5bbef7dd,0x1b588d40,0xccd2017f,0x6bb4e3bb,0xdda26a7e,0x3a59ff45,0x3e350a44,0xbcb4cdd5,0x72eacea8,0xfa6484bb,0x8d6612ae,0xbf3c6f47,0xd29be463,0x542f5d9e,0xaec2771b,0xf64e6370,0x740e0d8d,0xe75b1357,0xf8721671,0xaf537d5d,0x4040cb08,0x4eb4e2cc,0x34d2466a,0x115af84,3786409e3,0x95983a1d,0x6b89fb4,0xce6ea048,0x6f3f3b82,0x3520ab82,0x11a1d4b,0x277227f8,0x611560b1,0xe7933fdc,0xbb3a792b,0x344525bd,0xa08839e1,0x51ce794b,0x2f32c9b7,0xa01fbac9,0xe01cc87e,0xbcc7d1f6,0xcf0111c3,0xa1e8aac7,0x1a908749,0xd44fbd9a,0xd0dadecb,0xd50ada38,0x339c32a,0xc6913667,0x8df9317c,0xe0b12b4f,0xf79e59b7,0x43f5bb3a,0xf2d519ff,0x27d9459c,0xbf97222c,0x15e6fc2a,0xf91fc71,0x9b941525,0xfae59361,0xceb69ceb,0xc2a86459,0x12baa8d1,0xb6c1075e,0xe3056a0c,0x10d25065,0xcb03a442,0xe0ec6e0e,0x1698db3b,0x4c98a0be,0x3278e964,0x9f1f9532,0xe0d392df,0xd3a0342b,0x8971f21e,0x1b0a7441,0x4ba3348c,0xc5be7120,0xc37632d8,0xdf359f8d,0x9b992f2e,0xe60b6f47,0xfe3f11d,0xe54cda54,0x1edad891,0xce6279cf,0xcd3e7e6f,0x1618b166,0xfd2c1d05,0x848fd2c5,0xf6fb2299,0xf523f357,0xa6327623,0x93a83531,0x56cccd02,0xacf08162,0x5a75ebb5,0x6e163697,0x88d273cc,0xde966292,0x81b949d0,0x4c50901b,0x71c65614,0xe6c6c7bd,0x327a140a,0x45e1d006,0xc3f27b9a,0xc9aa53fd,0x62a80f00,0xbb25bfe2,0x35bdd2f6,0x71126905,0xb2040222,0xb6cbcf7c,0xcd769c2b,0x53113ec0,0x1640e3d3,0x38abbd60,0x2547adf0,0xba38209c,0xf746ce76,0x77afa1c5,0x20756060,0x85cbfe4e,0x8ae88dd8,0x7aaaf9b0,0x4cf9aa7e,0x1948c25c,0x2fb8a8c,0x1c36ae4,0xd6ebe1f9,0x90d4f869,0xa65cdea0,0x3f09252d,0xc208e69f,0xb74e6132,0xce77e25b,0x578fdfe3,0x3ac372e6]];var s={pbox:[],sbox:[]};function a(e,t){let n=e.sbox[0][t>>24&255]+e.sbox[1][t>>16&255];return n^=e.sbox[2][t>>8&255],n+=e.sbox[3][255&t]}function o(e,t,n){let r,i=t,s=n;for(let t=0;t<16;++t)i^=e.pbox[t],s=a(e,i)^s,r=i,i=s,s=r;return r=i,i=s,s=r^e.pbox[16],{left:i^=e.pbox[17],right:s}}var l=n.Blowfish=t.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var e=this._keyPriorReset=this._key;!function(e,t,n){for(let t=0;t<4;t++){e.sbox[t]=[];for(let n=0;n<256;n++)e.sbox[t][n]=i[t][n]}let s=0;for(let i=0;i<18;i++)e.pbox[i]=r[i]^t[s],++s>=n&&(s=0);let a=0,l=0,u=0;for(let t=0;t<18;t+=2)a=(u=o(e,a,l)).left,l=u.right,e.pbox[t]=a,e.pbox[t+1]=l;for(let t=0;t<4;t++)for(let n=0;n<256;n+=2)a=(u=o(e,a,l)).left,l=u.right,e.sbox[t][n]=a,e.sbox[t][n+1]=l;}(s,e.words,e.sigBytes/4)}},encryptBlock:function(e,t){var n=o(s,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},decryptBlock:function(e,t){var n=function(e,t,n){let r,i=t,s=n;for(let t=17;t>1;--t)i^=e.pbox[t],s=a(e,i)^s,r=i,i=s,s=r;return r=i,i=s,s=r^e.pbox[1],{left:i^=e.pbox[0],right:s}}(s,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},blockSize:2,keySize:4,ivSize:2});e.Blowfish=t._createHelper(l)}(),e.Blowfish},e.exports=i(n(645),n(15),n(673),n(539),n(866))},866:function(e,t,n){var r,i,s;r=0,i=function(e){var t,n,r,i,s,a,o,l,u,c,h,d,f,p,m,g,y,v;e.lib.Cipher||(r=(n=e.lib).Base,i=n.WordArray,s=n.BufferedBlockAlgorithm,(a=e.enc).Utf8,o=a.Base64,l=e.algo.EvpKDF,u=n.Cipher=s.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?v:g}return function(t){return{encrypt:function(n,r,i){return e(r).encrypt(t,n,r,i)},decrypt:function(n,r,i){return e(r).decrypt(t,n,r,i)}}}}()}),n.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),c=e.mode={},h=n.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),d=c.CBC=function(){var e=h.extend();function t(e,t,n){var r,i=this._iv;i?(r=i,this._iv=void 0):r=this._prevBlock;for(var s=0;s<n;s++)e[t+s]^=r[s]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize;t.call(this,e,n,i),r.encryptBlock(e,n),this._prevBlock=e.slice(n,n+i)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,s=e.slice(n,n+i);r.decryptBlock(e,n),t.call(this,e,n,i),this._prevBlock=s}}),e}(),f=(e.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,s=r<<24|r<<16|r<<8|r,a=[],o=0;o<r;o+=4)a.push(s);var l=i.create(a,r);e.concat(l)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},n.BlockCipher=u.extend({cfg:u.cfg.extend({mode:d,padding:f}),reset:function(){u.reset.call(this);var e,t=this.cfg,n=t.iv,r=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=r.createEncryptor:(e=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(r,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),p=n.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),m=(e.format={}).OpenSSL={stringify:function(e){var t,n=e.ciphertext,r=e.salt;return(t=r?i.create([0x53616c74,0x65645f5f]).concat(r).concat(n):n).toString(o)},parse:function(e){var t,n=o.parse(e),r=n.words;return 0x53616c74==r[0]&&0x65645f5f==r[1]&&(t=i.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),p.create({ciphertext:n,salt:t})}},g=n.SerializableCipher=r.extend({cfg:r.extend({format:m}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r),s=i.finalize(t),a=i.cfg;return p.create({ciphertext:s,key:n,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),y=(e.kdf={}).OpenSSL={execute:function(e,t,n,r,s){if(!r&&(r=i.random(8)),s)var a=l.create({keySize:t+n,hasher:s}).compute(e,r);else var a=l.create({keySize:t+n}).compute(e,r);var o=i.create(a.words.slice(t),4*n);return a.sigBytes=4*t,p.create({key:a,iv:o,salt:r})}},v=n.PasswordBasedCipher=g.extend({cfg:g.cfg.extend({kdf:y}),encrypt:function(e,t,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize,r.salt,r.hasher);r.iv=i.iv;var s=g.encrypt.call(this,e,t,i.key,r);return s.mixIn(i),s},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=r.kdf.execute(n,e.keySize,e.ivSize,t.salt,r.hasher);return r.iv=i.iv,g.decrypt.call(this,e,t,i.key,r)}}))},e.exports=i(n(645),n(539))},645:function(e,t,n){var r,i;r=0,i=function(){var e=e||function(e,t){if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==n.g&&n.g.crypto&&(r=n.g.crypto),!r)try{r=n(955)}catch(e){}var r,i=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),a={},o=a.lib={},l=o.Base={extend:function(e){var t=s(this);return e&&t.mixIn(e),(!t.hasOwnProperty("init")||this.init===t.init)&&(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=o.WordArray=l.extend({init:function(e,n){e=this.words=e||[],t!=n?this.sigBytes=n:this.sigBytes=4*e.length},toString:function(e){return(e||h).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var s=0;s<i;s++){var a=n[s>>>2]>>>24-s%4*8&255;t[r+s>>>2]|=a<<24-(r+s)%4*8}else for(var o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=0xffffffff<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=l.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new u.init(t,e)}}),c=a.enc={},h=c.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var s=t[i>>>2]>>>24-i%4*8&255;r.push((s>>>4).toString(16)),r.push((15&s).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new u.init(n,t/2)}},d=c.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var s=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(s))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new u.init(n,t)}},f=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},p=o.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,s=r.sigBytes,a=this.blockSize,o=s/(4*a),l=(o=t?e.ceil(o):e.max((0|o)-this._minBufferSize,0))*a,c=e.min(4*l,s);if(l){for(var h=0;h<l;h+=a)this._doProcessBlock(i,h);n=i.splice(0,l),r.sigBytes-=c}return new u.init(n,c)},clone:function(){var e=l.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});o.Hasher=p.extend({cfg:l.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new m.HMAC.init(e,n).finalize(t)}}});var m=a.algo={};return a}(Math);return e},e.exports=i()},15:function(e,t,n){var r,i;r=0,i=function(e){var t;return t=e.lib.WordArray,e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],s=0;s<n;s+=3){for(var a=(t[s>>>2]>>>24-s%4*8&255)<<16|(t[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|t[s+2>>>2]>>>24-(s+2)%4*8&255,o=0;o<4&&s+.75*o<n;o++)i.push(r.charAt(a>>>6*(3-o)&63))}var l=r.charAt(64);if(l)for(;i.length%4;)i.push(l);return i.join("")},parse:function(e){var n=e.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var s=0;s<r.length;s++)i[r.charCodeAt(s)]=s}var a=r.charAt(64);if(a){var o=e.indexOf(a);-1!==o&&(n=o)}return function(e,n,r){for(var i=[],s=0,a=0;a<n;a++)if(a%4){var o=r[e.charCodeAt(a-1)]<<a%4*2|r[e.charCodeAt(a)]>>>6-a%4*2;i[s>>>2]|=o<<24-s%4*8,s++}return t.create(i,s)}(e,n,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.enc.Base64},e.exports=i(n(645))},233:function(e,t,n){var r,i;r=0,i=function(e){var t;return t=e.lib.WordArray,e.enc.Base64url={stringify:function(e,t){void 0===t&&(t=!0);var n=e.words,r=e.sigBytes,i=t?this._safe_map:this._map;e.clamp();for(var s=[],a=0;a<r;a+=3){for(var o=(n[a>>>2]>>>24-a%4*8&255)<<16|(n[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|n[a+2>>>2]>>>24-(a+2)%4*8&255,l=0;l<4&&a+.75*l<r;l++)s.push(i.charAt(o>>>6*(3-l)&63))}var u=i.charAt(64);if(u)for(;s.length%4;)s.push(u);return s.join("")},parse:function(e,n){void 0===n&&(n=!0);var r=e.length,i=n?this._safe_map:this._map,s=this._reverseMap;if(!s){s=this._reverseMap=[];for(var a=0;a<i.length;a++)s[i.charCodeAt(a)]=a}var o=i.charAt(64);if(o){var l=e.indexOf(o);-1!==l&&(r=l)}return function(e,n,r){for(var i=[],s=0,a=0;a<n;a++)if(a%4){var o=r[e.charCodeAt(a-1)]<<a%4*2|r[e.charCodeAt(a)]>>>6-a%4*2;i[s>>>2]|=o<<24-s%4*8,s++}return t.create(i,s)}(e,r,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},e.enc.Base64url},e.exports=i(n(645))},686:function(e,t,n){var r,i;r=0,i=function(e){return!function(){var t=e.lib.WordArray,n=e.enc;function r(e){return e<<8&0xff00ff00|e>>>8&0xff00ff}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i+=2){var s=t[i>>>2]>>>16-i%4*8&65535;r.push(String.fromCharCode(s))}return r.join("")},parse:function(e){for(var n=e.length,r=[],i=0;i<n;i++)r[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return t.create(r,2*n)}},n.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],s=0;s<n;s+=2){var a=r(t[s>>>2]>>>16-s%4*8&65535);i.push(String.fromCharCode(a))}return i.join("")},parse:function(e){for(var n=e.length,i=[],s=0;s<n;s++)i[s>>>1]|=r(e.charCodeAt(s)<<16-s%2*16);return t.create(i,2*n)}}}(),e.enc.Utf16},e.exports=i(n(645))},539:function(e,t,n){var r,i,s;r=0,i=function(e){var t,n,r,i,s,a;return n=(t=e.lib).Base,r=t.WordArray,s=(i=e.algo).MD5,a=i.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,i=this.cfg,s=i.hasher.create(),a=r.create(),o=a.words,l=i.keySize,u=i.iterations;o.length<l;){n&&s.update(n),n=s.update(e).finalize(t),s.reset();for(var c=1;c<u;c++)n=s.finalize(n),s.reset();a.concat(n)}return a.sigBytes=4*l,a}}),e.EvpKDF=function(e,t,n){return a.create(n).compute(e,t)},e.EvpKDF},e.exports=i(n(645),n(301),n(137))},496:function(e,t,n){var r,i,s;r=0,i=function(e){var t,n,r;return n=e.lib.CipherParams,r=e.enc.Hex,e.format.Hex={stringify:function(e){return e.ciphertext.toString(r)},parse:function(e){var t=r.parse(e);return n.create({ciphertext:t})}},e.format.Hex},e.exports=i(n(645),n(866))},137:function(e,t,n){var r,i;r=0,i=function(e){var t,n;t=e.lib.Base,n=e.enc.Utf8,e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var r=e.blockSize,i=4*r;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var s=this._oKey=t.clone(),a=this._iKey=t.clone(),o=s.words,l=a.words,u=0;u<r;u++)o[u]^=0x5c5c5c5c,l[u]^=0x36363636;s.sigBytes=a.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})},e.exports=i(n(645))},311:function(e,t,n){var r,i,s;r=0,i=function(e){return e},e.exports=i(n(645),n(320),n(262),n(686),n(15),n(233),n(673),n(301),n(994),n(836),n(605),n(613),n(660),n(62),n(137),n(345),n(539),n(866),n(809),n(531),n(42),n(722),n(208),n(144),n(775),n(966),n(346),n(691),n(496),n(504),n(364),n(517),n(948),n(630),n(733))},262:function(e,t,n){var r,i;r=0,i=function(e){return!function(){if("function"==typeof ArrayBuffer){var t=e.lib.WordArray,n=t.init;(t.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,r=[],i=0;i<t;i++)r[i>>>2]|=e[i]<<24-i%4*8;n.call(this,r,t)}else n.apply(this,arguments)}).prototype=t}}(),e.lib.WordArray},e.exports=i(n(645))},673:function(e,t,n){var r,i;r=0,i=function(e){return!function(t){var n=e.lib,r=n.WordArray,i=n.Hasher,s=e.algo,a=[];!function(){for(var e=0;e<64;e++)a[e]=0x100000000*t.abs(t.sin(e+1))|0}();var o=s.MD5=i.extend({_doReset:function(){this._hash=new r.init([0x67452301,0xefcdab89,0x98badcfe,0x10325476])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=(i<<8|i>>>24)&0xff00ff|(i<<24|i>>>8)&0xff00ff00}var s=this._hash.words,o=e[t+0],d=e[t+1],f=e[t+2],p=e[t+3],m=e[t+4],g=e[t+5],y=e[t+6],v=e[t+7],x=e[t+8],b=e[t+9],w=e[t+10],_=e[t+11],S=e[t+12],I=e[t+13],E=e[t+14],k=e[t+15],T=s[0],C=s[1],A=s[2],N=s[3];T=l(T,C,A,N,o,7,a[0]),N=l(N,T,C,A,d,12,a[1]),A=l(A,N,T,C,f,17,a[2]),C=l(C,A,N,T,p,22,a[3]),T=l(T,C,A,N,m,7,a[4]),N=l(N,T,C,A,g,12,a[5]),A=l(A,N,T,C,y,17,a[6]),C=l(C,A,N,T,v,22,a[7]),T=l(T,C,A,N,x,7,a[8]),N=l(N,T,C,A,b,12,a[9]),A=l(A,N,T,C,w,17,a[10]),C=l(C,A,N,T,_,22,a[11]),T=l(T,C,A,N,S,7,a[12]),N=l(N,T,C,A,I,12,a[13]),A=l(A,N,T,C,E,17,a[14]),C=l(C,A,N,T,k,22,a[15]),T=u(T,C,A,N,d,5,a[16]),N=u(N,T,C,A,y,9,a[17]),A=u(A,N,T,C,_,14,a[18]),C=u(C,A,N,T,o,20,a[19]),T=u(T,C,A,N,g,5,a[20]),N=u(N,T,C,A,w,9,a[21]),A=u(A,N,T,C,k,14,a[22]),C=u(C,A,N,T,m,20,a[23]),T=u(T,C,A,N,b,5,a[24]),N=u(N,T,C,A,E,9,a[25]),A=u(A,N,T,C,p,14,a[26]),C=u(C,A,N,T,x,20,a[27]),T=u(T,C,A,N,I,5,a[28]),N=u(N,T,C,A,f,9,a[29]),A=u(A,N,T,C,v,14,a[30]),C=u(C,A,N,T,S,20,a[31]),T=c(T,C,A,N,g,4,a[32]),N=c(N,T,C,A,x,11,a[33]),A=c(A,N,T,C,_,16,a[34]),C=c(C,A,N,T,E,23,a[35]),T=c(T,C,A,N,d,4,a[36]),N=c(N,T,C,A,m,11,a[37]),A=c(A,N,T,C,v,16,a[38]),C=c(C,A,N,T,w,23,a[39]),T=c(T,C,A,N,I,4,a[40]),N=c(N,T,C,A,o,11,a[41]),A=c(A,N,T,C,p,16,a[42]),C=c(C,A,N,T,y,23,a[43]),T=c(T,C,A,N,b,4,a[44]),N=c(N,T,C,A,S,11,a[45]),A=c(A,N,T,C,k,16,a[46]),C=c(C,A,N,T,f,23,a[47]),T=h(T,C,A,N,o,6,a[48]),N=h(N,T,C,A,v,10,a[49]),A=h(A,N,T,C,E,15,a[50]),C=h(C,A,N,T,g,21,a[51]),T=h(T,C,A,N,S,6,a[52]),N=h(N,T,C,A,p,10,a[53]),A=h(A,N,T,C,w,15,a[54]),C=h(C,A,N,T,d,21,a[55]),T=h(T,C,A,N,x,6,a[56]),N=h(N,T,C,A,k,10,a[57]),A=h(A,N,T,C,y,15,a[58]),C=h(C,A,N,T,I,21,a[59]),T=h(T,C,A,N,m,6,a[60]),N=h(N,T,C,A,_,10,a[61]),A=h(A,N,T,C,f,15,a[62]),C=h(C,A,N,T,b,21,a[63]),s[0]=s[0]+T|0,s[1]=s[1]+C|0,s[2]=s[2]+A|0,s[3]=s[3]+N|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;n[i>>>5]|=128<<24-i%32;var s=t.floor(r/0x100000000);n[(i+64>>>9<<4)+15]=(s<<8|s>>>24)&0xff00ff|(s<<24|s>>>8)&0xff00ff00,n[(i+64>>>9<<4)+14]=(r<<8|r>>>24)&0xff00ff|(r<<24|r>>>8)&0xff00ff00,e.sigBytes=(n.length+1)*4,this._process();for(var a=this._hash,o=a.words,l=0;l<4;l++){var u=o[l];o[l]=(u<<8|u>>>24)&0xff00ff|(u<<24|u>>>8)&0xff00ff00}return a},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function l(e,t,n,r,i,s,a){var o=e+(t&n|~t&r)+i+a;return(o<<s|o>>>32-s)+t}function u(e,t,n,r,i,s,a){var o=e+(t&r|n&~r)+i+a;return(o<<s|o>>>32-s)+t}function c(e,t,n,r,i,s,a){var o=e+(t^n^r)+i+a;return(o<<s|o>>>32-s)+t}function h(e,t,n,r,i,s,a){var o=e+(n^(t|~r))+i+a;return(o<<s|o>>>32-s)+t}e.MD5=i._createHelper(o),e.HmacMD5=i._createHmacHelper(o)}(Math),e.MD5},e.exports=i(n(645))},809:function(e,t,n){var r,i,s;r=0,i=function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();function n(e,t,n,r){var i,s=this._iv;s?(i=s.slice(0),this._iv=void 0):i=this._prevBlock,r.encryptBlock(i,0);for(var a=0;a<n;a++)e[t+a]^=i[a]}return t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize;n.call(this,e,t,i,r),this._prevBlock=e.slice(t,t+i)}}),t.Decryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,s=e.slice(t,t+i);n.call(this,e,t,i,r),this._prevBlock=s}}),t}(),e.mode.CFB},e.exports=i(n(645),n(866))},42:function(e,t,n){var r,i,s;r=0,i=function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function n(e){if((e>>24&255)==255){var t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0+(t<<16)+(n<<8)+r}else e+=0x1000000;return e}var r=t.Encryptor=t.extend({processBlock:function(e,t){var r,i=this._cipher,s=i.blockSize,a=this._iv,o=this._counter;a&&(o=this._counter=a.slice(0),this._iv=void 0),0===((r=o)[0]=n(r[0]))&&(r[1]=n(r[1]));var l=o.slice(0);i.encryptBlock(l,0);for(var u=0;u<s;u++)e[t+u]^=l[u]}});return t.Decryptor=r,t}(),e.mode.CTRGladman},e.exports=i(n(645),n(866))},531:function(e,t,n){var r,i,s;r=0,i=function(e){var t,n;return e.mode.CTR=(n=(t=e.lib.BlockCipherMode.extend()).Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,s=this._counter;i&&(s=this._counter=i.slice(0),this._iv=void 0);var a=s.slice(0);n.encryptBlock(a,0),s[r-1]=s[r-1]+1|0;for(var o=0;o<r;o++)e[t+o]^=a[o]}}),t.Decryptor=n,t),e.mode.CTR},e.exports=i(n(645),n(866))},208:function(e,t,n){var r,i,s;r=0,i=function(e){var t;return e.mode.ECB=((t=e.lib.BlockCipherMode.extend()).Encryptor=t.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),t.Decryptor=t.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),t),e.mode.ECB},e.exports=i(n(645),n(866))},722:function(e,t,n){var r,i,s;r=0,i=function(e){var t,n;return e.mode.OFB=(n=(t=e.lib.BlockCipherMode.extend()).Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,s=this._keystream;i&&(s=this._keystream=i.slice(0),this._iv=void 0),n.encryptBlock(s,0);for(var a=0;a<r;a++)e[t+a]^=s[a]}}),t.Decryptor=n,t),e.mode.OFB},e.exports=i(n(645),n(866))},144:function(e,t,n){var r,i,s;r=0,i=function(e){return e.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,r=4*t,i=r-n%r,s=n+i-1;e.clamp(),e.words[s>>>2]|=i<<24-s%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Ansix923},e.exports=i(n(645),n(866))},775:function(e,t,n){var r,i,s;r=0,i=function(e){return e.pad.Iso10126={pad:function(t,n){var r=4*n,i=r-t.sigBytes%r;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126},e.exports=i(n(645),n(866))},966:function(e,t,n){var r,i,s;r=0,i=function(e){return e.pad.Iso97971={pad:function(t,n){t.concat(e.lib.WordArray.create([0x80000000],1)),e.pad.ZeroPadding.pad(t,n)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971},e.exports=i(n(645),n(866))},691:function(e,t,n){var r,i,s;r=0,i=function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding},e.exports=i(n(645),n(866))},346:function(e,t,n){var r,i,s;r=0,i=function(e){return e.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){for(var t=e.words,n=e.sigBytes-1,n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},e.pad.ZeroPadding},e.exports=i(n(645),n(866))},345:function(e,t,n){var r,i,s;r=0,i=function(e){var t,n,r,i,s,a,o;return n=(t=e.lib).Base,r=t.WordArray,s=(i=e.algo).SHA256,a=i.HMAC,o=i.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:s,iterations:25e4}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,i=a.create(n.hasher,e),s=r.create(),o=r.create([1]),l=s.words,u=o.words,c=n.keySize,h=n.iterations;l.length<c;){var d=i.update(t).finalize(o);i.reset();for(var f=d.words,p=f.length,m=d,g=1;g<h;g++){m=i.finalize(m),i.reset();for(var y=m.words,v=0;v<p;v++)f[v]^=y[v]}s.concat(d),u[0]++}return s.sigBytes=4*c,s}}),e.PBKDF2=function(e,t,n){return o.create(n).compute(e,t)},e.PBKDF2},e.exports=i(n(645),n(994),n(137))},630:function(e,t,n){var r,i,s;r=0,i=function(e){return!function(){var t=e.lib.StreamCipher,n=e.algo,r=[],i=[],s=[],a=n.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,0xffff0000&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,0xffff0000&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,0xffff0000&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,0xffff0000&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)o.call(this);for(var i=0;i<8;i++)r[i]^=n[i+4&7];if(t){var s=t.words,a=s[0],l=s[1],u=(a<<8|a>>>24)&0xff00ff|(a<<24|a>>>8)&0xff00ff00,c=(l<<8|l>>>24)&0xff00ff|(l<<24|l>>>8)&0xff00ff00,h=u>>>16|0xffff0000&c,d=c<<16|65535&u;r[0]^=u,r[1]^=h,r[2]^=c,r[3]^=d,r[4]^=u,r[5]^=h,r[6]^=c,r[7]^=d;for(var i=0;i<4;i++)o.call(this)}},_doProcessBlock:function(e,t){var n=this._X;o.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)r[i]=(r[i]<<8|r[i]>>>24)&0xff00ff|(r[i]<<24|r[i]>>>8)&0xff00ff00,e[t+i]^=r[i]},blockSize:4,ivSize:2});function o(){for(var e=this._X,t=this._C,n=0;n<8;n++)i[n]=t[n];t[0]=t[0]+0x4d34d34d+this._b|0,t[1]=t[1]+0xd34d34d3+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+0x34d34d34+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+0x4d34d34d+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+0xd34d34d3+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+0x34d34d34+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+0x4d34d34d+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+0xd34d34d3+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0;for(var n=0;n<8;n++){var r=e[n]+t[n],a=65535&r,o=r>>>16,l=((a*a>>>17)+a*o>>>15)+o*o,u=((0xffff0000&r)*r|0)+((65535&r)*r|0);s[n]=l^u}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}e.RabbitLegacy=t._createHelper(a)}(),e.RabbitLegacy},e.exports=i(n(645),n(15),n(673),n(539),n(866))},948:function(e,t,n){var r,i,s;r=0,i=function(e){return!function(){var t=e.lib.StreamCipher,n=e.algo,r=[],i=[],s=[],a=n.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=(e[n]<<8|e[n]>>>24)&0xff00ff|(e[n]<<24|e[n]>>>8)&0xff00ff00;var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,0xffff0000&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,0xffff0000&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,0xffff0000&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,0xffff0000&e[3]|65535&e[0]];this._b=0;for(var n=0;n<4;n++)o.call(this);for(var n=0;n<8;n++)i[n]^=r[n+4&7];if(t){var s=t.words,a=s[0],l=s[1],u=(a<<8|a>>>24)&0xff00ff|(a<<24|a>>>8)&0xff00ff00,c=(l<<8|l>>>24)&0xff00ff|(l<<24|l>>>8)&0xff00ff00,h=u>>>16|0xffff0000&c,d=c<<16|65535&u;i[0]^=u,i[1]^=h,i[2]^=c,i[3]^=d,i[4]^=u,i[5]^=h,i[6]^=c,i[7]^=d;for(var n=0;n<4;n++)o.call(this)}},_doProcessBlock:function(e,t){var n=this._X;o.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var i=0;i<4;i++)r[i]=(r[i]<<8|r[i]>>>24)&0xff00ff|(r[i]<<24|r[i]>>>8)&0xff00ff00,e[t+i]^=r[i]},blockSize:4,ivSize:2});function o(){for(var e=this._X,t=this._C,n=0;n<8;n++)i[n]=t[n];t[0]=t[0]+0x4d34d34d+this._b|0,t[1]=t[1]+0xd34d34d3+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+0x34d34d34+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+0x4d34d34d+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+0xd34d34d3+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+0x34d34d34+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+0x4d34d34d+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+0xd34d34d3+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0;for(var n=0;n<8;n++){var r=e[n]+t[n],a=65535&r,o=r>>>16,l=((a*a>>>17)+a*o>>>15)+o*o,u=((0xffff0000&r)*r|0)+((65535&r)*r|0);s[n]=l^u}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}e.Rabbit=t._createHelper(a)}(),e.Rabbit},e.exports=i(n(645),n(15),n(673),n(539),n(866))},517:function(e,t,n){var r,i,s;r=0,i=function(e){return!function(){var t=e.lib.StreamCipher,n=e.algo,r=n.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,r=this._S=[],i=0;i<256;i++)r[i]=i;for(var i=0,s=0;i<256;i++){var a=i%n,o=t[a>>>2]>>>24-a%4*8&255;s=(s+r[i]+o)%256;var l=r[i];r[i]=r[s],r[s]=l}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=i.call(this)},keySize:8,ivSize:0});function i(){for(var e=this._S,t=this._i,n=this._j,r=0,i=0;i<4;i++){n=(n+e[t=(t+1)%256])%256;var s=e[t];e[t]=e[n],e[n]=s,r|=e[(e[t]+e[n])%256]<<24-8*i}return this._i=t,this._j=n,r}e.RC4=t._createHelper(r);var s=n.RC4Drop=r.extend({cfg:r.cfg.extend({drop:192}),_doReset:function(){r._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)i.call(this)}});e.RC4Drop=t._createHelper(s)}(),e.RC4},e.exports=i(n(645),n(15),n(673),n(539),n(866))},62:function(e,t,n){var r,i;r=0,i=function(e){return!function(t){var n=e.lib,r=n.WordArray,i=n.Hasher,s=e.algo,a=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),o=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),c=r.create([0,0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xa953fd4e]),h=r.create([0x50a28be6,0x5c4dd124,0x6d703ef3,0x7a6d76e9,0]),d=s.RIPEMD160=i.extend({_doReset:function(){this._hash=r.create([0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0])},_doProcessBlock:function(e,t){for(var n,r,i,s,d,f,p,m,g,y,x,b=0;b<16;b++){var w=t+b,_=e[w];e[w]=(_<<8|_>>>24)&0xff00ff|(_<<24|_>>>8)&0xff00ff00}var S=this._hash.words,I=c.words,E=h.words,k=a.words,T=o.words,C=l.words,A=u.words;f=n=S[0],p=r=S[1],m=i=S[2],g=s=S[3],y=d=S[4];for(var b=0;b<80;b+=1)x=n+e[t+k[b]]|0,b<16?x+=function(e,t,n){return e^t^n}(r,i,s)+I[0]:b<32?x+=function(e,t,n){return e&t|~e&n}(r,i,s)+I[1]:b<48?x+=function(e,t,n){return(e|~t)^n}(r,i,s)+I[2]:b<64?x+=function(e,t,n){return e&n|t&~n}(r,i,s)+I[3]:x+=function(e,t,n){return e^(t|~n)}(r,i,s)+I[4],x|=0,x=(x=v(x,C[b]))+d|0,n=d,d=s,s=v(i,10),i=r,r=x,x=f+e[t+T[b]]|0,b<16?x+=function(e,t,n){return e^(t|~n)}(p,m,g)+E[0]:b<32?x+=function(e,t,n){return e&n|t&~n}(p,m,g)+E[1]:b<48?x+=function(e,t,n){return(e|~t)^n}(p,m,g)+E[2]:b<64?x+=function(e,t,n){return e&t|~e&n}(p,m,g)+E[3]:x+=function(e,t,n){return e^t^n}(p,m,g)+E[4],x|=0,x=(x=v(x,A[b]))+y|0,f=y,y=g,g=v(m,10),m=p,p=x;x=S[1]+i+g|0,S[1]=S[2]+s+y|0,S[2]=S[3]+d+f|0,S[3]=S[4]+n+p|0,S[4]=S[0]+r+m|0,S[0]=x},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[(r+64>>>9<<4)+14]=(n<<8|n>>>24)&0xff00ff|(n<<24|n>>>8)&0xff00ff00,e.sigBytes=(t.length+1)*4,this._process();for(var i=this._hash,s=i.words,a=0;a<5;a++){var o=s[a];s[a]=(o<<8|o>>>24)&0xff00ff|(o<<24|o>>>8)&0xff00ff00}return i},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function f(e,t,n){return e^t^n}function p(e,t,n){return e&t|~e&n}function m(e,t,n){return(e|~t)^n}function g(e,t,n){return e&n|t&~n}function y(e,t,n){return e^(t|~n)}function v(e,t){return e<<t|e>>>32-t}e.RIPEMD160=i._createHelper(d),e.HmacRIPEMD160=i._createHmacHelper(d)}(Math),e.RIPEMD160},e.exports=i(n(645))},301:function(e,t,n){var r,i;r=0,i=function(e){var t,n,r,i,s,a;return n=(t=e.lib).WordArray,r=t.Hasher,i=e.algo,s=[],a=i.SHA1=r.extend({_doReset:function(){this._hash=new n.init([0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],o=n[3],l=n[4],u=0;u<80;u++){if(u<16)s[u]=0|e[t+u];else{var c=s[u-3]^s[u-8]^s[u-14]^s[u-16];s[u]=c<<1|c>>>31}var h=(r<<5|r>>>27)+l+s[u];u<20?h+=(i&a|~i&o)+0x5a827999:u<40?h+=(i^a^o)+0x6ed9eba1:u<60?h+=(i&a|i&o|a&o)-0x70e44324:h+=(i^a^o)-0x359d3e2a,l=o,o=a,a=i<<30|i>>>2,i=r,r=h}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+a|0,n[3]=n[3]+o|0,n[4]=n[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[(r+64>>>9<<4)+14]=Math.floor(n/0x100000000),t[(r+64>>>9<<4)+15]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}}),e.SHA1=r._createHelper(a),e.HmacSHA1=r._createHmacHelper(a),e.SHA1},e.exports=i(n(645))},836:function(e,t,n){var r,i,s;r=0,i=function(e){var t,n,r,i;return t=e.lib.WordArray,r=(n=e.algo).SHA256,i=n.SHA224=r.extend({_doReset:function(){this._hash=new t.init([0xc1059ed8,0x367cd507,0x3070dd17,0xf70e5939,0xffc00b31,0x68581511,0x64f98fa7,0xbefa4fa4])},_doFinalize:function(){var e=r._doFinalize.call(this);return e.sigBytes-=4,e}}),e.SHA224=r._createHelper(i),e.HmacSHA224=r._createHmacHelper(i),e.SHA224},e.exports=i(n(645),n(994))},994:function(e,t,n){var r,i;r=0,i=function(e){var t,n,r,i,s,a,o,l,u;return t=Math,r=(n=e.lib).WordArray,i=n.Hasher,s=e.algo,a=[],o=[],function(){function e(e){return(e-(0|e))*0x100000000|0}for(var n=2,r=0;r<64;)(function(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return!1;return!0})(n)&&(r<8&&(a[r]=e(t.pow(n,.5))),o[r]=e(t.pow(n,1/3)),r++),n++}(),l=[],u=s.SHA256=i.extend({_doReset:function(){this._hash=new r.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],s=n[2],a=n[3],u=n[4],c=n[5],h=n[6],d=n[7],f=0;f<64;f++){if(f<16)l[f]=0|e[t+f];else{var p=l[f-15],m=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=l[f-2],y=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;l[f]=m+l[f-7]+y+l[f-16]}var v=u&c^~u&h,x=r&i^r&s^i&s,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=d+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+v+o[f]+l[f],_=b+x;d=h,h=c,c=u,u=a+w|0,a=s,s=i,i=r,r=w+_|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+s|0,n[3]=n[3]+a|0,n[4]=n[4]+u|0,n[5]=n[5]+c|0,n[6]=n[6]+h|0,n[7]=n[7]+d|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[(i+64>>>9<<4)+14]=t.floor(r/0x100000000),n[(i+64>>>9<<4)+15]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}}),e.SHA256=i._createHelper(u),e.HmacSHA256=i._createHmacHelper(u),e.SHA256},e.exports=i(n(645))},660:function(e,t,n){var r,i,s;r=0,i=function(e){var t,n,r,i,s,a,o,l,u,c,h;return t=Math,r=(n=e.lib).WordArray,i=n.Hasher,s=e.x64.Word,a=e.algo,o=[],l=[],u=[],function(){for(var e=1,t=0,n=0;n<24;n++){o[e+5*t]=(n+1)*(n+2)/2%64;var r=t%5,i=(2*e+3*t)%5;e=r,t=i}for(var e=0;e<5;e++)for(var t=0;t<5;t++)l[e+5*t]=t+(2*e+3*t)%5*5;for(var a=1,c=0;c<24;c++){for(var h=0,d=0,f=0;f<7;f++){if(1&a){var p=(1<<f)-1;p<32?d^=1<<p:h^=1<<p-32}128&a?a=a<<1^113:a<<=1}u[c]=s.create(h,d)}}(),c=[],function(){for(var e=0;e<25;e++)c[e]=s.create()}(),h=a.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,r=this.blockSize/2,i=0;i<r;i++){var s=e[t+2*i],a=e[t+2*i+1];s=(s<<8|s>>>24)&0xff00ff|(s<<24|s>>>8)&0xff00ff00,a=(a<<8|a>>>24)&0xff00ff|(a<<24|a>>>8)&0xff00ff00;var h=n[i];h.high^=a,h.low^=s}for(var d=0;d<24;d++){for(var f=0;f<5;f++){for(var p=0,m=0,g=0;g<5;g++){var h=n[f+5*g];p^=h.high,m^=h.low}var y=c[f];y.high=p,y.low=m}for(var f=0;f<5;f++){for(var v=c[(f+4)%5],x=c[(f+1)%5],b=x.high,w=x.low,p=v.high^(b<<1|w>>>31),m=v.low^(w<<1|b>>>31),g=0;g<5;g++){var h=n[f+5*g];h.high^=p,h.low^=m}}for(var _=1;_<25;_++){var p,m,h=n[_],S=h.high,I=h.low,E=o[_];E<32?(p=S<<E|I>>>32-E,m=I<<E|S>>>32-E):(p=I<<E-32|S>>>64-E,m=S<<E-32|I>>>64-E);var k=c[l[_]];k.high=p,k.low=m}var T=c[0],C=n[0];T.high=C.high,T.low=C.low;for(var f=0;f<5;f++)for(var g=0;g<5;g++){var _=f+5*g,h=n[_],A=c[_],N=c[(f+1)%5+5*g],D=c[(f+2)%5+5*g];h.high=A.high^~N.high&D.high,h.low=A.low^~N.low&D.low}var h=n[0],P=u[d];h.high^=P.high,h.low^=P.low}},_doFinalize:function(){var e=this._data,n=e.words;this._nDataBytes;var i=8*e.sigBytes,s=32*this.blockSize;n[i>>>5]|=1<<24-i%32,n[(t.ceil((i+1)/s)*s>>>5)-1]|=128,e.sigBytes=4*n.length,this._process();for(var a=this._state,o=this.cfg.outputLength/8,l=o/8,u=[],c=0;c<l;c++){var h=a[c],d=h.high,f=h.low;d=(d<<8|d>>>24)&0xff00ff|(d<<24|d>>>8)&0xff00ff00,f=(f<<8|f>>>24)&0xff00ff|(f<<24|f>>>8)&0xff00ff00,u.push(f),u.push(d)}return new r.init(u,o)},clone:function(){for(var e=i.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}}),e.SHA3=i._createHelper(h),e.HmacSHA3=i._createHmacHelper(h),e.SHA3},e.exports=i(n(645),n(320))},613:function(e,t,n){var r,i,s;r=0,i=function(e){var t,n,r,i,s,a;return n=(t=e.x64).Word,r=t.WordArray,s=(i=e.algo).SHA512,a=i.SHA384=s.extend({_doReset:function(){this._hash=new r.init([new n.init(0xcbbb9d5d,0xc1059ed8),new n.init(0x629a292a,0x367cd507),new n.init(0x9159015a,0x3070dd17),new n.init(0x152fecd8,0xf70e5939),new n.init(0x67332667,0xffc00b31),new n.init(0x8eb44a87,0x68581511),new n.init(0xdb0c2e0d,0x64f98fa7),new n.init(0x47b5481d,0xbefa4fa4)])},_doFinalize:function(){var e=s._doFinalize.call(this);return e.sigBytes-=16,e}}),e.SHA384=s._createHelper(a),e.HmacSHA384=s._createHmacHelper(a),e.SHA384},e.exports=i(n(645),n(320),n(605))},605:function(e,t,n){var r,i,s;r=0,i=function(e){return!function(){var t=e.lib.Hasher,n=e.x64,r=n.Word,i=n.WordArray,s=e.algo;function a(){return r.create.apply(r,arguments)}var o=[a(0x428a2f98,0xd728ae22),a(0x71374491,0x23ef65cd),a(0xb5c0fbcf,0xec4d3b2f),a(0xe9b5dba5,0x8189dbbc),a(0x3956c25b,0xf348b538),a(0x59f111f1,0xb605d019),a(0x923f82a4,0xaf194f9b),a(0xab1c5ed5,0xda6d8118),a(0xd807aa98,0xa3030242),a(0x12835b01,0x45706fbe),a(0x243185be,0x4ee4b28c),a(0x550c7dc3,0xd5ffb4e2),a(0x72be5d74,0xf27b896f),a(0x80deb1fe,0x3b1696b1),a(0x9bdc06a7,0x25c71235),a(0xc19bf174,0xcf692694),a(0xe49b69c1,0x9ef14ad2),a(0xefbe4786,0x384f25e3),a(0xfc19dc6,0x8b8cd5b5),a(0x240ca1cc,0x77ac9c65),a(0x2de92c6f,0x592b0275),a(0x4a7484aa,0x6ea6e483),a(0x5cb0a9dc,0xbd41fbd4),a(0x76f988da,0x831153b5),a(0x983e5152,0xee66dfab),a(0xa831c66d,0x2db43210),a(0xb00327c8,0x98fb213f),a(0xbf597fc7,0xbeef0ee4),a(0xc6e00bf3,0x3da88fc2),a(0xd5a79147,0x930aa725),a(0x6ca6351,0xe003826f),a(0x14292967,0xa0e6e70),a(0x27b70a85,0x46d22ffc),a(0x2e1b2138,0x5c26c926),a(0x4d2c6dfc,0x5ac42aed),a(0x53380d13,0x9d95b3df),a(0x650a7354,0x8baf63de),a(0x766a0abb,0x3c77b2a8),a(0x81c2c92e,0x47edaee6),a(0x92722c85,0x1482353b),a(0xa2bfe8a1,0x4cf10364),a(0xa81a664b,0xbc423001),a(0xc24b8b70,0xd0f89791),a(0xc76c51a3,0x654be30),a(0xd192e819,0xd6ef5218),a(0xd6990624,0x5565a910),a(0xf40e3585,0x5771202a),a(0x106aa070,0x32bbd1b8),a(0x19a4c116,0xb8d2d0c8),a(0x1e376c08,0x5141ab53),a(0x2748774c,0xdf8eeb99),a(0x34b0bcb5,0xe19b48a8),a(0x391c0cb3,0xc5c95a63),a(0x4ed8aa4a,0xe3418acb),a(0x5b9cca4f,0x7763e373),a(0x682e6ff3,0xd6b2b8a3),a(0x748f82ee,0x5defb2fc),a(0x78a5636f,0x43172f60),a(0x84c87814,0xa1f0ab72),a(0x8cc70208,0x1a6439ec),a(0x90befffa,0x23631e28),a(0xa4506ceb,0xde82bde9),a(0xbef9a3f7,0xb2c67915),a(0xc67178f2,0xe372532b),a(0xca273ece,0xea26619c),a(0xd186b8c7,0x21c0c207),a(0xeada7dd6,0xcde0eb1e),a(0xf57d4f7f,0xee6ed178),a(0x6f067aa,0x72176fba),a(0xa637dc5,0xa2c898a6),a(0x113f9804,0xbef90dae),a(0x1b710b35,0x131c471b),a(0x28db77f5,0x23047d84),a(0x32caab7b,0x40c72493),a(0x3c9ebe0a,0x15c9bebc),a(0x431d67c4,0x9c100d4c),a(0x4cc5d4be,0xcb3e42b6),a(0x597f299c,0xfc657e2a),a(0x5fcb6fab,0x3ad6faec),a(0x6c44198c,0x4a475817)],l=[];!function(){for(var e=0;e<80;e++)l[e]=a()}();var u=s.SHA512=t.extend({_doReset:function(){this._hash=new i.init([new r.init(0x6a09e667,0xf3bcc908),new r.init(0xbb67ae85,0x84caa73b),new r.init(0x3c6ef372,0xfe94f82b),new r.init(0xa54ff53a,0x5f1d36f1),new r.init(0x510e527f,0xade682d1),new r.init(0x9b05688c,0x2b3e6c1f),new r.init(0x1f83d9ab,0xfb41bd6b),new r.init(0x5be0cd19,0x137e2179)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],s=n[2],a=n[3],u=n[4],c=n[5],h=n[6],d=n[7],f=r.high,p=r.low,m=i.high,g=i.low,y=s.high,v=s.low,x=a.high,b=a.low,w=u.high,_=u.low,S=c.high,I=c.low,E=h.high,k=h.low,T=d.high,C=d.low,A=f,N=p,D=m,P=g,R=y,O=v,L=x,M=b,F=w,V=_,U=S,B=I,j=E,z=k,q=T,$=C,H=0;H<80;H++){var K,G,W=l[H];if(H<16)G=W.high=0|e[t+2*H],K=W.low=0|e[t+2*H+1];else{var Q=l[H-15],J=Q.high,Y=Q.low,X=(J>>>1|Y<<31)^(J>>>8|Y<<24)^J>>>7,Z=(Y>>>1|J<<31)^(Y>>>8|J<<24)^(Y>>>7|J<<25),ee=l[H-2],et=ee.high,en=ee.low,er=(et>>>19|en<<13)^(et<<3|en>>>29)^et>>>6,ei=(en>>>19|et<<13)^(en<<3|et>>>29)^(en>>>6|et<<26),es=l[H-7],ea=es.high,eo=es.low,el=l[H-16],eu=el.high,ec=el.low;G=X+ea+((K=Z+eo)>>>0<Z>>>0?1:0),K+=ei,G=G+er+(K>>>0<ei>>>0?1:0),K+=ec,G=G+eu+(K>>>0<ec>>>0?1:0),W.high=G,W.low=K}var eh=F&U^~F&j,ed=V&B^~V&z,ef=A&D^A&R^D&R,ep=N&P^N&O^P&O,em=(A>>>28|N<<4)^(A<<30|N>>>2)^(A<<25|N>>>7),eg=(N>>>28|A<<4)^(N<<30|A>>>2)^(N<<25|A>>>7),ey=(F>>>14|V<<18)^(F>>>18|V<<14)^(F<<23|V>>>9),ev=(V>>>14|F<<18)^(V>>>18|F<<14)^(V<<23|F>>>9),ex=o[H],eb=ex.high,ew=ex.low,e_=$+ev,eS=q+ey+(e_>>>0<$>>>0?1:0),e_=e_+ed,eS=eS+eh+(e_>>>0<ed>>>0?1:0),e_=e_+ew,eS=eS+eb+(e_>>>0<ew>>>0?1:0),e_=e_+K,eS=eS+G+(e_>>>0<K>>>0?1:0),eI=eg+ep,eE=em+ef+(eI>>>0<eg>>>0?1:0);q=j,$=z,j=U,z=B,U=F,B=V,F=L+eS+((V=M+e_|0)>>>0<M>>>0?1:0)|0,L=R,M=O,R=D,O=P,D=A,P=N,A=eS+eE+((N=e_+eI|0)>>>0<e_>>>0?1:0)|0}p=r.low=p+N,r.high=f+A+(p>>>0<N>>>0?1:0),g=i.low=g+P,i.high=m+D+(g>>>0<P>>>0?1:0),v=s.low=v+O,s.high=y+R+(v>>>0<O>>>0?1:0),b=a.low=b+M,a.high=x+L+(b>>>0<M>>>0?1:0),_=u.low=_+V,u.high=w+F+(_>>>0<V>>>0?1:0),I=c.low=I+B,c.high=S+U+(I>>>0<B>>>0?1:0),k=h.low=k+z,h.high=E+j+(k>>>0<z>>>0?1:0),C=d.low=C+$,d.high=T+q+(C>>>0<$>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[(r+128>>>10<<5)+30]=Math.floor(n/0x100000000),t[(r+128>>>10<<5)+31]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(u),e.HmacSHA512=t._createHmacHelper(u)}(),e.SHA512},e.exports=i(n(645),n(320))},364:function(e,t,n){var r,i,s;r=0,i=function(e){return!function(){var t=e.lib,n=t.WordArray,r=t.BlockCipher,i=e.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],o=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,0x10000000:32768,0x20000000:8421378,0x30000000:2,0x40000000:512,0x50000000:8421890,0x60000000:8389122,0x70000000:8388608,0x80000000:514,0x90000000:8389120,0xa0000000:33280,0xb0000000:8421376,0xc0000000:32770,0xd0000000:8388610,0xe0000000:0,0xf0000000:33282,0x8000000:0,0x18000000:8421890,0x28000000:33282,0x38000000:32768,0x48000000:8421888,0x58000000:512,0x68000000:8421378,0x78000000:2,0x88000000:8389120,0x98000000:33280,0xa8000000:8421376,0xb8000000:8389122,0xc8000000:8388610,0xd8000000:32770,0xe8000000:514,0xf8000000:8388608,1:32768,0x10000001:2,0x20000001:8421888,0x30000001:8388608,0x40000001:8421378,0x50000001:33280,0x60000001:512,0x70000001:8389122,0x80000001:8421890,0x90000001:8421376,0xa0000001:8388610,0xb0000001:33282,0xc0000001:514,0xd0000001:8389120,0xe0000001:32770,0xf0000001:0,0x8000001:8421890,0x18000001:8421376,0x28000001:8388608,0x38000001:512,0x48000001:32768,0x58000001:8388610,0x68000001:2,0x78000001:33282,0x88000001:32770,0x98000001:8389122,0xa8000001:514,0xb8000001:8421888,0xc8000001:8389120,0xd8000001:0,0xe8000001:33280,0xf8000001:8421378},{0:0x40084010,0x1000000:16384,0x2000000:524288,0x3000000:0x40080010,0x4000000:0x40000010,0x5000000:0x40084000,0x6000000:0x40004000,0x7000000:16,0x8000000:540672,0x9000000:0x40004010,0xa000000:0x40000000,0xb000000:540688,0xc000000:524304,0xd000000:0,0xe000000:16400,0xf000000:0x40080000,8388608:0x40004000,0x1800000:540688,0x2800000:16,0x3800000:0x40004010,0x4800000:0x40084010,0x5800000:0x40000000,0x6800000:524288,0x7800000:0x40080010,0x8800000:524304,0x9800000:0,0xa800000:16384,0xb800000:0x40080000,0xc800000:0x40000010,0xd800000:540672,0xe800000:0x40084000,0xf800000:16400,0x10000000:0,0x11000000:0x40080010,0x12000000:0x40004010,0x13000000:0x40084000,0x14000000:0x40080000,0x15000000:16,0x16000000:540688,0x17000000:16384,0x18000000:16400,0x19000000:524288,0x1a000000:524304,0x1b000000:0x40000010,0x1c000000:540672,0x1d000000:0x40004000,0x1e000000:0x40000000,0x1f000000:0x40084010,0x10800000:540688,0x11800000:524288,0x12800000:0x40080000,0x13800000:16384,0x14800000:0x40004000,0x15800000:0x40084010,0x16800000:16,0x17800000:0x40000000,0x18800000:0x40084000,0x19800000:0x40000010,0x1a800000:0x40004010,0x1b800000:524304,0x1c800000:0,0x1d800000:16400,0x1e800000:0x40080010,0x1f800000:540672},{0:260,1048576:0,2097152:0x4000100,3145728:65796,4194304:65540,5242880:0x4000004,6291456:0x4010104,7340032:0x4010000,8388608:0x4000000,9437184:0x4010100,0xa00000:65792,0xb00000:0x4010004,0xc00000:0x4000104,0xd00000:65536,0xe00000:4,0xf00000:256,524288:0x4010100,1572864:0x4010004,2621440:0,3670016:0x4000100,4718592:0x4000004,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,0xa80000:0x4010000,0xb80000:65796,0xc80000:65792,0xd80000:0x4000104,0xe80000:0x4010104,0xf80000:0x4000000,0x1000000:0x4010100,0x1100000:65540,0x1200000:65536,0x1300000:0x4000100,0x1400000:256,0x1500000:0x4010104,0x1600000:0x4000004,0x1700000:0,0x1800000:0x4000104,0x1900000:0x4000000,0x1a00000:4,0x1b00000:65792,0x1c00000:0x4010000,0x1d00000:260,0x1e00000:65796,0x1f00000:0x4010004,0x1080000:0x4000000,0x1180000:260,0x1280000:0x4010100,0x1380000:0,0x1480000:65540,0x1580000:0x4000100,0x1680000:256,0x1780000:0x4010004,0x1880000:65536,0x1980000:0x4010104,0x1a80000:65796,0x1b80000:0x4000004,0x1c80000:0x4000104,0x1d80000:0x4010000,0x1e80000:4,0x1f80000:65792},{0:0x80401000,65536:0x80001040,131072:4198464,196608:0x80400000,262144:0,327680:4198400,393216:0x80000040,458752:4194368,524288:0x80000000,589824:4194304,655360:64,720896:0x80001000,786432:0x80400040,851968:4160,917504:4096,983040:0x80401040,32768:0x80001040,98304:64,163840:0x80400040,229376:0x80001000,294912:4198400,360448:0x80401040,425984:0,491520:0x80400000,557056:4096,622592:0x80401000,688128:4194304,753664:4160,819200:0x80000000,884736:4194368,950272:4198464,1015808:0x80000040,1048576:4194368,1114112:4198400,1179648:0x80000040,1245184:0,1310720:4160,1376256:0x80400040,1441792:0x80401000,1507328:0x80001040,1572864:0x80401040,1638400:0x80000000,1703936:0x80400000,1769472:4198464,1835008:0x80001000,1900544:4194304,1966080:64,2031616:4096,1081344:0x80400000,1146880:0x80401040,1212416:0,1277952:4198400,1343488:4194368,1409024:0x80000000,1474560:0x80001040,1540096:64,1605632:0x80000040,1671168:4096,1736704:0x80001000,1802240:0x80400040,1867776:4160,1933312:0x80401000,1998848:4194304,2064384:4198464},{0:128,4096:0x1040000,8192:262144,12288:0x20000000,16384:0x20040080,20480:0x1000080,24576:0x21000080,28672:262272,32768:0x1000000,36864:0x20040000,40960:0x20000080,45056:0x21040080,49152:0x21040000,53248:0,57344:0x1040080,61440:0x21000000,2048:0x1040080,6144:0x21000080,10240:128,14336:0x1040000,18432:262144,22528:0x20040080,26624:0x21040000,30720:0x20000000,34816:0x20040000,38912:0,43008:0x21040080,47104:0x1000080,51200:0x20000080,55296:0x21000000,59392:0x1000000,63488:262272,65536:262144,69632:128,73728:0x20000000,77824:0x21000080,81920:0x1000080,86016:0x21040000,90112:0x20040080,94208:0x1000000,98304:0x21040080,102400:0x21000000,106496:0x1040000,110592:0x20040000,114688:262272,118784:0x20000080,122880:0,126976:0x1040080,67584:0x21000080,71680:0x1000000,75776:0x1040000,79872:0x20040080,83968:0x20000000,88064:0x1040080,92160:128,96256:0x21040000,100352:262272,104448:0x21040080,108544:0,112640:0x21000000,116736:0x1000080,120832:262144,124928:0x20040000,129024:0x20000080},{0:0x10000008,256:8192,512:0x10200000,768:0x10202008,1024:0x10002000,1280:2097152,1536:2097160,1792:0x10000000,2048:0,2304:0x10002008,2560:2105344,2816:8,3072:0x10200008,3328:2105352,3584:8200,3840:0x10202000,128:0x10200000,384:0x10202008,640:8,896:2097152,1152:2105352,1408:0x10000008,1664:0x10002000,1920:8200,2176:2097160,2432:8192,2688:0x10002008,2944:0x10200008,3200:0,3456:0x10202000,3712:2105344,3968:0x10000000,4096:0x10002000,4352:0x10200008,4608:0x10202008,4864:8200,5120:2097152,5376:0x10000000,5632:0x10000008,5888:2105344,6144:2105352,6400:0,6656:8,6912:0x10200000,7168:8192,7424:0x10002008,7680:0x10202000,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:0x10000008,5248:0x10002000,5504:8200,5760:0x10202008,6016:0x10200000,6272:0x10202000,6528:0x10200008,6784:8192,7040:2105352,7296:2097160,7552:0,7808:0x10000000,8064:0x10002008},{0:1048576,16:0x2000401,32:1024,48:1049601,64:0x2100401,80:0,96:1,112:0x2100001,128:0x2000400,144:1048577,160:0x2000001,176:0x2100400,192:0x2100000,208:1025,224:1049600,240:0x2000000,8:0x2100001,24:0,40:0x2000401,56:0x2100400,72:1048576,88:0x2000001,104:0x2000000,120:1025,136:1049601,152:0x2000400,168:0x2100000,184:1048577,200:1024,216:0x2100401,232:1,248:1049600,256:0x2000000,272:1048576,288:0x2000401,304:0x2100001,320:1048577,336:0x2000400,352:0x2100400,368:1049601,384:1025,400:0x2100401,416:1049600,432:1,448:0,464:0x2100000,480:0x2000001,496:1024,264:1049600,280:0x2000401,296:0x2100001,312:1,328:0x2000000,344:1048576,360:1025,376:0x2100400,392:0x2000001,408:0x2100000,424:0,440:0x2100401,456:1049601,472:1024,488:0x2000400,504:1048577},{0:0x8000820,1:131072,2:0x8000000,3:32,4:131104,5:0x8020820,6:0x8020800,7:2048,8:0x8020000,9:0x8000800,10:133120,11:0x8020020,12:2080,13:0,14:0x8000020,15:133152,0x80000000:2048,0x80000001:0x8020820,0x80000002:0x8000820,0x80000003:0x8000000,0x80000004:0x8020000,0x80000005:133120,0x80000006:133152,0x80000007:32,0x80000008:0x8000020,0x80000009:2080,0x8000000a:131104,0x8000000b:0x8020800,0x8000000c:0,0x8000000d:0x8020020,0x8000000e:0x8000800,0x8000000f:131072,16:133152,17:0x8020800,18:32,19:2048,20:0x8000800,21:0x8000020,22:0x8020020,23:131072,24:0,25:131104,26:0x8020000,27:0x8000820,28:0x8020820,29:133120,30:2080,31:0x8000000,0x80000010:131072,0x80000011:2048,0x80000012:0x8020020,0x80000013:133152,0x80000014:32,0x80000015:0x8020000,0x80000016:0x8000000,0x80000017:0x8000820,0x80000018:0x8020820,0x80000019:0x8000020,0x8000001a:0x8000800,0x8000001b:0,0x8000001c:133120,0x8000001d:2080,0x8000001e:131104,0x8000001f:0x8020800}],u=[0xf8000001,0x1f800000,0x1f80000,2064384,129024,8064,504,0x8000001f],c=i.DES=r.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var r=s[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(var i=this._subKeys=[],l=0;l<16;l++){for(var u=i[l]=[],c=o[l],n=0;n<24;n++)u[n/6|0]|=t[(a[n]-1+c)%28]<<31-n%6,u[4+(n/6|0)]|=t[28+(a[n+24]-1+c)%28]<<31-n%6;u[0]=u[0]<<1|u[0]>>>31;for(var n=1;n<7;n++)u[n]=u[n]>>>(n-1)*4+3;u[7]=u[7]<<5|u[7]>>>27}for(var h=this._invSubKeys=[],n=0;n<16;n++)h[n]=i[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],h.call(this,4,0xf0f0f0f),h.call(this,16,65535),d.call(this,2,0x33333333),d.call(this,8,0xff00ff),h.call(this,1,0x55555555);for(var r=0;r<16;r++){for(var i=n[r],s=this._lBlock,a=this._rBlock,o=0,c=0;c<8;c++)o|=l[c][((a^i[c])&u[c])>>>0];this._lBlock=a,this._rBlock=s^o}var f=this._lBlock;this._lBlock=this._rBlock,this._rBlock=f,h.call(this,1,0x55555555),d.call(this,8,0xff00ff),d.call(this,2,0x33333333),h.call(this,16,65535),h.call(this,4,0xf0f0f0f),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function h(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function d(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}e.DES=r._createHelper(c);var f=i.TripleDES=r.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),r=e.length<4?e.slice(0,2):e.slice(2,4),i=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=c.createEncryptor(n.create(t)),this._des2=c.createEncryptor(n.create(r)),this._des3=c.createEncryptor(n.create(i))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=r._createHelper(f)}(),e.TripleDES},e.exports=i(n(645),n(15),n(673),n(539),n(866))},320:function(e,t,n){var r,i;r=0,i=function(e){var t,n,r,i,s;return r=(n=e.lib).Base,i=n.WordArray,(s=e.x64={}).Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),s.WordArray=r.extend({init:function(e,t){e=this.words=e||[],void 0!=t?this.sigBytes=t:this.sigBytes=8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var s=e[r];n.push(s.high),n.push(s.low)}return i.create(n,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;i<n;i++)t[i]=t[i].clone();return e}}),e},e.exports=i(n(645))},873:function(e,t,n){"use strict";var r,i,s,a,o,l,u=n(21),c=n(173);function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=new Set,f={};function p(e,t){m(e,t),m(e+"Capture",t)}function m(e,t){for(f[e]=t,e=0;e<t.length;e++)d.add(t[e])}var g=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),y=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},b={};function w(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_[e]=new w(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_[t]=new w(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){_[e]=new w(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_[e]=new w(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_[e]=new w(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){_[e]=new w(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){_[e]=new w(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){_[e]=new w(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){_[e]=new w(e,5,!1,e.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function I(e){return e[1].toUpperCase()}function E(e,t,n,r){var i,s=_.hasOwnProperty(t)?_[t]:null;if(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1]){;(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":if(r)return!1;if(null!==n)return!n.acceptsBooleans;return"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e;default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1})(t,n,s,r)&&(n=null),r||null===s?(i=t,(!!y.call(b,i)||!y.call(x,i)&&(v.test(i)?b[i]=!0:(x[i]=!0,!1)))&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n))):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)))}}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(S,I);_[t]=new w(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(S,I);_[t]=new w(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(S,I);_[t]=new w(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){_[e]=new w(e,1,!1,e.toLowerCase(),null,!1,!1)}),_.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){_[e]=new w(e,1,!1,e.toLowerCase(),null,!0,!0)});var k=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),C=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),R=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),V=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var U=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var B=Symbol.iterator;function j(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=B&&e[B]||e["@@iterator"])?e:null}var z,q=Object.assign;function $(e){if(void 0===z)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var H=!1;function K(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t){if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$(e):""}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ee(e,t){null!=(t=t.checked)&&E(e,"checked",t,!1)}function et(e,t){ee(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r){e.removeAttribute("value");return}t.hasOwnProperty("value")?er(e,t.type,n):t.hasOwnProperty("defaultValue")&&er(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function en(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function er(e,t,n){("number"!==t||Y(e.ownerDocument)!==e)&&(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ei=Array.isArray;function es(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(i=0,n=""+G(n),t=null;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ea(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(h(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function eo(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(h(92));if(ei(n)){if(1<n.length)throw Error(h(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function el(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function eu(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ec(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eh(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ec(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ed,ef,ep=(ed=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ef=ef||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ef.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ed(e,t,n,r)})}:ed);function em(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType){n.nodeValue=t;return}}e.textContent=t}var eg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ey=["Webkit","ms","Moz","O"];function ev(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||eg.hasOwnProperty(e)&&eg[e]?(""+t).trim():t+"px"}function ex(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ev(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(eg).forEach(function(e){ey.forEach(function(t){eg[t=t+e.charAt(0).toUpperCase()+e.substring(1)]=eg[e]})});var eb=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ew(e,t){if(t){if(eb[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(h(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(h(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(h(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(h(62))}}function e_(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eS=null;function eI(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var eE=null,ek=null,eT=null;function eC(e){if(e=rM(e)){if("function"!=typeof eE)throw Error(h(280));var t=e.stateNode;t&&(t=rV(t),eE(e.stateNode,e.type,t))}}function eA(e){ek?eT?eT.push(e):eT=[e]:ek=e}function eN(){if(ek){var e=ek,t=eT;if(eT=ek=null,eC(e),t)for(e=0;e<t.length;e++)eC(t[e])}}function eD(e,t){return e(t)}function eP(){}var eR=!1;function eO(e,t,n){if(eR)return e(t,n);eR=!0;try{return eD(e,t,n)}finally{eR=!1,(null!==ek||null!==eT)&&(eP(),eN())}}function eL(e,t){var n=e.stateNode;if(null===n)return null;var r=rV(n);if(null===r)return null;switch(n=r[t],t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(h(231,t,typeof n));return n}var eM=!1;if(g)try{var eF={};Object.defineProperty(eF,"passive",{get:function(){eM=!0}}),window.addEventListener("test",eF,eF),window.removeEventListener("test",eF,eF)}catch(e){eM=!1}function eV(e,t,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var eU=!1,eB=null,ej=!1,ez=null,eq={onError:function(e){eU=!0,eB=e}};function e$(e,t,n,r,i,s,a,o,l){eU=!1,eB=null,eV.apply(eq,arguments)}function eH(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do 0!=(4098&(t=e).flags)&&(n=t.return),e=t.return;while(e)}return 3===t.tag?n:null}function eK(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function eG(e){if(eH(e)!==e)throw Error(h(188))}function eW(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=eH(e)))throw Error(h(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return eG(i),e;if(s===r)return eG(i),t;s=s.sibling}throw Error(h(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(h(189))}}if(n.alternate!==r)throw Error(h(190))}if(3!==n.tag)throw Error(h(188));return n.stateNode.current===n?e:t}(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var n=e(t);if(null!==n)return n;t=t.sibling}return null}(e):null}var eQ=c.unstable_scheduleCallback,eJ=c.unstable_cancelCallback,eY=c.unstable_shouldYield,eX=c.unstable_requestPaint,eZ=c.unstable_now,e0=c.unstable_getCurrentPriorityLevel,e1=c.unstable_ImmediatePriority,e2=c.unstable_UserBlockingPriority,e4=c.unstable_NormalPriority,e6=c.unstable_LowPriority,e8=c.unstable_IdlePriority,e3=null,e5=null,e7=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(e9(e)/te|0)|0},e9=Math.log,te=Math.LN2,tt=64,tn=4194304;function tr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return 0x7c00000&e;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0x40000000;default:return e}}function ti(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=0xfffffff&n;if(0!==a){var o=a&~i;0!==o?r=tr(o):0!=(s&=a)&&(r=tr(s))}else 0!=(a=n&~i)?r=tr(a):0!==s&&(r=tr(s));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!=(4194240&s)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-e7(t)),r|=e[n],t&=~i;return r}function ts(e){return 0!=(e=-0x40000001&e.pendingLanes)?e:0x40000000&e?0x40000000:0}function ta(){var e=tt;return 0==(4194240&(tt<<=1))&&(tt=64),e}function to(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function tl(e,t,n){e.pendingLanes|=t,0x20000000!==t&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,e[t=31-e7(t)]=n}function tu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-e7(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var tc=0;function th(e){return 1<(e&=-e)?4<e?0!=(0xfffffff&e)?16:0x20000000:4:1}var td,tf,tp,tm,tg,ty=!1,tv=[],tx=null,tb=null,tw=null,t_=new Map,tS=new Map,tI=[],tE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tk(e,t){switch(e){case"focusin":case"focusout":tx=null;break;case"dragenter":case"dragleave":tb=null;break;case"mouseover":case"mouseout":tw=null;break;case"pointerover":case"pointerout":t_.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tS.delete(t.pointerId)}}function tT(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&null!==(t=rM(t))&&tf(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function tC(e){var t=rL(e.target);if(null!==t){var n=eH(t);if(null!==n){if(13===(t=n.tag)){if(null!==(t=eK(n))){e.blockedOn=t,tg(e.priority,function(){tp(n)});return}}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=3===n.tag?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tA(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=tB(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=rM(n))&&tf(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);eS=r,n.target.dispatchEvent(r),eS=null;t.shift()}return!0}function tN(e,t,n){tA(e)&&n.delete(t)}function tD(){ty=!1,null!==tx&&tA(tx)&&(tx=null),null!==tb&&tA(tb)&&(tb=null),null!==tw&&tA(tw)&&(tw=null),t_.forEach(tN),tS.forEach(tN)}function tP(e,t){e.blockedOn===t&&(e.blockedOn=null,ty||(ty=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,tD)))}function tR(e){function t(t){return tP(t,e)}if(0<tv.length){tP(tv[0],e);for(var n=1;n<tv.length;n++){var r=tv[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==tx&&tP(tx,e),null!==tb&&tP(tb,e),null!==tw&&tP(tw,e),t_.forEach(t),tS.forEach(t),n=0;n<tI.length;n++)(r=tI[n]).blockedOn===e&&(r.blockedOn=null);for(;0<tI.length&&null===(n=tI[0]).blockedOn;)tC(n),null===n.blockedOn&&tI.shift()}var tO=k.ReactCurrentBatchConfig,tL=!0;function tM(e,t,n,r){var i=tc,s=tO.transition;tO.transition=null;try{tc=1,tV(e,t,n,r)}finally{tc=i,tO.transition=s}}function tF(e,t,n,r){var i=tc,s=tO.transition;tO.transition=null;try{tc=4,tV(e,t,n,r)}finally{tc=i,tO.transition=s}}function tV(e,t,n,r){if(tL){var i=tB(e,t,n,r);if(null===i)ro(e,t,r,tU,n),tk(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return tx=tT(tx,e,t,n,r,i),!0;case"dragenter":return tb=tT(tb,e,t,n,r,i),!0;case"mouseover":return tw=tT(tw,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return t_.set(s,tT(t_.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,tS.set(s,tT(tS.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(tk(e,r),4&t&&-1<tE.indexOf(e)){for(;null!==i;){var s=rM(i);if(null!==s&&td(s),null===(s=tB(e,t,n,r))&&ro(e,t,r,tU,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else ro(e,t,r,null,n)}}var tU=null;function tB(e,t,n,r){if(tU=null,null!==(e=rL(e=eI(r)))){if(null===(t=eH(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=eK(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}return tU=e,null}function tj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(e0()){case e1:return 1;case e2:return 4;case e4:case e6:return 16;case e8:return 0x20000000;default:return 16}default:return 16}}var tz=null,tq=null,t$=null;function tH(){if(t$)return t$;var e,t,n=tq,r=n.length,i="value"in tz?tz.value:tz.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return t$=i.slice(e,1<t?1-t:void 0)}function tK(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tG(){return!0}function tW(){return!1}function tQ(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?tG:tW,this.isPropagationStopped=tW,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tG)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tG)},persist:function(){},isPersistent:tG}),t}var tJ,tY,tX,tZ={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},t0=tQ(tZ),t1=q({},tZ,{view:0,detail:0}),t2=tQ(t1),t4=q({},t1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ni,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tX&&(tX&&"mousemove"===e.type?(tJ=e.screenX-tX.screenX,tY=e.screenY-tX.screenY):tY=tJ=0,tX=e),tJ)},movementY:function(e){return"movementY"in e?e.movementY:tY}}),t6=tQ(t4),t8=tQ(q({},t4,{dataTransfer:0})),t3=tQ(q({},t1,{relatedTarget:0})),t5=tQ(q({},tZ,{animationName:0,elapsedTime:0,pseudoElement:0})),t7=tQ(q({},tZ,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),t9=tQ(q({},tZ,{data:0})),ne={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=nn[e])&&!!t[e]}function ni(){return nr}var ns=tQ(q({},t1,{key:function(e){if(e.key){var t=ne[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tK(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?nt[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ni,charCode:function(e){return"keypress"===e.type?tK(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tK(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),na=tQ(q({},t4,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),no=tQ(q({},t1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ni})),nl=tQ(q({},tZ,{propertyName:0,elapsedTime:0,pseudoElement:0})),nu=tQ(q({},t4,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),nc=[9,13,27,32],nh=g&&"CompositionEvent"in window,nd=null;g&&"documentMode"in document&&(nd=document.documentMode);var nf=g&&"TextEvent"in window&&!nd,np=g&&(!nh||nd&&8<nd&&11>=nd),nm=!1;function ng(e,t){switch(e){case"keyup":return -1!==nc.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ny(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var nv=!1,nx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!nx[e.type]:"textarea"===t}function nw(e,t,n,r){eA(r),0<(t=ru(t,"onChange")).length&&(n=new t0("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var n_=null,nS=null;function nI(e){rt(e,0)}function nE(e){if(J(rF(e)))return e}function nk(e,t){if("change"===e)return t}var nT=!1;if(g){if(g){var nC="oninput"in document;if(!nC){var nA=document.createElement("div");nA.setAttribute("oninput","return;"),nC="function"==typeof nA.oninput}r=nC}else r=!1;nT=r&&(!document.documentMode||9<document.documentMode)}function nN(){n_&&(n_.detachEvent("onpropertychange",nD),nS=n_=null)}function nD(e){if("value"===e.propertyName&&nE(nS)){var t=[];nw(t,nS,e,eI(e)),eO(nI,t)}}function nP(e,t,n){"focusin"===e?(nN(),n_=t,nS=n,n_.attachEvent("onpropertychange",nD)):"focusout"===e&&nN()}function nR(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return nE(nS)}function nO(e,t){if("click"===e)return nE(t)}function nL(e,t){if("input"===e||"change"===e)return nE(t)}var nM="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function nF(e,t){if(nM(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!y.call(t,i)||!nM(e[i],t[i]))return!1}return!0}function nV(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nU(e,t){var n,r=nV(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nV(r)}}function nB(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(n)e=t.contentWindow;else break;t=Y(e.document)}return t}function nj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nz=g&&"documentMode"in document&&11>=document.documentMode,nq=null,n$=null,nH=null,nK=!1;function nG(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;nK||null==nq||nq!==Y(r)||(r="selectionStart"in(r=nq)&&nj(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},nH&&nF(nH,r)||(nH=r,0<(r=ru(n$,"onSelect")).length&&(t=new t0("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=nq)))}function nW(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var nQ={animationend:nW("Animation","AnimationEnd"),animationiteration:nW("Animation","AnimationIteration"),animationstart:nW("Animation","AnimationStart"),transitionend:nW("Transition","TransitionEnd")},nJ={},nY={};function nX(e){if(nJ[e])return nJ[e];if(!nQ[e])return e;var t,n=nQ[e];for(t in n)if(n.hasOwnProperty(t)&&t in nY)return nJ[e]=n[t];return e}g&&(nY=document.createElement("div").style,"AnimationEvent"in window||(delete nQ.animationend.animation,delete nQ.animationiteration.animation,delete nQ.animationstart.animation),"TransitionEvent"in window||delete nQ.transitionend.transition);var nZ=nX("animationend"),n0=nX("animationiteration"),n1=nX("animationstart"),n2=nX("transitionend"),n4=new Map,n6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function n8(e,t){n4.set(e,t),p(t,[e])}for(var n3=0;n3<n6.length;n3++){var n5=n6[n3];n8(n5.toLowerCase(),"on"+(n5[0].toUpperCase()+n5.slice(1)))}n8(nZ,"onAnimationEnd"),n8(n0,"onAnimationIteration"),n8(n1,"onAnimationStart"),n8("dblclick","onDoubleClick"),n8("focusin","onFocus"),n8("focusout","onBlur"),n8(n2,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var n7="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n9=new Set("cancel close invalid load scroll toggle".split(" ").concat(n7));function re(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,!function(e,t,n,r,i,s,a,o,l){if(e$.apply(this,arguments),eU){if(eU){var u=eB;eU=!1,eB=null}else throw Error(h(198));ej||(ej=!0,ez=u)}}(r,t,void 0,e),e.currentTarget=null}function rt(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;re(i,o,u),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;re(i,o,u),s=l}}}if(ej)throw e=ez,ej=!1,ez=null,e}function rn(e,t){var n=t[rP];void 0===n&&(n=t[rP]=new Set);var r=e+"__bubble";n.has(r)||(ra(t,e,2,!1),n.add(r))}function rr(e,t,n){var r=0;t&&(r|=4),ra(n,e,r,t)}var ri="_reactListening"+Math.random().toString(36).slice(2);function rs(e){if(!e[ri]){e[ri]=!0,d.forEach(function(t){"selectionchange"!==t&&(n9.has(t)||rr(t,!1,e),rr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[ri]||(t[ri]=!0,rr("selectionchange",!1,t))}}function ra(e,t,n,r){switch(tj(t)){case 1:var i=tM;break;case 4:i=tF;break;default:i=tV}n=i.bind(null,t,n,e),i=void 0,eM&&("touchstart"===t||"touchmove"===t||"wheel"===t)&&(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ro(e,t,n,r,i){var s=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=rL(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}eO(function(){var r=s,i=eI(n),a=[];e:{var o=n4.get(e);if(void 0!==o){var l=t0,u=e;switch(e){case"keypress":if(0===tK(n))break e;case"keydown":case"keyup":l=ns;break;case"focusin":u="focus",l=t3;break;case"focusout":u="blur",l=t3;break;case"beforeblur":case"afterblur":l=t3;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=t6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=t8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=no;break;case nZ:case n0:case n1:l=t5;break;case n2:l=nl;break;case"scroll":l=t2;break;case"wheel":l=nu;break;case"copy":case"cut":case"paste":l=t7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=na}var c=0!=(4&t),h=!c&&"scroll"===e,d=c?null!==o?o+"Capture":null:o;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&null!=(m=eL(p,d))&&c.push(rl(p,m,f))),h)break;p=p.return}0<c.length&&(o=new l(o,u,null,n,i),a.push({event:o,listeners:c}))}}if(0==(7&t)){e:if(o="mouseover"===e||"pointerover"===e,l="mouseout"===e||"pointerout"===e,!(o&&n!==eS&&(u=n.relatedTarget||n.fromElement)&&(rL(u)||u[rD]))){if((l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,null!==(u=u?rL(u):null)&&(h=eH(u),u!==h||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=t6,m="onMouseLeave",d="onMouseEnter",p="mouse",("pointerout"===e||"pointerover"===e)&&(c=na,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:rF(l),f=null==u?o:rF(u),(o=new c(m,p+"leave",l,n,i)).target=h,o.relatedTarget=f,m=null,rL(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)t:{for(c=l,d=u,p=0,f=c;f;f=rc(f))p++;for(f=0,m=d;m;m=rc(m))f++;for(;0<p-f;)c=rc(c),p--;for(;0<f-p;)d=rc(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break t;c=rc(c),d=rc(d)}c=null}else c=null;null!==l&&rh(a,o,l,c,!1),null!==u&&null!==h&&rh(a,h,u,c,!0)}}e:{if("select"===(l=(o=r?rF(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g,y=nk;else if(nb(o)){if(nT)y=nL;else{y=nR;var v=nP}}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(y=nO);if(y&&(y=y(e,r))){nw(a,y,n,i);break e}v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&er(o,"number",o.value)}switch(v=r?rF(r):window,e){case"focusin":(nb(v)||"true"===v.contentEditable)&&(nq=v,n$=r,nH=null);break;case"focusout":nH=n$=nq=null;break;case"mousedown":nK=!0;break;case"contextmenu":case"mouseup":case"dragend":nK=!1,nG(a,n,i);break;case"selectionchange":if(nz)break;case"keydown":case"keyup":nG(a,n,i)}if(nh)t:{switch(e){case"compositionstart":var x="onCompositionStart";break t;case"compositionend":x="onCompositionEnd";break t;case"compositionupdate":x="onCompositionUpdate";break t}x=void 0}else nv?ng(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(np&&"ko"!==n.locale&&(nv||"onCompositionStart"!==x?"onCompositionEnd"===x&&nv&&(g=tH()):(tq="value"in(tz=i)?tz.value:tz.textContent,nv=!0)),0<(v=ru(r,x)).length&&(x=new t9(x,e,null,n,i),a.push({event:x,listeners:v}),g?x.data=g:null!==(g=ny(n))&&(x.data=g))),(g=nf?function(e,t){switch(e){case"compositionend":return ny(t);case"keypress":if(32!==t.which)return null;return nm=!0," ";case"textInput":return" "===(e=t.data)&&nm?null:e;default:return null}}(e,n):function(e,t){if(nv)return"compositionend"===e||!nh&&ng(e,t)?(e=tH(),t$=tq=tz=null,nv=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return np&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=ru(r,"onBeforeInput")).length&&(i=new t9("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=g)}rt(a,t)})}function rl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ru(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=eL(e,n))&&r.unshift(rl(e,s,i)),null!=(s=eL(e,t))&&r.push(rl(e,s,i))),e=e.return}return r}function rc(e){if(null===e)return null;do e=e.return;while(e&&5!==e.tag);return e||null}function rh(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==u&&(o=u,i?null!=(l=eL(n,s))&&a.unshift(rl(n,l,o)):i||null!=(l=eL(n,s))&&a.push(rl(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var rd=/\r\n?/g,rf=/\u0000|\uFFFD/g;function rp(e){return("string"==typeof e?e:""+e).replace(rd,"\n").replace(rf,"")}function rm(e,t,n){if(t=rp(t),rp(e)!==t&&n)throw Error(h(425))}function rg(){}var ry=null,rv=null;function rx(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rb="function"==typeof setTimeout?setTimeout:void 0,rw="function"==typeof clearTimeout?clearTimeout:void 0,r_="function"==typeof Promise?Promise:void 0,rS="function"==typeof queueMicrotask?queueMicrotask:void 0!==r_?function(e){return r_.resolve(null).then(e).catch(rI)}:rb;function rI(e){setTimeout(function(){throw e})}function rE(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType){if("/$"===(n=i.data)){if(0===r){e.removeChild(i),tR(t);return}r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++}n=i}while(n);tR(t)}function rk(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function rT(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var rC=Math.random().toString(36).slice(2),rA="__reactFiber$"+rC,rN="__reactProps$"+rC,rD="__reactContainer$"+rC,rP="__reactEvents$"+rC,rR="__reactListeners$"+rC,rO="__reactHandles$"+rC;function rL(e){var t=e[rA];if(t)return t;for(var n=e.parentNode;n;){if(t=n[rD]||n[rA]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=rT(e);null!==e;){if(n=e[rA])return n;e=rT(e)}return t}n=(e=n).parentNode}return null}function rM(e){return(e=e[rA]||e[rD])&&(5===e.tag||6===e.tag||13===e.tag||3===e.tag)?e:null}function rF(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(h(33))}function rV(e){return e[rN]||null}var rU=[],rB=-1;function rj(e){return{current:e}}function rz(e){0>rB||(e.current=rU[rB],rU[rB]=null,rB--)}function rq(e,t){rU[++rB]=e.current,e.current=t}var r$={},rH=rj(r$),rK=rj(!1),rG=r$;function rW(e,t){var n=e.type.contextTypes;if(!n)return r$;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function rQ(e){return null!=(e=e.childContextTypes)}function rJ(){rz(rK),rz(rH)}function rY(e,t,n){if(rH.current!==r$)throw Error(h(168));rq(rH,t),rq(rK,n)}function rX(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(h(108,function(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function e(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case A:return"Fragment";case C:return"Portal";case D:return"Profiler";case N:return"StrictMode";case L:return"Suspense";case M:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case R:return(t.displayName||"Context")+".Consumer";case P:return(t._context.displayName||"Context")+".Provider";case O:var n=t.render;return(t=t.displayName)||(t=""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case F:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case V:n=t._payload,t=t._init;try{return e(t(n))}catch(e){}}return null}(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}(e)||"Unknown",i));return q({},n,r)}function rZ(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||r$,rG=rH.current,rq(rH,e),rq(rK,rK.current),!0}function r0(e,t,n){var r=e.stateNode;if(!r)throw Error(h(169));n?(e=rX(e,t,rG),r.__reactInternalMemoizedMergedChildContext=e,rz(rK),rz(rH),rq(rH,e)):rz(rK),rq(rK,n)}var r1=null,r2=!1,r4=!1;function r6(e){null===r1?r1=[e]:r1.push(e)}function r8(){if(!r4&&null!==r1){r4=!0;var e=0,t=tc;try{var n=r1;for(tc=1;e<n.length;e++){var r=n[e];do r=r(!0);while(null!==r)}r1=null,r2=!1}catch(t){throw null!==r1&&(r1=r1.slice(e+1)),eQ(e1,r8),t}finally{tc=t,r4=!1}}return null}var r3=[],r5=0,r7=null,r9=0,ie=[],it=0,ir=null,ii=1,is="";function ia(e,t){r3[r5++]=r9,r3[r5++]=r7,r7=e,r9=t}function io(e,t,n){ie[it++]=ii,ie[it++]=is,ie[it++]=ir,ir=e;var r=ii;e=is;var i=32-e7(r)-1;r&=~(1<<i),n+=1;var s=32-e7(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ii=1<<32-e7(t)+i|n<<i|r,is=s+e}else ii=1<<s|n<<i|r,is=e}function il(e){null!==e.return&&(ia(e,1),io(e,1,0))}function iu(e){for(;e===r7;)r7=r3[--r5],r3[r5]=null,r9=r3[--r5],r3[r5]=null;for(;e===ir;)ir=ie[--it],ie[it]=null,is=ie[--it],ie[it]=null,ii=ie[--it],ie[it]=null}var ic=null,ih=null,id=!1,ip=null;function im(e,t){var n=oQ(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ig(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ic=e,ih=rk(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ic=e,ih=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ir?{id:ii,overflow:is}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:0x40000000},(n=oQ(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ic=e,ih=null,!0);default:return!1}}function iy(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function iv(e){if(id){var t=ih;if(t){var n=t;if(!ig(e,t)){if(iy(e))throw Error(h(418));t=rk(n.nextSibling);var r=ic;t&&ig(e,t)?im(r,n):(e.flags=-4097&e.flags|2,id=!1,ic=e)}}else{if(iy(e))throw Error(h(418));e.flags=-4097&e.flags|2,id=!1,ic=e}}}function ix(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ic=e}function ib(e){if(e!==ic)return!1;if(!id)return ix(e),id=!0,!1;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!rx(e.type,e.memoizedProps)),t&&(t=ih)){if(iy(e))throw iw(),Error(h(418));for(;t;)im(e,t),t=rk(t.nextSibling)}if(ix(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(h(317));e:{for(t=0,e=e.nextSibling;e;){if(8===e.nodeType){var t,n=e.data;if("/$"===n){if(0===t){ih=rk(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ih=null}}else ih=ic?rk(e.stateNode.nextSibling):null;return!0}function iw(){for(var e=ih;e;)e=rk(e.nextSibling)}function i_(){ih=ic=null,id=!1}function iS(e){null===ip?ip=[e]:ip.push(e)}var iI=k.ReactCurrentBatchConfig;function iE(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(h(309));var r=n.stateNode}if(!r)throw Error(h(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:((t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e})._stringRef=s,t)}if("string"!=typeof e)throw Error(h(284));if(!n._owner)throw Error(h(290,e))}return e}function ik(e,t){throw Error(h(31,"[object Object]"===(e=Object.prototype.toString.call(t))?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function iT(e){return(0,e._init)(e._payload)}function iC(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=oY(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return(t.index=r,e)?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,r){return null===t||6!==t.tag?((t=o1(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var s=n.type;return s===A?c(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===V&&iT(s)===t.type)?((r=i(t,n.props)).ref=iE(e,t,n),r.return=e,r):((r=oX(n.type,n.key,n.props,null,e.mode,r)).ref=iE(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=o2(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function c(e,t,n,r,s){return null===t||7!==t.tag?((t=oZ(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=o1(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case T:return(n=oX(t.type,t.key,t.props,null,e.mode,n)).ref=iE(e,null,t),n.return=e,n;case C:return(t=o2(t,e.mode,n)).return=e,t;case V:return d(e,(0,t._init)(t._payload),n)}if(ei(t)||j(t))return(t=oZ(t,e.mode,n,null)).return=e,t;ik(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:o(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case T:return n.key===i?l(e,t,n,r):null;case C:return n.key===i?u(e,t,n,r):null;case V:return f(e,t,(i=n._init)(n._payload),r)}if(ei(n)||j(n))return null!==i?null:c(e,t,n,r,null);ik(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return o(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case T:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case C:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case V:return p(e,t,n,(0,r._init)(r._payload),i)}if(ei(r)||j(r))return c(t,e=e.get(n)||null,r,i,null);ik(t,r)}return null}return function o(l,u,c,m){if("object"==typeof c&&null!==c&&c.type===A&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case T:e:{for(var g=c.key,y=u;null!==y;){if(y.key===g){if((g=c.type)===A){if(7===y.tag){n(l,y.sibling),(u=i(y,c.props.children)).return=l,l=u;break e}}else if(y.elementType===g||"object"==typeof g&&null!==g&&g.$$typeof===V&&iT(g)===y.type){n(l,y.sibling),(u=i(y,c.props)).ref=iE(l,y,c),u.return=l,l=u;break e}n(l,y);break}t(l,y);y=y.sibling}c.type===A?((u=oZ(c.props.children,l.mode,m,c.key)).return=l,l=u):((m=oX(c.type,c.key,c.props,null,l.mode,m)).ref=iE(l,u,c),m.return=l,l=m)}return a(l);case C:e:{for(y=c.key;null!==u;){if(u.key===y){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(u=i(u,c.children||[])).return=l,l=u;break e}else{n(l,u);break}}t(l,u);u=u.sibling}(u=o2(c,l.mode,m)).return=l,l=u}return a(l);case V:return o(l,u,(y=c._init)(c._payload),m)}if(ei(c))return function(i,a,o,l){for(var u=null,c=null,h=a,m=a=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,o[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),a=s(y,a,m),null===c?u=y:c.sibling=y,c=y,h=g}if(m===o.length)return n(i,h),id&&ia(i,m),u;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(a=s(h,a,m),null===c?u=h:c.sibling=h,c=h);return id&&ia(i,m),u}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=s(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach(function(e){return t(i,e)}),id&&ia(i,m),u}(l,u,c,m);if(j(c))return function(i,a,o,l){var u=j(o);if("function"!=typeof u)throw Error(h(150));if(null==(o=u.call(o)))throw Error(h(151));for(var c=u=null,m=a,g=a=0,y=null,v=o.next();null!==m&&!v.done;g++,v=o.next()){m.index>g?(y=m,m=null):y=m.sibling;var x=f(i,m,v.value,l);if(null===x){null===m&&(m=y);break}e&&m&&null===x.alternate&&t(i,m),a=s(x,a,g),null===c?u=x:c.sibling=x,c=x,m=y}if(v.done)return n(i,m),id&&ia(i,g),u;if(null===m){for(;!v.done;g++,v=o.next())null!==(v=d(i,v.value,l))&&(a=s(v,a,g),null===c?u=v:c.sibling=v,c=v);return id&&ia(i,g),u}for(m=r(i,m);!v.done;g++,v=o.next())null!==(v=p(m,i,g,v.value,l))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=s(v,a,g),null===c?u=v:c.sibling=v,c=v);return e&&m.forEach(function(e){return t(i,e)}),id&&ia(i,g),u}(l,u,c,m);ik(l,c)}return"string"==typeof c&&""!==c||"number"==typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(u=i(u,c)).return=l):(n(l,u),(u=o1(c,l.mode,m)).return=l),a(l=u)):n(l,u)}}var iA=iC(!0),iN=iC(!1),iD=rj(null),iP=null,iR=null,iO=null;function iL(){iO=iR=iP=null}function iM(e){var t=iD.current;rz(iD),e._currentValue=t}function iF(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function iV(e,t){iP=e,iO=iR=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(ao=!0),e.firstContext=null)}function iU(e){var t=e._currentValue;if(iO!==e){if(e={context:e,memoizedValue:t,next:null},null===iR){if(null===iP)throw Error(h(308));iR=e,iP.dependencies={lanes:0,firstContext:e}}else iR=iR.next=e}return t}var iB=null;function ij(e){null===iB?iB=[e]:iB.push(e)}function iz(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,ij(t)):(n.next=i.next,i.next=n),t.interleaved=n,iq(e,r)}function iq(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var i$=!1;function iH(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iK(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function iG(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function iW(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&a6)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,iq(e,n)}return null===(i=r.interleaved)?(t.next=t,ij(r)):(t.next=i.next,i.next=t),r.interleaved=t,iq(e,n)}function iQ(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tu(e,n)}}function iJ(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function iY(e,t,n,r){var i=e.updateQueue;i$=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,u=l.next;l.next=null,null===a?s=u:a.next=u,a=l;var c=e.alternate;null!==c&&(o=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l)}if(null!==s){var h=i.baseState;for(a=0,c=u=l=null,o=s;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(d="function"==typeof(p=m.payload)?p.call(f,h,d):p))break e;h=q({},h,d);break e;case 2:i$=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;else o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do a|=i.lane,i=i.next;while(i!==t)}else null===s&&(i.shared.lanes=0);on|=a,e.lanes=a,e.memoizedState=h}}function iX(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(h(191,i));i.call(r)}}}var iZ={},i0=rj(iZ),i1=rj(iZ),i2=rj(iZ);function i4(e){if(e===iZ)throw Error(h(174));return e}function i6(e,t){switch(rq(i2,t),rq(i1,e),rq(i0,iZ),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eh(null,"");break;default:t=(e=8===e?t.parentNode:t).namespaceURI||null,t=eh(t,e=e.tagName)}rz(i0),rq(i0,t)}function i8(){rz(i0),rz(i1),rz(i2)}function i3(e){i4(i2.current);var t=i4(i0.current),n=eh(t,e.type);t!==n&&(rq(i1,e),rq(i0,n))}function i5(e){i1.current===e&&(rz(i0),rz(i1))}var i7=rj(0);function i9(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var se=[];function st(){for(var e=0;e<se.length;e++)se[e]._workInProgressVersionPrimary=null;se.length=0}var sn=k.ReactCurrentDispatcher,sr=k.ReactCurrentBatchConfig,si=0,ss=null,sa=null,so=null,sl=!1,su=!1,sc=0,sh=0;function sd(){throw Error(h(321))}function sf(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nM(e[n],t[n]))return!1;return!0}function sp(e,t,n,r,i,s){if(si=s,ss=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sn.current=null===e||null===e.memoizedState?sY:sX,e=n(r,i),su){s=0;do{if(su=!1,sc=0,25<=s)throw Error(h(301));s+=1,so=sa=null,t.updateQueue=null,sn.current=sZ,e=n(r,i)}while(su)}if(sn.current=sJ,t=null!==sa&&null!==sa.next,si=0,so=sa=ss=null,sl=!1,t)throw Error(h(300));return e}function sm(){var e=0!==sc;return sc=0,e}function sg(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===so?ss.memoizedState=so=e:so=so.next=e,so}function sy(){if(null===sa){var e=ss.alternate;e=null!==e?e.memoizedState:null}else e=sa.next;var t=null===so?ss.memoizedState:so.next;if(null!==t)so=t,sa=e;else{if(null===e)throw Error(h(310));e={memoizedState:(sa=e).memoizedState,baseState:sa.baseState,baseQueue:sa.baseQueue,queue:sa.queue,next:null},null===so?ss.memoizedState=so=e:so=so.next=e}return so}function sv(e,t){return"function"==typeof t?t(e):t}function sx(e){var t=sy(),n=t.queue;if(null===n)throw Error(h(311));n.lastRenderedReducer=e;var r=sa,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var c=u.lane;if((si&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(o=l=d,a=r):l=l.next=d,ss.lanes|=c,on|=c}u=u.next}while(null!==u&&u!==s);null===l?a=r:l.next=o,nM(r,t.memoizedState)||(ao=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do s=i.lane,ss.lanes|=s,on|=s,i=i.next;while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function sb(e){var t=sy(),n=t.queue;if(null===n)throw Error(h(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);nM(s,t.memoizedState)||(ao=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function sw(){}function s_(e,t){var n=ss,r=sy(),i=t(),s=!nM(r.memoizedState,i);if(s&&(r.memoizedState=i,ao=!0),r=r.queue,sO(sE.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==so&&1&so.memoizedState.tag){if(n.flags|=2048,sA(9,sI.bind(null,n,r,i,t),void 0,null),null===a8)throw Error(h(349));0!=(30&si)||sS(n,t,i)}return i}function sS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function sI(e,t,n,r){t.value=n,t.getSnapshot=r,sk(t)&&sT(e)}function sE(e,t,n){return n(function(){sk(t)&&sT(e)})}function sk(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nM(e,n)}catch(e){return!0}}function sT(e){var t=iq(e,1);null!==t&&o_(t,e,1,-1)}function sC(e){var t=sg();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sv,lastRenderedState:e},t.queue=e,e=e.dispatch=sK.bind(null,ss,e),[t.memoizedState,e]}function sA(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function sN(){return sy().memoizedState}function sD(e,t,n,r){var i=sg();ss.flags|=e,i.memoizedState=sA(1|t,n,void 0,void 0===r?null:r)}function sP(e,t,n,r){var i=sy();r=void 0===r?null:r;var s=void 0;if(null!==sa){var a=sa.memoizedState;if(s=a.destroy,null!==r&&sf(r,a.deps)){i.memoizedState=sA(t,n,s,r);return}}ss.flags|=e,i.memoizedState=sA(1|t,n,s,r)}function sR(e,t){return sD(8390656,8,e,t)}function sO(e,t){return sP(2048,8,e,t)}function sL(e,t){return sP(4,2,e,t)}function sM(e,t){return sP(4,4,e,t)}function sF(e,t){return"function"==typeof t?(t(e=e()),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function sV(e,t,n){return n=null!=n?n.concat([e]):null,sP(4,4,sF.bind(null,t,e),n)}function sU(){}function sB(e,t){var n=sy();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&sf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sj(e,t){var n=sy();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&sf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function sz(e,t,n){return 0==(21&si)?(e.baseState&&(e.baseState=!1,ao=!0),e.memoizedState=n):(nM(n,t)||(n=ta(),ss.lanes|=n,on|=n,e.baseState=!0),t)}function sq(e,t){var n=tc;tc=0!==n&&4>n?n:4,e(!0);var r=sr.transition;sr.transition={};try{e(!1),t()}finally{tc=n,sr.transition=r}}function s$(){return sy().memoizedState}function sH(e,t,n){var r=ow(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sG(e)?sW(t,n):null!==(n=iz(e,t,n,r))&&(o_(n,e,r,ob()),sQ(n,t,r))}function sK(e,t,n){var r=ow(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sG(e))sW(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,nM(o,a)){var l=t.interleaved;null===l?(i.next=i,ij(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch(e){}finally{}null!==(n=iz(e,t,i,r))&&(o_(n,e,r,i=ob()),sQ(n,t,r))}}function sG(e){var t=e.alternate;return e===ss||null!==t&&t===ss}function sW(e,t){su=sl=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sQ(e,t,n){if(0!=(4194240&n)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tu(e,n)}}var sJ={readContext:iU,useCallback:sd,useContext:sd,useEffect:sd,useImperativeHandle:sd,useInsertionEffect:sd,useLayoutEffect:sd,useMemo:sd,useReducer:sd,useRef:sd,useState:sd,useDebugValue:sd,useDeferredValue:sd,useTransition:sd,useMutableSource:sd,useSyncExternalStore:sd,useId:sd,unstable_isNewReconciler:!1},sY={readContext:iU,useCallback:function(e,t){return sg().memoizedState=[e,void 0===t?null:t],e},useContext:iU,useEffect:sR,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,sD(4194308,4,sF.bind(null,t,e),n)},useLayoutEffect:function(e,t){return sD(4194308,4,e,t)},useInsertionEffect:function(e,t){return sD(4,2,e,t)},useMemo:function(e,t){var n=sg();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sg();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=sH.bind(null,ss,e),[r.memoizedState,e]},useRef:function(e){var t=sg();return e={current:e},t.memoizedState=e},useState:sC,useDebugValue:sU,useDeferredValue:function(e){return sg().memoizedState=e},useTransition:function(){var e=sC(!1),t=e[0];return e=sq.bind(null,e[1]),sg().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ss,i=sg();if(id){if(void 0===n)throw Error(h(407));n=n()}else{if(n=t(),null===a8)throw Error(h(349));0!=(30&si)||sS(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,sR(sE.bind(null,r,s,e),[e]),r.flags|=2048,sA(9,sI.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=sg(),t=a8.identifierPrefix;if(id){var n=is,r=ii;t=":"+t+"R"+(n=(r&~(1<<32-e7(r)-1)).toString(32)+n),0<(n=sc++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=sh++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sX={readContext:iU,useCallback:sB,useContext:iU,useEffect:sO,useImperativeHandle:sV,useInsertionEffect:sL,useLayoutEffect:sM,useMemo:sj,useReducer:sx,useRef:sN,useState:function(){return sx(sv)},useDebugValue:sU,useDeferredValue:function(e){return sz(sy(),sa.memoizedState,e)},useTransition:function(){return[sx(sv)[0],sy().memoizedState]},useMutableSource:sw,useSyncExternalStore:s_,useId:s$,unstable_isNewReconciler:!1},sZ={readContext:iU,useCallback:sB,useContext:iU,useEffect:sO,useImperativeHandle:sV,useInsertionEffect:sL,useLayoutEffect:sM,useMemo:sj,useReducer:sb,useRef:sN,useState:function(){return sb(sv)},useDebugValue:sU,useDeferredValue:function(e){var t=sy();return null===sa?t.memoizedState=e:sz(t,sa.memoizedState,e)},useTransition:function(){return[sb(sv)[0],sy().memoizedState]},useMutableSource:sw,useSyncExternalStore:s_,useId:s$,unstable_isNewReconciler:!1};function s0(e,t){if(e&&e.defaultProps)for(var n in t=q({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}function s1(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:q({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var s2={isMounted:function(e){return!!(e=e._reactInternals)&&eH(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ob(),i=ow(e),s=iG(r,i);s.payload=t,null!=n&&(s.callback=n),null!==(t=iW(e,s,i))&&(o_(t,e,i,r),iQ(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ob(),i=ow(e),s=iG(r,i);s.tag=1,s.payload=t,null!=n&&(s.callback=n),null!==(t=iW(e,s,i))&&(o_(t,e,i,r),iQ(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ob(),r=ow(e),i=iG(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=iW(e,i,r))&&(o_(t,e,r,n),iQ(t,e,r))}};function s4(e,t,n,r,i,s,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||!nF(n,r)||!nF(i,s)}function s6(e,t,n){var r=!1,i=r$,s=t.contextType;return"object"==typeof s&&null!==s?s=iU(s):(i=rQ(t)?rG:rH.current,s=(r=null!=(r=t.contextTypes))?rW(e,i):r$),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=s2,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function s8(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&s2.enqueueReplaceState(t,t.state,null)}function s3(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},iH(e);var s=t.contextType;"object"==typeof s&&null!==s?i.context=iU(s):(s=rQ(t)?rG:rH.current,i.context=rW(e,s)),i.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(s1(e,t,s,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&s2.enqueueReplaceState(i,i.state,null),iY(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function s5(e,t){try{var n="",r=t;do n+=function(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 1:return e=K(e.type,!0);default:return""}}(r),r=r.return;while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function s7(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function s9(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var ae="function"==typeof WeakMap?WeakMap:Map;function at(e,t,n){(n=iG(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){oc||(oc=!0,oh=r),s9(e,t)},n}function an(e,t,n){(n=iG(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){s9(e,t)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){s9(e,t),"function"!=typeof r&&(null===od?od=new Set([this]):od.add(this));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}function ar(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ae;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=oq.bind(null,e,t,n),t.then(e,e))}function ai(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function as(e,t,n,r,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=iG(-1,1)).tag=2,iW(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var aa=k.ReactCurrentOwner,ao=!1;function al(e,t,n,r){t.child=null===e?iN(t,null,n,r):iA(t,e.child,n,r)}function au(e,t,n,r,i){n=n.render;var s=t.ref;return(iV(t,i),r=sp(e,t,n,r,s,i),n=sm(),null===e||ao)?(id&&n&&il(t),t.flags|=1,al(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,aC(e,t,i))}function ac(e,t,n,r,i){if(null===e){var s=n.type;return"function"!=typeof s||oJ(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=oX(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ah(e,t,s,r,i))}if(s=e.child,0==(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:nF)(a,r)&&e.ref===t.ref)return aC(e,t,i)}return t.flags|=1,(e=oY(s,r)).ref=t.ref,e.return=t,t.child=e}function ah(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(nF(s,r)&&e.ref===t.ref){if(ao=!1,t.pendingProps=r=s,0==(e.lanes&i))return t.lanes=e.lanes,aC(e,t,i);else 0!=(131072&e.flags)&&(ao=!0)}}return ap(e,t,n,r,i)}function ad(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},rq(a9,a7),a7|=n;else{if(0==(0x40000000&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=0x40000000,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,rq(a9,a7),a7|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,rq(a9,a7),a7|=r}}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,rq(a9,a7),a7|=r;return al(e,t,i,n),t.child}function af(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ap(e,t,n,r,i){var s=rQ(n)?rG:rH.current;return(s=rW(t,s),iV(t,i),n=sp(e,t,n,r,s,i),r=sm(),null===e||ao)?(id&&r&&il(t),t.flags|=1,al(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,aC(e,t,i))}function am(e,t,n,r,i){if(rQ(n)){var s=!0;rZ(t)}else s=!1;if(iV(t,i),null===t.stateNode)aT(e,t),s6(t,n,r),s3(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;u="object"==typeof u&&null!==u?iU(u):rW(t,u=rQ(n)?rG:rH.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==r||l!==u)&&s8(t,a,r,u),i$=!1;var d=t.memoizedState;a.state=d,iY(t,r,a,i),l=t.memoizedState,o!==r||d!==l||rK.current||i$?("function"==typeof c&&(s1(t,n,c,r),l=t.memoizedState),(o=i$||s4(t,n,o,r,d,l,u))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,iK(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:s0(t.type,o),a.props=u,h=t.pendingProps,d=a.context,l="object"==typeof(l=n.contextType)&&null!==l?iU(l):rW(t,l=rQ(n)?rG:rH.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==h||d!==l)&&s8(t,a,r,l),i$=!1,d=t.memoizedState,a.state=d,iY(t,r,a,i);var p=t.memoizedState;o!==h||d!==p||rK.current||i$?("function"==typeof f&&(s1(t,n,f,r),p=t.memoizedState),(u=i$||s4(t,n,u,r,d,p,l)||!1)?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return ag(e,t,n,r,s,i)}function ag(e,t,n,r,i,s){af(e,t);var a=0!=(128&t.flags);if(!r&&!a)return i&&r0(t,n,!1),aC(e,t,s);r=t.stateNode,aa.current=t;var o=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=iA(t,e.child,null,s),t.child=iA(t,null,o,s)):al(e,t,o,s),t.memoizedState=r.state,i&&r0(t,n,!0),t.child}function ay(e){var t=e.stateNode;t.pendingContext?rY(e,t.pendingContext,t.pendingContext!==t.context):t.context&&rY(e,t.context,!1),i6(e,t.containerInfo)}function av(e,t,n,r,i){return i_(),iS(i),t.flags|=256,al(e,t,n,r),t.child}var ax={dehydrated:null,treeContext:null,retryLane:0};function ab(e){return{baseLanes:e,cachePool:null,transitions:null}}function aw(e,t,n){var r,i=t.pendingProps,s=i7.current,a=!1,o=0!=(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!=(2&s)),r?(a=!0,t.flags&=-129):(null===e||null!==e.memoizedState)&&(s|=1),rq(i7,1&s),null===e)return(iv(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated))?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=0x40000000,null):(o=i.children,e=i.fallback,a?(i=t.mode,a=t.child,o={mode:"hidden",children:o},0==(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=o):a=o0(o,i,0,null),e=oZ(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ab(n),t.memoizedState=ax,e):a_(t,o));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,aS(e,t,a,r=s7(Error(h(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=o0({mode:"visible",children:r.children},i,0,null),s=oZ(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!=(1&t.mode)&&iA(t,e.child,null,a),t.child.memoizedState=ab(a),t.memoizedState=ax,s);if(0==(1&t.mode))return aS(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var o=r.dgst;return r=o,aS(e,t,a,r=s7(s=Error(h(419)),r,void 0))}if(o=0!=(a&e.childLanes),ao||o){if(null!==(r=a8)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:i=32;break;case 0x20000000:i=0x10000000;break;default:i=0}0!==(i=0!=(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,iq(e,i),o_(r,e,i,-1))}return oL(),aS(e,t,a,r=s7(Error(h(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=oH.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ih=rk(i.nextSibling),ic=t,id=!0,ip=null,null!==e&&(ie[it++]=ii,ie[it++]=is,ie[it++]=ir,ii=e.id,is=e.overflow,ir=t),t=a_(t,r.children),t.flags|=4096,t)}(e,t,o,i,r,s,n);if(a){a=i.fallback,o=t.mode,r=(s=e.child).sibling;var l={mode:"hidden",children:i.children};return 0==(1&o)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=oY(s,l)).subtreeFlags=0xe00000&s.subtreeFlags,null!==r?a=oY(r,a):(a=oZ(a,o,n,null),a.flags|=2),a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,o=null===(o=e.child.memoizedState)?ab(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=ax,i}return e=(a=e.child).sibling,i=oY(a,{mode:"visible",children:i.children}),0==(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function a_(e,t){return(t=o0({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function aS(e,t,n,r){return null!==r&&iS(r),iA(t,e.child,null,n),e=a_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function aI(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),iF(e.return,t,n)}function aE(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ak(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(al(e,t,r.children,n),0!=(2&(r=i7.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&aI(e,n,t);else if(19===e.tag)aI(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(rq(i7,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(i=null,n=t.child;null!==n;)null!==(e=n.alternate)&&null===i9(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),aE(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===i9(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}aE(t,!0,n,null,s);break;case"together":aE(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function aT(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function aC(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),on|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(h(153));if(null!==t.child){for(n=oY(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=oY(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function aA(e,t){if(!id)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function aN(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=0xe00000&i.subtreeFlags,r|=0xe00000&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}i=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},s=function(){},a=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,i4(i0.current);var s,a=null;switch(n){case"input":i=X(e,i),r=X(e,r),a=[];break;case"select":i=q({},i,{value:void 0}),r=q({},r,{value:void 0}),a=[];break;case"textarea":i=ea(e,i),r=ea(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=rg)}for(u in ew(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u]){if("style"===u){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(f.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null))}for(u in r){var l=r[u];if(o=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(null!=l||null!=o)){if("style"===u){if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(u,n)),n=l}else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,o=o?o.__html:void 0,null!=l&&o!==l&&(a=a||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(a=a||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(f.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&rn("scroll",e),a||o===l||(a=[])):(a=a||[]).push(u,l))}}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},o=function(e,t,n,r){n!==r&&(t.flags|=4)};var aD=!1,aP=!1,aR="function"==typeof WeakSet?WeakSet:Set,aO=null;function aL(e,t){var n=e.ref;if(null!==n){if("function"==typeof n)try{n(null)}catch(n){oz(e,t,n)}else n.current=null}}function aM(e,t,n){try{n()}catch(n){oz(e,t,n)}}var aF=!1;function aV(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&aM(t,n,s)}i=i.next}while(i!==r)}}function aU(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function aB(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag;e=n;"function"==typeof t?t(e):t.current=e}}function aj(e){return 5===e.tag||3===e.tag||4===e.tag}function az(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||aj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}var aq=null,a$=!1;function aH(e,t,n){for(n=n.child;null!==n;)aK(e,t,n),n=n.sibling}function aK(e,t,n){if(e5&&"function"==typeof e5.onCommitFiberUnmount)try{e5.onCommitFiberUnmount(e3,n)}catch(e){}switch(n.tag){case 5:aP||aL(n,t);case 6:var r=aq,i=a$;aq=null,aH(e,t,n),aq=r,a$=i,null!==aq&&(a$?(e=aq,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):aq.removeChild(n.stateNode));break;case 18:null!==aq&&(a$?(e=aq,n=n.stateNode,8===e.nodeType?rE(e.parentNode,n):1===e.nodeType&&rE(e,n),tR(e)):rE(aq,n.stateNode));break;case 4:r=aq,i=a$,aq=n.stateNode.containerInfo,a$=!0,aH(e,t,n),aq=r,a$=i;break;case 0:case 11:case 14:case 15:if(!aP&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!=(2&s)?aM(n,t,a):0!=(4&s)&&aM(n,t,a)),i=i.next}while(i!==r)}aH(e,t,n);break;case 1:if(!aP&&(aL(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){oz(n,t,e)}aH(e,t,n);break;case 21:default:aH(e,t,n);break;case 22:1&n.mode?(aP=(r=aP)||null!==n.memoizedState,aH(e,t,n),aP=r):aH(e,t,n)}}function aG(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new aR),t.forEach(function(t){var r=oK.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function aW(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=s;e:for(;null!==a;){switch(a.tag){case 5:aq=a.stateNode,a$=!1;break e;case 3:case 4:aq=a.stateNode.containerInfo,a$=!0;break e}a=a.return}if(null===aq)throw Error(h(160));aK(e,s,i),aq=null,a$=!1;var o=i.alternate;null!==o&&(o.return=null),i.return=null}catch(e){oz(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)aQ(t,e),t=t.sibling}function aQ(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(aW(t,e),aJ(e),4&r){try{aV(3,e,e.return),aU(3,e)}catch(t){oz(e,e.return,t)}try{aV(5,e,e.return)}catch(t){oz(e,e.return,t)}}break;case 1:aW(t,e),aJ(e),512&r&&null!==n&&aL(n,n.return);break;case 5:if(aW(t,e),aJ(e),512&r&&null!==n&&aL(n,n.return),32&e.flags){var i=e.stateNode;try{em(i,"")}catch(t){oz(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===o&&"radio"===s.type&&null!=s.name&&ee(i,s),e_(o,a);var u=e_(o,s);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];"style"===c?ex(i,d):"dangerouslySetInnerHTML"===c?ep(i,d):"children"===c?em(i,d):E(i,c,d,u)}switch(o){case"input":et(i,s);break;case"textarea":el(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?es(i,!!s.multiple,p,!1):!!s.multiple!==f&&(null!=s.defaultValue?es(i,!!s.multiple,s.defaultValue,!0):es(i,!!s.multiple,s.multiple?[]:"",!1))}i[rN]=s}catch(t){oz(e,e.return,t)}}break;case 6:if(aW(t,e),aJ(e),4&r){if(null===e.stateNode)throw Error(h(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(t){oz(e,e.return,t)}}break;case 3:if(aW(t,e),aJ(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{tR(t.containerInfo)}catch(t){oz(e,e.return,t)}break;case 4:default:aW(t,e),aJ(e);break;case 13:aW(t,e),aJ(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,s&&(null===i.alternate||null===i.alternate.memoizedState)&&(oo=eZ())),4&r&&aG(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(aP=(u=aP)||c,aW(t,e),aP=u):aW(t,e),aJ(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!c&&0!=(1&e.mode))for(aO=e,c=e.child;null!==c;){for(d=aO=c;null!==aO;){switch(p=(f=aO).child,f.tag){case 0:case 11:case 14:case 15:aV(4,f,f.return);break;case 1:aL(f,f.return);var m=f.stateNode;if("function"==typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){oz(r,n,e)}}break;case 5:aL(f,f.return);break;case 22:if(null!==f.memoizedState){aX(d);continue}}null!==p?(p.return=f,aO=p):aX(d)}c=c.sibling}e:for(c=null,d=e;;){if(5===d.tag){if(null===c){c=d;try{i=d.stateNode,u?(s=i.style,"function"==typeof s.setProperty?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,a=null!=(l=d.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,o.style.display=ev("display",a))}catch(t){oz(e,e.return,t)}}}else if(6===d.tag){if(null===c)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(t){oz(e,e.return,t)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:aW(t,e),aJ(e),4&r&&aG(e);case 21:}}function aJ(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(aj(n)){var r=n;break e}n=n.return}throw Error(h(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(em(i,""),r.flags&=-33);var s=az(e);!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=az(e);!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!=(r=r._reactRootContainer)||null!==n.onclick||(n.onclick=rg));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,o,a);break;default:throw Error(h(161))}}catch(t){oz(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function aY(e){for(;null!==aO;){var t=aO;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:aP||aU(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!aP){if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:s0(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}}var s=t.updateQueue;null!==s&&iX(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}iX(t,a,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var d=c.dehydrated;null!==d&&tR(d)}}}break;default:throw Error(h(163))}aP||512&t.flags&&aB(t)}catch(e){oz(t,t.return,e)}}if(t===e){aO=null;break}if(null!==(n=t.sibling)){n.return=t.return,aO=n;break}aO=t.return}}function aX(e){for(;null!==aO;){var t=aO;if(t===e){aO=null;break}var n=t.sibling;if(null!==n){n.return=t.return,aO=n;break}aO=t.return}}function aZ(e){for(;null!==aO;){var t=aO;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{aU(4,t)}catch(e){oz(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){oz(t,i,e)}}var s=t.return;try{aB(t)}catch(e){oz(t,s,e)}break;case 5:var a=t.return;try{aB(t)}catch(e){oz(t,a,e)}}}catch(e){oz(t,t.return,e)}if(t===e){aO=null;break}var o=t.sibling;if(null!==o){o.return=t.return,aO=o;break}aO=t.return}}var a0=Math.ceil,a1=k.ReactCurrentDispatcher,a2=k.ReactCurrentOwner,a4=k.ReactCurrentBatchConfig,a6=0,a8=null,a3=null,a5=0,a7=0,a9=rj(0),oe=0,ot=null,on=0,or=0,oi=0,os=null,oa=null,oo=0,ol=1/0,ou=null,oc=!1,oh=null,od=null,of=!1,op=null,om=0,og=0,oy=null,ov=-1,ox=0;function ob(){return 0!=(6&a6)?eZ():-1!==ov?ov:ov=eZ()}function ow(e){return 0==(1&e.mode)?1:0!=(2&a6)&&0!==a5?a5&-a5:null!==iI.transition?(0===ox&&(ox=ta()),ox):0!==(e=tc)?e:e=void 0===(e=window.event)?16:tj(e.type)}function o_(e,t,n,r){if(50<og)throw og=0,oy=null,Error(h(185));tl(e,n,r),(0==(2&a6)||e!==a8)&&(e===a8&&(0==(2&a6)&&(or|=n),4===oe&&oT(e,a5)),oS(e,r),1===n&&0===a6&&0==(1&t.mode)&&(ol=eZ()+500,r2&&r8()))}function oS(e,t){var n,r=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-e7(s),o=1<<a,l=i[a];-1===l?(0==(o&n)||0!=(o&r))&&(i[a]=function(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return -1}}(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var i=ti(e,e===a8?a5:0);if(0===i)null!==r&&eJ(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=r&&eJ(r),1===t){;0===e.tag?(n=oC.bind(null,e),r2=!0,r6(n)):r6(oC.bind(null,e)),rS(function(){0==(6&a6)&&r8()}),r=null}else{switch(th(i)){case 1:r=e1;break;case 4:r=e2;break;case 16:default:r=e4;break;case 0x20000000:r=e8}r=function(e,t){return eQ(e,t)}(r,oI.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function oI(e,t){if(ov=-1,ox=0,0!=(6&a6))throw Error(h(327));var n=e.callbackNode;if(oB()&&e.callbackNode!==n)return null;var r=ti(e,e===a8?a5:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=oM(e,r);else{t=r;var i=a6;a6|=2;var s=oO();for((a8!==e||a5!==t)&&(ou=null,ol=eZ()+500,oP(e,t));;)try{(function(){for(;null!==a3&&!eY();)oF(a3)})();break}catch(t){oR(e,t)}iL(),a1.current=s,a6=i,null!==a3?t=0:(a8=null,a5=0,t=oe)}if(0!==t){if(2===t&&0!==(i=ts(e))&&(r=i,t=oE(e,i)),1===t)throw n=ot,oP(e,0),oT(e,r),oS(e,eZ()),n;if(6===t)oT(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!nM(s(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=oM(e,r))&&0!==(s=ts(e))&&(r=s,t=oE(e,s)),1===t))throw n=ot,oP(e,0),oT(e,r),oS(e,eZ()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(h(345));case 2:case 5:oU(e,oa,ou);break;case 3:if(oT(e,r),(0x7c00000&r)===r&&10<(t=oo+500-eZ())){if(0!==ti(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ob(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=rb(oU.bind(null,e,oa,ou),t);break}oU(e,oa,ou);break;case 4:if(oT(e,r),(4194240&r)===r)break;for(i=-1,t=e.eventTimes;0<r;){var a=31-e7(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=eZ()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*a0(r/1960))-r)){e.timeoutHandle=rb(oU.bind(null,e,oa,ou),r);break}oU(e,oa,ou);break;default:throw Error(h(329))}}}return oS(e,eZ()),e.callbackNode===n?oI.bind(null,e):null}function oE(e,t){var n=os;return e.current.memoizedState.isDehydrated&&(oP(e,t).flags|=256),2!==(e=oM(e,t))&&(t=oa,oa=n,null!==t&&ok(t)),e}function ok(e){null===oa?oa=e:oa.push.apply(oa,e)}function oT(e,t){for(t&=~oi,t&=~or,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-e7(t),r=1<<n;e[n]=-1,t&=~r}}function oC(e){if(0!=(6&a6))throw Error(h(327));oB();var t=ti(e,0);if(0==(1&t))return oS(e,eZ()),null;var n=oM(e,t);if(0!==e.tag&&2===n){var r=ts(e);0!==r&&(t=r,n=oE(e,r))}if(1===n)throw n=ot,oP(e,0),oT(e,t),oS(e,eZ()),n;if(6===n)throw Error(h(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,oU(e,oa,ou),oS(e,eZ()),null}function oA(e,t){var n=a6;a6|=1;try{return e(t)}finally{0===(a6=n)&&(ol=eZ()+500,r2&&r8())}}function oN(e){null!==op&&0===op.tag&&0==(6&a6)&&oB();var t=a6;a6|=1;var n=a4.transition,r=tc;try{if(a4.transition=null,tc=1,e)return e()}finally{tc=r,a4.transition=n,0==(6&(a6=t))&&r8()}}function oD(){a7=a9.current,rz(a9)}function oP(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rw(n)),null!==a3)for(n=a3.return;null!==n;){var r=n;switch(iu(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&rJ();break;case 3:i8(),rz(rK),rz(rH),st();break;case 5:i5(r);break;case 4:i8();break;case 13:case 19:rz(i7);break;case 10:iM(r.type._context);break;case 22:case 23:oD()}n=n.return}if(a8=e,a3=e=oY(e.current,null),a5=a7=t,oe=0,ot=null,oi=or=on=0,oa=os=null,null!==iB){for(t=0;t<iB.length;t++)if(null!==(r=(n=iB[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}iB=null}return e}function oR(e,t){for(;;){var n=a3;try{if(iL(),sn.current=sJ,sl){for(var r=ss.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}sl=!1}if(si=0,so=sa=ss=null,su=!1,sc=0,a2.current=null,null===n||null===n.return){oe=1,ot=t,a3=null;break}e:{var s=e,a=n.return,o=n,l=t;if(t=a5,o.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l,c=o,d=c.tag;if(0==(1&c.mode)&&(0===d||11===d||15===d)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=ai(a);if(null!==p){p.flags&=-257,as(p,a,o,s,t),1&p.mode&&ar(s,u,t),t=p,l=u;var m=t.updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0==(1&t)){ar(s,u,t),oL();break e}l=Error(h(426))}else if(id&&1&o.mode){var y=ai(a);if(null!==y){0==(65536&y.flags)&&(y.flags|=256),as(y,a,o,s,t),iS(s5(l,o));break e}}s=l=s5(l,o),4!==oe&&(oe=2),null===os?os=[s]:os.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=at(s,l,t);iJ(s,v);break e;case 1:o=l;var x=s.type,b=s.stateNode;if(0==(128&s.flags)&&("function"==typeof x.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===od||!od.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=an(s,o,t);iJ(s,w);break e}}s=s.return}while(null!==s)}oV(n)}catch(e){t=e,a3===n&&null!==n&&(a3=n=n.return);continue}break}}function oO(){var e=a1.current;return a1.current=sJ,null===e?sJ:e}function oL(){(0===oe||3===oe||2===oe)&&(oe=4),null===a8||0==(0xfffffff&on)&&0==(0xfffffff&or)||oT(a8,a5)}function oM(e,t){var n=a6;a6|=2;var r=oO();for((a8!==e||a5!==t)&&(ou=null,oP(e,t));;)try{(function(){for(;null!==a3;)oF(a3)})();break}catch(t){oR(e,t)}if(iL(),a6=n,a1.current=r,null!==a3)throw Error(h(261));return a8=null,a5=0,oe}function oF(e){var t=l(e.alternate,e,a7);e.memoizedProps=e.pendingProps,null===t?oV(e):a3=t,a2.current=null}function oV(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=function(e,t,n){var r=t.pendingProps;switch(iu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return aN(t),null;case 1:case 17:return rQ(t.type)&&rJ(),aN(t),null;case 3:return r=t.stateNode,i8(),rz(rK),rz(rH),st(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(null===e||null===e.child)&&(ib(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==ip&&(ok(ip),ip=null))),s(e,t),aN(t),null;case 5:i5(t);var l=i4(i2.current);if(n=t.type,null!==e&&null!=t.stateNode)a(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(h(166));return aN(t),null}if(e=i4(i0.current),ib(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[rA]=t,r[rN]=u,e=0!=(1&t.mode),n){case"dialog":rn("cancel",r),rn("close",r);break;case"iframe":case"object":case"embed":rn("load",r);break;case"video":case"audio":for(l=0;l<n7.length;l++)rn(n7[l],r);break;case"source":rn("error",r);break;case"img":case"image":case"link":rn("error",r),rn("load",r);break;case"details":rn("toggle",r);break;case"input":Z(r,u),rn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},rn("invalid",r);break;case"textarea":eo(r,u),rn("invalid",r)}for(var c in ew(n,u),l=null,u)if(u.hasOwnProperty(c)){var d=u[c];"children"===c?"string"==typeof d?r.textContent!==d&&(!0!==u.suppressHydrationWarning&&rm(r.textContent,d,e),l=["children",d]):"number"==typeof d&&r.textContent!==""+d&&(!0!==u.suppressHydrationWarning&&rm(r.textContent,d,e),l=["children",""+d]):f.hasOwnProperty(c)&&null!=d&&"onScroll"===c&&rn("scroll",r)}switch(n){case"input":Q(r),en(r,u,!0);break;case"textarea":Q(r),eu(r);break;case"select":case"option":break;default:"function"==typeof u.onClick&&(r.onclick=rg)}r=l,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===l.nodeType?l:l.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ec(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[rA]=t,e[rN]=r,i(e,t,!1,!1),t.stateNode=e;e:{switch(c=e_(n,r),n){case"dialog":rn("cancel",e),rn("close",e),l=r;break;case"iframe":case"object":case"embed":rn("load",e),l=r;break;case"video":case"audio":for(l=0;l<n7.length;l++)rn(n7[l],e);l=r;break;case"source":rn("error",e),l=r;break;case"img":case"image":case"link":rn("error",e),rn("load",e),l=r;break;case"details":rn("toggle",e),l=r;break;case"input":Z(e,r),l=X(e,r),rn("invalid",e);break;case"option":default:l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=q({},r,{value:void 0}),rn("invalid",e);break;case"textarea":eo(e,r),l=ea(e,r),rn("invalid",e)}for(u in ew(n,l),d=l)if(d.hasOwnProperty(u)){var p=d[u];"style"===u?ex(e,p):"dangerouslySetInnerHTML"===u?null!=(p=p?p.__html:void 0)&&ep(e,p):"children"===u?"string"==typeof p?("textarea"!==n||""!==p)&&em(e,p):"number"==typeof p&&em(e,""+p):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(f.hasOwnProperty(u)?null!=p&&"onScroll"===u&&rn("scroll",e):null!=p&&E(e,u,p,c))}switch(n){case"input":Q(e),en(e,r,!1);break;case"textarea":Q(e),eu(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?es(e,!!r.multiple,u,!1):null!=r.defaultValue&&es(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof l.onClick&&(e.onclick=rg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return aN(t),null;case 6:if(e&&null!=t.stateNode)o(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(h(166));if(n=i4(i2.current),i4(i0.current),ib(t)){if(r=t.stateNode,n=t.memoizedProps,r[rA]=t,(u=r.nodeValue!==n)&&null!==(e=ic))switch(e.tag){case 3:rm(r.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&rm(r.nodeValue,n,0!=(1&e.mode))}u&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[rA]=t,t.stateNode=r}return aN(t),null;case 13:if(rz(i7),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(id&&null!==ih&&0!=(1&t.mode)&&0==(128&t.flags))iw(),i_(),t.flags|=98560,u=!1;else if(u=ib(t),null!==r&&null!==r.dehydrated){if(null===e){if(!u)throw Error(h(318));if(!(u=null!==(u=t.memoizedState)?u.dehydrated:null))throw Error(h(317));u[rA]=t}else i_(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;aN(t),u=!1}else null!==ip&&(ok(ip),ip=null),u=!0;if(!u)return 65536&t.flags?t:null}if(0!=(128&t.flags))return t.lanes=n,t;return(r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&i7.current)?0===oe&&(oe=3):oL())),null!==t.updateQueue&&(t.flags|=4),aN(t),null;case 4:return i8(),s(e,t),null===e&&rs(t.stateNode.containerInfo),aN(t),null;case 10:return iM(t.type._context),aN(t),null;case 19:if(rz(i7),null===(u=t.memoizedState))return aN(t),null;if(r=0!=(128&t.flags),null===(c=u.rendering)){if(r)aA(u,!1);else{if(0!==oe||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=i9(e))){for(t.flags|=128,aA(u,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)u=n,e=r,u.flags&=0xe00002,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return rq(i7,1&i7.current|2),t.child}e=e.sibling}null!==u.tail&&eZ()>ol&&(t.flags|=128,r=!0,aA(u,!1),t.lanes=4194304)}}else{if(!r){if(null!==(e=i9(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),aA(u,!0),null===u.tail&&"hidden"===u.tailMode&&!c.alternate&&!id)return aN(t),null}else 2*eZ()-u.renderingStartTime>ol&&0x40000000!==n&&(t.flags|=128,r=!0,aA(u,!1),t.lanes=4194304)}u.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=u.last)?n.sibling=c:t.child=c,u.last=c)}if(null!==u.tail)return t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=eZ(),t.sibling=null,n=i7.current,rq(i7,r?1&n|2:1&n),t;return aN(t),null;case 22:case 23:return oD(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(0x40000000&a7)&&(aN(t),6&t.subtreeFlags&&(t.flags|=8192)):aN(t),null;case 24:case 25:return null}throw Error(h(156,t.tag))}(n,t,a7))){a3=n;return}}else{if(null!==(n=function(e,t){switch(iu(t),t.tag){case 1:return rQ(t.type)&&rJ(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return i8(),rz(rK),rz(rH),st(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return i5(t),null;case 13:if(rz(i7),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(h(340));i_()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return rz(i7),null;case 4:return i8(),null;case 10:return iM(t.type._context),null;case 22:case 23:return oD(),null;default:return null}}(n,t))){n.flags&=32767,a3=n;return}if(null!==e)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{oe=6,a3=null;return}}if(null!==(t=t.sibling)){a3=t;return}a3=t=e}while(null!==t);0===oe&&(oe=5)}function oU(e,t,n){var r=tc,i=a4.transition;try{a4.transition=null,tc=1,function(e,t,n,r){do oB();while(null!==op);if(0!=(6&a6))throw Error(h(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(h(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(!function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-e7(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,s),e===a8&&(a3=a8=null,a5=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||of||(of=!0,function(e,t){eQ(e,t)}(e4,function(){return oB(),null})),s=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||s){s=a4.transition,a4.transition=null;var a,o,l,u=tc;tc=1;var c=a6;a6|=4,a2.current=null,!function(e,t){if(ry=tL,nj(e=nB())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i,s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,f=e,p=null;t:for(;;){for(;f!==n||0!==s&&3!==f.nodeType||(l=o+s),f!==a||0!==r&&3!==f.nodeType||(u=o+r),3===f.nodeType&&(o+=f.nodeValue.length),null!==(i=f.firstChild);){;p=f,f=i}for(;;){if(f===e)break t;if(p===n&&++c===s&&(l=o),p===a&&++d===r&&(u=o),null!==(i=f.nextSibling))break;p=(f=p).parentNode}f=i}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(rv={focusedElem:e,selectionRange:n},tL=!1,aO=t;null!==aO;)if(e=(t=aO).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,aO=e;else for(;null!==aO;){t=aO;try{var m=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:s0(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(h(163))}}catch(e){oz(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,aO=e;break}aO=t.return}m=aF,aF=!1}(e,n),aQ(n,e),!function(e){var t=nB(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!!t&&!!n&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&nj(n)){if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=nU(n,s);var a=nU(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}(rv),tL=!!ry,rv=ry=null,e.current=n,a=n,o=e,l=i,aO=a,function e(t,n,r){for(var i=0!=(1&t.mode);null!==aO;){var s=aO,a=s.child;if(22===s.tag&&i){var o=null!==s.memoizedState||aD;if(!o){var l=s.alternate,u=null!==l&&null!==l.memoizedState||aP;l=aD;var c=aP;if(aD=o,(aP=u)&&!c)for(aO=s;null!==aO;)u=(o=aO).child,22===o.tag&&null!==o.memoizedState?aZ(s):null!==u?(u.return=o,aO=u):aZ(s);for(;null!==a;)aO=a,e(a,n,r),a=a.sibling;aO=s,aD=l,aP=c}aY(t,n,r)}else 0!=(8772&s.subtreeFlags)&&null!==a?(a.return=s,aO=a):aY(t,n,r)}}(a,o,l),eX(),a6=c,tc=u,a4.transition=s}else e.current=n;if(of&&(of=!1,op=e,om=i),0===(s=e.pendingLanes)&&(od=null),!function(e){if(e5&&"function"==typeof e5.onCommitFiberRoot)try{e5.onCommitFiberRoot(e3,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode,r),oS(e,eZ()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(oc)throw oc=!1,e=oh,oh=null,e;0!=(1&om)&&0!==e.tag&&oB(),0!=(1&(s=e.pendingLanes))?e===oy?og++:(og=0,oy=e):og=0,r8()}(e,t,n,r)}finally{a4.transition=i,tc=r}return null}function oB(){if(null!==op){var e=th(om),t=a4.transition,n=tc;try{if(a4.transition=null,tc=16>e?16:e,null===op)var r=!1;else{if(e=op,op=null,om=0,0!=(6&a6))throw Error(h(331));var i=a6;for(a6|=4,aO=e.current;null!==aO;){var s=aO,a=s.child;if(0!=(16&aO.flags)){var o=s.deletions;if(null!==o){for(var l=0;l<o.length;l++){var u=o[l];for(aO=u;null!==aO;){var c=aO;switch(c.tag){case 0:case 11:case 15:aV(8,c,s)}var d=c.child;if(null!==d)d.return=c,aO=d;else for(;null!==aO;){var f=(c=aO).sibling,p=c.return;if(!function e(t){var n=t.alternate;null!==n&&(t.alternate=null,e(n)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(n=t.stateNode)&&(delete n[rA],delete n[rN],delete n[rP],delete n[rR],delete n[rO]),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}(c),c===u){aO=null;break}if(null!==f){f.return=p,aO=f;break}aO=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}aO=s}}if(0!=(2064&s.subtreeFlags)&&null!==a)a.return=s,aO=a;else for(;null!==aO;){if(s=aO,0!=(2048&s.flags))switch(s.tag){case 0:case 11:case 15:aV(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,aO=v;break}aO=s.return}}var x=e.current;for(aO=x;null!==aO;){var b=(a=aO).child;if(0!=(2064&a.subtreeFlags)&&null!==b)b.return=a,aO=b;else for(a=x;null!==aO;){if(o=aO,0!=(2048&o.flags))try{switch(o.tag){case 0:case 11:case 15:aU(9,o)}}catch(e){oz(o,o.return,e)}if(o===a){aO=null;break}var w=o.sibling;if(null!==w){w.return=o.return,aO=w;break}aO=o.return}}if(a6=i,r8(),e5&&"function"==typeof e5.onPostCommitFiberRoot)try{e5.onPostCommitFiberRoot(e3,e)}catch(e){}r=!0}return r}finally{tc=n,a4.transition=t}}return!1}function oj(e,t,n){t=at(e,t=s5(n,t),1),e=iW(e,t,1),t=ob(),null!==e&&(tl(e,1,t),oS(e,t))}function oz(e,t,n){if(3===e.tag)oj(e,e,n);else for(;null!==t;){if(3===t.tag){oj(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===od||!od.has(r))){e=an(t,e=s5(n,e),1),t=iW(t,e,1),e=ob(),null!==t&&(tl(t,1,e),oS(t,e));break}}t=t.return}}function oq(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ob(),e.pingedLanes|=e.suspendedLanes&n,a8===e&&(a5&n)===n&&(4===oe||3===oe&&(0x7c00000&a5)===a5&&500>eZ()-oo?oP(e,0):oi|=n),oS(e,t)}function o$(e,t){0===t&&(0==(1&e.mode)?t=1:(t=tn,0==(0x7c00000&(tn<<=1))&&(tn=4194304)));var n=ob();null!==(e=iq(e,t))&&(tl(e,t,n),oS(e,n))}function oH(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),o$(e,n)}function oK(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(h(314))}null!==r&&r.delete(t),o$(e,n)}function oG(e,t){return eQ(e,t)}function oW(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oQ(e,t,n,r){return new oW(e,t,n,r)}function oJ(e){return!(!(e=e.prototype)||!e.isReactComponent)}l=function(e,t,n){if(null!==e){if(e.memoizedProps!==t.pendingProps||rK.current)ao=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return ao=!1,function(e,t,n){switch(t.tag){case 3:ay(t),i_();break;case 5:i3(t);break;case 1:rQ(t.type)&&rZ(t);break;case 4:i6(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;rq(iD,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState)){if(null!==r.dehydrated)return rq(i7,1&i7.current),t.flags|=128,null;if(0!=(n&t.child.childLanes))return aw(e,t,n);return rq(i7,1&i7.current),null!==(e=aC(e,t,n))?e.sibling:null}rq(i7,1&i7.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return ak(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),rq(i7,i7.current),!r)return null;break;case 22:case 23:return t.lanes=0,ad(e,t,n)}return aC(e,t,n)}(e,t,n);ao=0!=(131072&e.flags)}}else ao=!1,id&&0!=(1048576&t.flags)&&io(t,r9,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;aT(e,t),e=t.pendingProps;var i=rW(t,rH.current);iV(t,n),i=sp(null,t,r,e,i,n);var s=sm();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rQ(r)?(s=!0,rZ(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,iH(t),i.updater=s2,t.stateNode=i,i._reactInternals=t,s3(t,r,e,n),t=ag(null,t,r,!0,s,n)):(t.tag=0,id&&s&&il(t),al(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(aT(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return oJ(e)?1:0;if(null!=e){if((e=e.$$typeof)===O)return 11;if(e===F)return 14}return 2}(r),e=s0(r,e),i){case 0:t=ap(null,t,r,e,n);break e;case 1:t=am(null,t,r,e,n);break e;case 11:t=au(null,t,r,e,n);break e;case 14:t=ac(null,t,r,s0(r.type,e),n);break e}throw Error(h(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:s0(r,i),ap(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:s0(r,i),am(e,t,r,i,n);case 3:e:{if(ay(t),null===e)throw Error(h(387));r=t.pendingProps,i=(s=t.memoizedState).element,iK(e,t),iY(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){i=s5(Error(h(423)),t),t=av(e,t,r,n,i);break e}else if(r!==i){i=s5(Error(h(424)),t),t=av(e,t,r,n,i);break e}else for(ih=rk(t.stateNode.containerInfo.firstChild),ic=t,id=!0,ip=null,n=iN(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(i_(),r===i){t=aC(e,t,n);break e}al(e,t,r,n)}t=t.child}return t;case 5:return i3(t),null===e&&iv(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,rx(r,i)?a=null:null!==s&&rx(r,s)&&(t.flags|=32),af(e,t),al(e,t,a,n),t.child;case 6:return null===e&&iv(t),null;case 13:return aw(e,t,n);case 4:return i6(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=iA(t,null,r,n):al(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:s0(r,i),au(e,t,r,i,n);case 7:return al(e,t,t.pendingProps,n),t.child;case 8:case 12:return al(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,rq(iD,r._currentValue),r._currentValue=a,null!==s){if(nM(s.value,a)){if(s.children===i.children&&!rK.current){t=aC(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var o=s.dependencies;if(null!==o){a=s.child;for(var l=o.firstContext;null!==l;){if(l.context===r){if(1===s.tag){(l=iG(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var c=(u=u.shared).pending;null===c?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),iF(s.return,n,t),o.lanes|=n;break}l=l.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(h(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),iF(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}}al(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,iV(t,n),r=r(i=iU(i)),t.flags|=1,al(e,t,r,n),t.child;case 14:return i=s0(r=t.type,t.pendingProps),i=s0(r.type,i),ac(e,t,r,i,n);case 15:return ah(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:s0(r,i),aT(e,t),t.tag=1,rQ(r)?(e=!0,rZ(t)):e=!1,iV(t,n),s6(t,r,i),s3(t,r,i,n),ag(null,t,r,!0,e,n);case 19:return ak(e,t,n);case 22:return ad(e,t,n)}throw Error(h(156,t.tag))};function oY(e,t){var n=e.alternate;return null===n?((n=oQ(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=0xe00000&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function oX(e,t,n,r,i,s){var a=2;if(r=e,"function"==typeof e)oJ(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case A:return oZ(n.children,i,s,t);case N:a=8,i|=8;break;case D:return(e=oQ(12,n,t,2|i)).elementType=D,e.lanes=s,e;case L:return(e=oQ(13,n,t,i)).elementType=L,e.lanes=s,e;case M:return(e=oQ(19,n,t,i)).elementType=M,e.lanes=s,e;case U:return o0(n,i,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case P:a=10;break e;case R:a=9;break e;case O:a=11;break e;case F:a=14;break e;case V:a=16,r=null;break e}throw Error(h(130,null==e?e:typeof e,""))}return(t=oQ(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function oZ(e,t,n,r){return(e=oQ(7,e,r,t)).lanes=n,e}function o0(e,t,n,r){return(e=oQ(22,e,r,t)).elementType=U,e.lanes=n,e.stateNode={isHidden:!1},e}function o1(e,t,n){return(e=oQ(6,e,null,t)).lanes=n,e}function o2(e,t,n){return(t=oQ(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function o4(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=to(0),this.expirationTimes=to(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=to(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function o6(e,t,n,r,i,s,a,o,l){return e=new o4(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=oQ(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},iH(s),e}function o8(e){if(!e)return r$;e=e._reactInternals;e:{if(eH(e)!==e||1!==e.tag)throw Error(h(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rQ(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(h(171))}if(1===e.tag){var n=e.type;if(rQ(n))return rX(e,n,t)}return t}function o3(e,t,n,r,i,s,a,o,l){return(e=o6(n,r,!0,e,i,s,a,o,l)).context=o8(null),n=e.current,r=ob(),(s=iG(r,i=ow(n))).callback=null!=t?t:null,iW(n,s,i),e.current.lanes=i,tl(e,i,r),oS(e,r),e}function o5(e,t,n,r){var i=t.current,s=ob(),a=ow(i);return n=o8(n),null===t.context?t.context=n:t.pendingContext=n,(t=iG(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=iW(i,t,a))&&(o_(e,i,a,s),iQ(e,i,a)),a}function o7(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function o9(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function le(e,t){o9(e,t),(e=e.alternate)&&o9(e,t)}var lt="function"==typeof reportError?reportError:function(e){console.error(e)};function ln(e){this._internalRoot=e}function lr(e){this._internalRoot=e}function li(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function ls(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function la(){}lr.prototype.render=ln.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(h(409));o5(e,t,null,null)},lr.prototype.unmount=ln.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;oN(function(){o5(null,e,null,null)}),t[rD]=null}},lr.prototype.unstable_scheduleHydration=function(e){if(e){var t=tm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tI.length&&0!==t&&t<tI[n].priority;n++);tI.splice(n,0,e),0===n&&tC(e)}};function lo(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"==typeof i){var o=i;i=function(){var e=o7(a);o.call(e)}}o5(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"==typeof r){var s=r;r=function(){var e=o7(a);s.call(e)}}var a=o3(t,r,e,0,null,!1,!1,"",la);return e._reactRootContainer=a,e[rD]=a.current,rs(8===e.nodeType?e.parentNode:e),oN(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var o=r;r=function(){var e=o7(l);o.call(e)}}var l=o6(e,0,!1,null,null,!1,!1,"",la);return e._reactRootContainer=l,e[rD]=l.current,rs(8===e.nodeType?e.parentNode:e),oN(function(){o5(t,l,n,r)}),l}(n,t,e,i,r);return o7(a)}td=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=tr(t.pendingLanes);0!==n&&(tu(t,1|n),oS(t,eZ()),0==(6&a6)&&(ol=eZ()+500,r8()))}break;case 13:oN(function(){var t=iq(e,1);null!==t&&o_(t,e,1,ob())}),le(e,1)}},tf=function(e){if(13===e.tag){var t=iq(e,0x8000000);null!==t&&o_(t,e,0x8000000,ob()),le(e,0x8000000)}},tp=function(e){if(13===e.tag){var t=ow(e),n=iq(e,t);null!==n&&o_(n,e,t,ob()),le(e,t)}},tm=function(){return tc},tg=function(e,t){var n=tc;try{return tc=e,t()}finally{tc=n}},eE=function(e,t,n){switch(t){case"input":if(et(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=rV(r);if(!i)throw Error(h(90));J(r),et(r,i)}}}break;case"textarea":el(e,n);break;case"select":null!=(t=n.value)&&es(e,!!n.multiple,t,!1)}},eD=oA,eP=oN;var ll={findFiberByHostInstance:rL,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lu={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=eW(e))?null:e.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{e3=lc.inject(lu),e5=lc}catch(e){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={usingClientEntryPoint:!1,Events:[rM,rF,rV,eA,eN,oA]},t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!li(t))throw Error(h(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!li(e))throw Error(h(299));var n=!1,r="",i=lt;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=o6(e,1,!1,null,null,n,!1,r,i),e[rD]=t.current,rs(8===e.nodeType?e.parentNode:e),new ln(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(h(188));throw Error(h(268,e=Object.keys(e).join(",")))}return e=null===(e=eW(t))?null:e.stateNode},t.flushSync=function(e){return oN(e)},t.hydrate=function(e,t,n){if(!ls(t))throw Error(h(200));return lo(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!li(e))throw Error(h(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=lt;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=o3(t,null,e,1,null!=n?n:null,i,!1,s,a),e[rD]=t.current,rs(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new lr(t)},t.render=function(e,t,n){if(!ls(t))throw Error(h(200));return lo(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ls(e))throw Error(h(40));return!!e._reactRootContainer&&(oN(function(){lo(null,null,e,!1,function(){e._reactRootContainer=null,e[rD]=null})}),!0)},t.unstable_batchedUpdates=oA,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ls(n))throw Error(h(200));if(null==e||void 0===e._reactInternals)throw Error(h(38));return lo(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},145:function(e,t,n){"use strict";var r=n(547);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},547:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(873)},757:function(e,t,n){"use strict";var r=n(21),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:s,_owner:o.current}}t.Fragment=s,t.jsx=u,t.jsxs=u},499:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=x.prototype=new v;b.constructor=x,m(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,S={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,i)&&!I.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:S.current}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){var n,r;return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36)}function A(e,t,i){if(null==e)return e;var s=[],a=0;return!function e(t,i,s,a,o){var l,u,c,h=typeof t;("undefined"===h||"boolean"===h)&&(t=null);var d=!1;if(null===t)d=!0;else switch(h){case"string":case"number":d=!0;break;case"object":switch(t.$$typeof){case n:case r:d=!0}}if(d){;return o=o(d=t),t=""===a?"."+C(d,0):a,w(o)?(s="",null!=t&&(s=t.replace(T,"$&/")+"/"),e(o,i,s,"",function(e){return e})):null!=o&&(k(o)&&(l=o,u=s+(!o.key||d&&d.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+t,o={$$typeof:n,type:l.type,key:u,ref:l.ref,props:l.props,_owner:l._owner}),i.push(o)),1}if(d=0,a=""===a?".":a+":",w(t))for(var p=0;p<t.length;p++){var m=a+C(h=t[p],p);d+=e(h,i,s,m,o)}else{;if("function"==typeof(m=null===(c=t)||"object"!=typeof c?null:"function"==typeof(c=f&&c[f]||c["@@iterator"])?c:null))for(t=m.call(t),p=0;!(h=t.next()).done;)m=a+C(h=h.value,p++),d+=e(h,i,s,m,o);else if("object"===h)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(i=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.")}return d}(e,s,"","",function(e){return t.call(i,e,a++)}),s}function N(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},P={transition:null};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=x,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:P,ReactCurrentOwner:S},t.act=R,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)_.call(t,u)&&!I.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},21:function(e,t,n){"use strict";e.exports=n(499)},330:function(e,t,n){"use strict";e.exports=n(757)},514:function(e,t){"use strict";function n(e,t){var n=e.length;for(e.push(t);0<n;){var r=n-1>>>1,i=e[r];if(0<s(i,t))e[r]=t,e[n]=i,n=r;else break}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else if(u<i&&0>s(c,n))e[r]=c,e[u]=n,r=u;else break}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a,o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var c=[],h=[],d=1,f=null,p=3,m=!1,g=!1,y=!1,v="function"==typeof setTimeout?setTimeout:null,x="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var t=r(h);null!==t;){if(null===t.callback)i(h);else if(t.startTime<=e)i(h),t.sortIndex=t.expirationTime,n(c,t);else break;t=r(h)}}function _(e){if(y=!1,w(e),!g){if(null!==r(c))g=!0,R(S);else{var t=r(h);null!==t&&O(_,t.startTime-e)}}}function S(e,n){g=!1,y&&(y=!1,x(k),k=-1),m=!0;var s=p;try{for(w(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!A());){var a=f.callback;if("function"==typeof a){f.callback=null,p=f.priorityLevel;var o=a(f.expirationTime<=n);n=t.unstable_now(),"function"==typeof o?f.callback=o:f===r(c)&&i(c),w(n)}else i(c);f=r(c)}if(null!==f)var l=!0;else{var u=r(h);null!==u&&O(_,u.startTime-n),l=!1}return l}finally{f=null,p=s,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I=!1,E=null,k=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?a():(I=!1,E=null)}}else I=!1}if("function"==typeof b)a=function(){b(N)};else if("undefined"!=typeof MessageChannel){var D=new MessageChannel,P=D.port2;D.port1.onmessage=N,a=function(){P.postMessage(null)}}else a=function(){v(N,0)};function R(e){E=e,I||(I=!0,a())}function O(e,n){k=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,R(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch(s="object"==typeof s&&null!==s?"number"==typeof(s=s.delay)&&0<s?a+s:a:a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=0x3fffffff;break;case 4:o=1e4;break;default:o=5e3}return o=s+o,e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o,sortIndex:-1},s>a?(e.sortIndex=s,n(h,e),null===r(c)&&e===r(h)&&(y?(x(k),k=-1):y=!0,O(_,s-a))):(e.sortIndex=o,n(c,e),g||m||(g=!0,R(S))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},173:function(e,t,n){"use strict";e.exports=n(514)},955:function(){}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.k=function(e){return""+e+".css"},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.rv=function(){return"1.1.0"},(()=>{n.g.importScripts&&(e=n.g.location+"");var e,t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length){for(var i=r.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=r[i--].src}}if(!e)throw Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{var e={},t="passwallet",r="data-webpack-loading",i=function(e,i,s,a,o){var l,u,c="chunk-"+e;if(!a){for(var h=document.getElementsByTagName("link"),d=0;d<h.length;d++){var f=h[d],p=f.getAttribute("href")||f.href;if(p&&!p.startsWith(n.p)&&(p=n.p+(p.startsWith("/")?p.slice(1):p)),"stylesheet"==f.rel&&(p&&p.startsWith(i)||f.getAttribute("data-webpack")==t+":"+c)){l=f;break}}if(!s)return l}!l&&(u=!0,l=document.createElement("link"),n.nc&&l.setAttribute("nonce",n.nc),l.setAttribute("data-webpack",t+":"+c),o&&l.setAttribute("fetchpriority",o),l.setAttribute(r,1),l.rel="stylesheet",l.href=i);var m=function(e,t){if(l.onerror=l.onload=null,l.removeAttribute(r),clearTimeout(g),t&&"load"!=t.type&&l.parentNode.removeChild(l),s(t),e)return e(t)};if(l.getAttribute(r)){var g=setTimeout(m.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=m.bind(null,l.onerror),l.onload=m.bind(null,l.onload)}else m(void 0,{type:"load",target:l});return a?document.head.insertBefore(l,a):u&&document.head.appendChild(l),l};((r,s,a)=>{var o,l,u="",c="",h="",d={},f="--webpack-"+t+"-"+a,p=1,m={};try{!s&&(s=i(a));for(var g=s.sheet.cssRules||s.sheet.rules,y=g.length-1;y>-1&&!o;){var v=g[y--].style;if(!!v)o=v.getPropertyValue(f)}}catch(e){}if(!o&&(o=getComputedStyle(document.head).getPropertyValue(f)),!o)return;var x,b={},w=o[0],_=w,S=w,I=256;for(l=1;l<o.length;l++)S+=x=(p=o[l].charCodeAt(0))<256?o[l]:b[p]?b[p]:_+w,w=x.charAt(0),b[I]=_+w,++I>65535&&(I=256,b={}),_=x;for(l=0,o=S;p;l++)58==(p=o.charCodeAt(l))?(c=u,u=""):47==p?(u=u.replace(/^_/,""),c=c.replace(/^_/,""),h?m.push(c,h,u):d[c]=void 0===d[c]?u:d[c]+" "+u,u="",c="",h=""):38==p?n.r(d):p&&44!=p?92==p?u+=o[++l]:64==p?(h=u,u=""):u+=o[l]:(r[u=u.replace(/^_/,"")]=((e,t,r)=>{!function(e,t){for(var r=0;r<t.length;r+=3){var i=t[r],s=t[r+1],a=t[r+2],o=n(s)[a];e[i]=e[i]+" "+o}}(e,t),r.exports=e}).bind(null,d,m),u="",c="",d={},m=[]);e[a]=0})(n.m,0,"909")})(),n.ruid="bundler=rspack@1.1.0";(()=>{"use strict";let e,t;var r,i,s,a,o,l,u,c,h,d,f,p,m,g,y,v,x,b=n("330"),w=n("21"),_=n("145"),S=e=>"checkbox"===e.type,I=e=>e instanceof Date,E=e=>null==e;let k=e=>"object"==typeof e;var T=e=>!E(e)&&!Array.isArray(e)&&k(e)&&!I(e),C=e=>T(e)&&e.target?S(e.target)?e.target.checked:e.target.value:e,A=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,N=(e,t)=>e.has(A(t)),D=e=>{let t=e.constructor&&e.constructor.prototype;return T(t)&&t.hasOwnProperty("isPrototypeOf")},P="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function R(e){let t;let n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(!(P&&(e instanceof Blob||e instanceof FileList))&&(n||T(e))))return e;else if(t=n?[]:{},n||D(e))for(let n in e)e.hasOwnProperty(n)&&(t[n]=R(e[n]));else t=e;return t}var O=e=>Array.isArray(e)?e.filter(Boolean):[],L=e=>void 0===e,M=(e,t,n)=>{if(!t||!T(e))return n;let r=O(t.split(/[,[\].]+?/)).reduce((e,t)=>E(e)?e:e[t],e);return L(r)||r===e?L(e[t])?n:e[t]:r},F=e=>"boolean"==typeof e,V=e=>/^\w*$/.test(e),U=e=>O(e.replace(/["|']|\]/g,"").split(/\.|\[/)),B=(e,t,n)=>{let r=-1,i=V(t)?[t]:U(t),s=i.length,a=s-1;for(;++r<s;){let t=i[r],s=n;if(r!==a){let n=e[t];s=T(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}if("__proto__"===t)return;e[t]=s,e=e[t]}return e};let j={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},z={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},q={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},$=w.createContext(null),H=()=>w.useContext($),K=e=>{let{children:t,...n}=e;return w.createElement($.Provider,{value:n},t)};var G=(e,t,n,r=!0)=>{let i={defaultValues:t._defaultValues};for(let s in e)Object.defineProperty(i,s,{get:()=>(t._proxyFormState[s]!==z.all&&(t._proxyFormState[s]=!r||z.all),n&&(n[s]=!0),e[s])});return i},W=e=>T(e)&&!Object.keys(e).length,Q=(e,t,n,r)=>{n(e);let{name:i,...s}=e;return W(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(e=>t[e]===(!r||z.all))},J=e=>Array.isArray(e)?e:[e],Y=(e,t,n)=>!e||!t||e===t||J(e).some(e=>e&&(n?e===t:e.startsWith(t)||t.startsWith(e)));function X(e){let t=w.useRef(e);t.current=e,w.useEffect(()=>{let n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}var Z=e=>"string"==typeof e,ee=(e,t,n,r,i)=>Z(e)?(r&&t.watch.add(e),M(n,e,i)):Array.isArray(e)?e.map(e=>(r&&t.watch.add(e),M(n,e))):(r&&(t.watchAll=!0),n);let et=e=>{let t={};for(let n of Object.keys(e))if(k(e[n])){let r=et(e[n]);for(let e of Object.keys(r))t[`${n}.${e}`]=r[e]}else t[n]=e[n];return t};var en=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},er=()=>{let e="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{let n=(16*Math.random()+e)%16|0;return("x"==t?n:3&n|8).toString(16)})},ei=(e,t,n={})=>n.shouldFocus||L(n.shouldFocus)?n.focusName||`${e}.${L(n.focusIndex)?t:n.focusIndex}.`:"",es=e=>({isOnSubmit:!e||e===z.onSubmit,isOnBlur:e===z.onBlur,isOnChange:e===z.onChange,isOnAll:e===z.all,isOnTouch:e===z.onTouched}),ea=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));let eo=(e,t,n,r)=>{for(let i of n||Object.keys(e)){let n=M(e,i);if(n){let{_f:e,...s}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r)return!0;if(e.ref&&t(e.ref,e.name)&&!r)return!0;else if(eo(s,t))break}else if(T(s)&&eo(s,t))break}}};var el=(e,t,n)=>{let r=J(M(e,n));return B(r,"root",t[n]),B(e,n,r),e},eu=e=>"file"===e.type,ec=e=>"function"==typeof e,eh=e=>{if(!P)return!1;let t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},ed=e=>Z(e),ef=e=>"radio"===e.type,ep=e=>e instanceof RegExp;let em={value:!1,isValid:!1},eg={value:!0,isValid:!0};var ey=e=>{if(Array.isArray(e)){if(e.length>1){let t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!L(e[0].attributes.value)?L(e[0].value)||""===e[0].value?eg:{value:e[0].value,isValid:!0}:eg:em}return em};let ev={isValid:!1,value:null};var ex=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,ev):ev;function eb(e,t,n="validate"){if(ed(e)||Array.isArray(e)&&e.every(ed)||F(e)&&!e)return{type:n,message:ed(e)?e:"",ref:t}}var ew=e=>T(e)&&!ep(e)?e:{value:e,message:""},e_=async(e,t,n,r,i)=>{let{ref:s,refs:a,required:o,maxLength:l,minLength:u,min:c,max:h,pattern:d,validate:f,name:p,valueAsNumber:m,mount:g,disabled:y}=e._f,v=M(t,p);if(!g||y)return{};let x=a?a[0]:s,b=e=>{r&&x.reportValidity&&(x.setCustomValidity(F(e)?"":e||""),x.reportValidity())},w={},_=ef(s),I=S(s),k=(m||eu(s))&&L(s.value)&&L(v)||eh(s)&&""===s.value||""===v||Array.isArray(v)&&!v.length,C=en.bind(null,p,n,w),A=(e,t,n,r=q.maxLength,i=q.minLength)=>{let a=e?t:n;w[p]={type:e?r:i,message:a,ref:s,...C(e?r:i,a)}};if(i?!Array.isArray(v)||!v.length:o&&(!(_||I)&&(k||E(v))||F(v)&&!v||I&&!ey(a).isValid||_&&!ex(a).isValid)){let{value:e,message:t}=ed(o)?{value:!!o,message:o}:ew(o);if(e&&(w[p]={type:q.required,message:t,ref:x,...C(q.required,t)},!n))return b(t),w}if(!k&&(!E(c)||!E(h))){let e,t;let r=ew(h),i=ew(c);if(E(v)||isNaN(v)){let n=s.valueAsDate||new Date(v),a=e=>new Date(new Date().toDateString()+" "+e),o="time"==s.type,l="week"==s.type;Z(r.value)&&v&&(e=o?a(v)>a(r.value):l?v>r.value:n>new Date(r.value)),Z(i.value)&&v&&(t=o?a(v)<a(i.value):l?v<i.value:n<new Date(i.value))}else{let n=s.valueAsNumber||(v?+v:v);!E(r.value)&&(e=n>r.value),!E(i.value)&&(t=n<i.value)}if((e||t)&&(A(!!e,r.message,i.message,q.max,q.min),!n))return b(w[p].message),w}if((l||u)&&!k&&(Z(v)||i&&Array.isArray(v))){let e=ew(l),t=ew(u),r=!E(e.value)&&v.length>+e.value,i=!E(t.value)&&v.length<+t.value;if((r||i)&&(A(r,e.message,t.message),!n))return b(w[p].message),w}if(d&&!k&&Z(v)){let{value:e,message:t}=ew(d);if(ep(e)&&!v.match(e)&&(w[p]={type:q.pattern,message:t,ref:s,...C(q.pattern,t)},!n))return b(t),w}if(f){if(ec(f)){let e=eb(await f(v,t),x);if(e&&(w[p]={...e,...C(q.validate,e.message)},!n))return b(e.message),w}else if(T(f)){let e={};for(let r in f){if(!W(e)&&!n)break;let i=eb(await f[r](v,t),x,r);i&&(e={...i,...C(r,i.message)},b(i.message),n&&(w[p]=e))}if(!W(e)&&(w[p]={ref:x,...e},!n))return w}}return b(!0),w},eS=(e,t)=>[...e,...J(t)],eI=e=>Array.isArray(e)?e.map(()=>void 0):void 0;function eE(e,t,n){return[...e.slice(0,t),...J(n),...e.slice(t)]}var ek=(e,t,n)=>Array.isArray(e)?(L(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[],eT=(e,t)=>[...J(t),...J(e)],eC=(e,t)=>L(t)?[]:function(e,t){let n=0,r=[...e];for(let e of t)r.splice(e-n,1),n++;return O(r).length?r:[]}(e,J(t).sort((e,t)=>e-t)),eA=(e,t,n)=>{[e[t],e[n]]=[e[n],e[t]]};function eN(e,t){let n=Array.isArray(t)?t:V(t)?[t]:U(t),r=1===n.length?e:function(e,t){let n=t.slice(0,-1).length,r=0;for(;r<n;)e=L(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,s=n[i];return r&&delete r[s],0!==i&&(T(r)&&W(r)||Array.isArray(r)&&function(e){for(let t in e)if(e.hasOwnProperty(t)&&!L(e[t]))return!1;return!0}(r))&&eN(e,n.slice(0,-1)),e}var eD=(e,t,n)=>(e[t]=n,e),eP=()=>{let e=[];return{get observers(){return e},next:t=>{for(let n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},eR=e=>E(e)||!k(e);function eO(e,t){if(eR(e)||eR(t))return e===t;if(I(e)&&I(t))return e.getTime()===t.getTime();let n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i of n){let n=e[i];if(!r.includes(i))return!1;if("ref"!==i){let e=t[i];if(I(n)&&I(e)||T(n)&&T(e)||Array.isArray(n)&&Array.isArray(e)?!eO(n,e):n!==e)return!1}}return!0}var eL=e=>"select-multiple"===e.type,eM=e=>ef(e)||S(e),eF=e=>eh(e)&&e.isConnected,eV=e=>{for(let t in e)if(ec(e[t]))return!0;return!1};function eU(e,t={}){let n=Array.isArray(e);if(T(e)||n)for(let n in e)Array.isArray(e[n])||T(e[n])&&!eV(e[n])?(t[n]=Array.isArray(e[n])?[]:{},eU(e[n],t[n])):!E(e[n])&&(t[n]=!0);return t}var eB=(e,t)=>(function e(t,n,r){let i=Array.isArray(t);if(T(t)||i)for(let i in t)Array.isArray(t[i])||T(t[i])&&!eV(t[i])?L(n)||eR(r[i])?r[i]=Array.isArray(t[i])?eU(t[i],[]):{...eU(t[i])}:e(t[i],E(n)?{}:n[i],r[i]):r[i]=!eO(t[i],n[i]);return r})(e,t,eU(t)),ej=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>L(e)?e:t?""===e?NaN:e?+e:e:n&&Z(e)?new Date(e):r?r(e):e;function ez(e){let t=e.ref;return(e.refs?e.refs.every(e=>e.disabled):t.disabled)?void 0:eu(t)?t.files:ef(t)?ex(e.refs).value:eL(t)?[...t.selectedOptions].map(({value:e})=>e):S(t)?ey(e.refs).value:ej(L(t.value)?e.ref.value:t.value,e)}var eq=(e,t,n,r)=>{let i={};for(let n of e){let e=M(t,n);e&&B(i,n,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},e$=e=>L(e)?e:ep(e)?e.source:T(e)?ep(e.value)?e.value.source:e.value:e;let eH="AsyncFunction";var eK=e=>(!e||!e.validate)&&!!(ec(e.validate)&&e.validate.constructor.name===eH||T(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===eH)),eG=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function eW(e,t,n){let r=M(e,n);if(r||V(n))return{error:r,name:n};let i=n.split(".");for(;i.length;){let r=i.join("."),s=M(t,r),a=M(e,r);if(s&&!Array.isArray(s)&&n!==r)break;if(a&&a.type)return{name:r,error:a};i.pop()}return{name:n}}var eQ=(e,t,n,r,i)=>{if(i.isOnAll)return!1;if(!n&&i.isOnTouch)return!(t||e);if(n?r.isOnBlur:i.isOnBlur)return!e;else if(n?r.isOnChange:i.isOnChange)return e;return!0},eJ=(e,t)=>!O(M(e,t)).length&&eN(e,t);let eY={mode:z.onSubmit,reValidateMode:z.onChange,shouldFocusError:!0};function eX(e={}){let t=w.useRef(),n=w.useRef(),[r,i]=w.useState({isDirty:!1,isValidating:!1,isLoading:ec(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:ec(e.defaultValues)?void 0:e.defaultValues});!t.current&&(t.current={...function(e={}){let t,n={...eY,...e},r={submitCount:0,isDirty:!1,isLoading:ec(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},s=(T(n.defaultValues)||T(n.values))&&R(n.defaultValues||n.values)||{},a=n.shouldUnregister?{}:R(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u=0,c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:eP(),array:eP(),state:eP()},d=es(n.mode),f=es(n.reValidateMode),p=n.criteriaMode===z.all,m=e=>t=>{clearTimeout(u),u=setTimeout(e,t)},g=async e=>{if(!n.disabled&&(c.isValid||e)){let e=n.resolver?W((await _()).errors):await A(i,!0);e!==r.isValid&&h.state.next({isValid:e})}},y=(e,t)=>{!n.disabled&&(c.isValidating||c.validatingFields)&&((e||Array.from(l.mount)).forEach(e=>{e&&(t?B(r.validatingFields,e,t):eN(r.validatingFields,e))}),h.state.next({validatingFields:r.validatingFields,isValidating:!W(r.validatingFields)}))},v=(e,t)=>{B(r.errors,e,t),h.state.next({errors:r.errors})},x=(e,t,n,r)=>{let l=M(i,e);if(l){let i=M(a,e,L(n)?M(s,e):n);L(i)||r&&r.defaultChecked||t?B(a,e,t?i:ez(l._f)):U(e,i),o.mount&&g()}},b=(e,t,a,o,l)=>{let u=!1,d=!1,f={name:e};if(!n.disabled){let n=!!(M(i,e)&&M(i,e)._f&&M(i,e)._f.disabled);if(!a||o){c.isDirty&&(d=r.isDirty,r.isDirty=f.isDirty=D(),u=d!==f.isDirty);let i=n||eO(M(s,e),t);d=!!(!n&&M(r.dirtyFields,e)),i||n?eN(r.dirtyFields,e):B(r.dirtyFields,e,!0),f.dirtyFields=r.dirtyFields,u=u||c.dirtyFields&&!i!==d}if(a){let t=M(r.touchedFields,e);!t&&(B(r.touchedFields,e,a),f.touchedFields=r.touchedFields,u=u||c.touchedFields&&t!==a)}u&&l&&h.state.next(f)}return u?f:{}},w=(n,i,s,a)=>{let o=M(r.errors,n),l=c.isValid&&F(i)&&r.isValid!==i;if(e.delayError&&s?(t=m(()=>v(n,s)))(e.delayError):(clearTimeout(u),t=null,s?B(r.errors,n,s):eN(r.errors,n)),(s?!eO(o,s):o)||!W(a)||l){let e={...a,...l&&F(i)?{isValid:i}:{},errors:r.errors,name:n};r={...r,...e},h.state.next(e)}},_=async e=>{y(e,!0);let t=await n.resolver(a,n.context,eq(e||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation));return y(e),t},k=async e=>{let{errors:t}=await _(e);if(e)for(let n of e){let e=M(t,n);e?B(r.errors,n,e):eN(r.errors,n)}else r.errors=t;return t},A=async(e,t,i={valid:!0})=>{for(let s in e){let o=e[s];if(o){let{_f:e,...u}=o;if(e){let u=l.array.has(e.name),h=o._f&&eK(o._f);h&&c.validatingFields&&y([s],!0);let d=await e_(o,a,p,n.shouldUseNativeValidation&&!t,u);if(h&&c.validatingFields&&y([s]),d[e.name]&&(i.valid=!1,t))break;t||(M(d,e.name)?u?el(r.errors,d,e.name):B(r.errors,e.name,d[e.name]):eN(r.errors,e.name))}W(u)||await A(u,t,i)}}return i.valid},D=(e,t)=>!n.disabled&&(e&&t&&B(a,e,t),!eO(Q(),s)),V=(e,t,n)=>ee(e,l,{...o.mount?a:L(t)?s:Z(e)?{[e]:t}:t},n,t),U=(e,t,n={})=>{let r=M(i,e),s=t;if(r){let n=r._f;n&&(n.disabled||B(a,e,ej(t,n)),s=eh(n.ref)&&E(t)?"":t,eL(n.ref)?[...n.ref.options].forEach(e=>e.selected=s.includes(e.value)):n.refs?S(n.ref)?n.refs.length>1?n.refs.forEach(e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(s)?!!s.find(t=>t===e.value):s===e.value)):n.refs[0]&&(n.refs[0].checked=!!s):n.refs.forEach(e=>e.checked=e.value===s):eu(n.ref)?n.ref.value="":(n.ref.value=s,!n.ref.type&&h.values.next({name:e,values:{...a}})))}(n.shouldDirty||n.shouldTouch)&&b(e,s,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&G(e)},q=(e,t,n)=>{for(let r in t){let s=t[r],a=`${e}.${r}`,o=M(i,a);(l.array.has(e)||T(s)||o&&!o._f)&&!I(s)?q(a,s,n):U(a,s,n)}},$=(e,t,n={})=>{let u=M(i,e),d=l.array.has(e),f=R(t);B(a,e,f),d?(h.array.next({name:e,values:{...a}}),(c.isDirty||c.dirtyFields)&&n.shouldDirty&&h.state.next({name:e,dirtyFields:eB(s,a),isDirty:D(e,f)})):!u||u._f||E(f)?U(e,f,n):q(e,f,n),ea(e,l)&&h.state.next({...r}),h.values.next({name:o.mount?e:void 0,values:{...a}})},H=async s=>{o.mount=!0;let u=s.target,m=u.name,v=!0,x=M(i,m),S=e=>{v=Number.isNaN(e)||I(e)&&isNaN(e.getTime())||eO(e,M(a,m,e))};if(x){let o,I;let E=u.type?ez(x._f):C(s),k=s.type===j.BLUR||s.type===j.FOCUS_OUT,T=!eG(x._f)&&!n.resolver&&!M(r.errors,m)&&!x._f.deps||eQ(k,M(r.touchedFields,m),r.isSubmitted,f,d),N=ea(m,l,k);B(a,m,E),k?(x._f.onBlur&&x._f.onBlur(s),t&&t(0)):x._f.onChange&&x._f.onChange(s);let D=b(m,E,k,!1),P=!W(D)||N;if(k||h.values.next({name:m,type:s.type,values:{...a}}),T)return c.isValid&&("onBlur"===e.mode?k&&g():g()),P&&h.state.next({name:m,...N?{}:D});if(!k&&N&&h.state.next({...r}),n.resolver){let{errors:e}=await _([m]);if(S(E),v){let t=eW(r.errors,i,m),n=eW(e,i,t.name||m);o=n.error,m=n.name,I=W(e)}}else y([m],!0),o=(await e_(x,a,p,n.shouldUseNativeValidation))[m],y([m]),S(E),v&&(o?I=!1:c.isValid&&(I=await A(i,!0)));v&&(x._f.deps&&G(x._f.deps),w(m,I,o,D))}},K=(e,t)=>{if(M(r.errors,t)&&e.focus)return e.focus(),1},G=async(e,t={})=>{let s,a;let o=J(e);if(n.resolver){let t=await k(L(e)?e:o);s=W(t),a=e?!o.some(e=>M(t,e)):s}else e?!(a=(await Promise.all(o.map(async e=>{let t=M(i,e);return await A(t&&t._f?{[e]:t}:t)}))).every(Boolean))&&!r.isValid||g():a=s=await A(i);return h.state.next({...!Z(e)||c.isValid&&s!==r.isValid?{}:{name:e},...n.resolver||!e?{isValid:s}:{},errors:r.errors}),t.shouldFocus&&!a&&eo(i,K,e?o:l.mount),a},Q=e=>{let t={...o.mount?a:s};return L(e)?t:Z(e)?M(t,e):e.map(e=>M(t,e))},Y=(e,t)=>({invalid:!!M((t||r).errors,e),isDirty:!!M((t||r).dirtyFields,e),error:M((t||r).errors,e),isValidating:!!M(r.validatingFields,e),isTouched:!!M((t||r).touchedFields,e)}),X=(e,t,n)=>{let s=(M(i,e,{_f:{}})._f||{}).ref,{ref:a,message:o,type:l,...u}=M(r.errors,e)||{};B(r.errors,e,{...u,...t,ref:s}),h.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&s&&s.focus&&s.focus()},et=(e,t={})=>{for(let o of e?J(e):l.mount)l.mount.delete(o),l.array.delete(o),!t.keepValue&&(eN(i,o),eN(a,o)),t.keepError||eN(r.errors,o),t.keepDirty||eN(r.dirtyFields,o),t.keepTouched||eN(r.touchedFields,o),t.keepIsValidating||eN(r.validatingFields,o),n.shouldUnregister||t.keepDefaultValue||eN(s,o);h.values.next({values:{...a}}),h.state.next({...r,...t.keepDirty?{isDirty:D()}:{}}),t.keepIsValid||g()},en=({disabled:e,name:t,field:n,fields:r,value:i})=>{if(F(e)&&o.mount||e){let s=e?void 0:L(i)?ez(n?n._f:M(r,t)._f):i;B(a,t,s),b(t,s,!1,!1,!0)}},er=(e,t={})=>{let r=M(i,e),a=F(t.disabled)||F(n.disabled);return B(i,e,{...r||{},_f:{...r&&r._f?r._f:{ref:{name:e}},name:e,mount:!0,...t}}),l.mount.add(e),r?en({field:r,disabled:F(t.disabled)?t.disabled:n.disabled,name:e,value:t.value}):x(e,!0,t.value),{...a?{disabled:t.disabled||n.disabled}:{},...n.progressive?{required:!!t.required,min:e$(t.min),max:e$(t.max),minLength:e$(t.minLength),maxLength:e$(t.maxLength),pattern:e$(t.pattern)}:{},name:e,onChange:H,onBlur:H,ref:a=>{if(a){er(e,t),r=M(i,e);let n=L(a.value)&&a.querySelectorAll&&a.querySelectorAll("input,select,textarea")[0]||a,o=eM(n),l=r._f.refs||[];if(o?!l.find(e=>e===n):n!==r._f.ref)B(i,e,{_f:{...r._f,...o?{refs:[...l.filter(eF),n,...Array.isArray(M(s,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n}}}),x(e,!1,void 0,n)}else(r=M(i,e,{}))._f&&(r._f.mount=!1),(n.shouldUnregister||t.shouldUnregister)&&!(N(l.array,e)&&o.action)&&l.unMount.add(e)}}},ei=()=>n.shouldFocusError&&eo(i,K,l.mount),ed=(e,t)=>async s=>{let o;if(s&&(s.preventDefault&&s.preventDefault(),s.persist&&s.persist()),n.disabled){t&&await t({...r.errors},s);return}let l=R(a);if(h.state.next({isSubmitting:!0}),n.resolver){let{errors:e,values:t}=await _();r.errors=e,l=t}else await A(i);if(eN(r.errors,"root"),W(r.errors)){h.state.next({errors:{}});try{await e(l,s)}catch(e){o=e}}else t&&await t({...r.errors},s),ei(),setTimeout(ei);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:W(r.errors)&&!o,submitCount:r.submitCount+1,errors:r.errors}),o)throw o},ef=(t,n={})=>{let u=t?R(t):s,d=R(u),f=W(t),p=f?s:d;if(!n.keepDefaultValues&&(s=u),!n.keepValues){if(n.keepDirtyValues)for(let e of Array.from(new Set([...l.mount,...Object.keys(eB(s,a))])))M(r.dirtyFields,e)?B(p,e,M(a,e)):$(e,M(p,e));else{if(P&&L(t))for(let e of l.mount){let t=M(i,e);if(t&&t._f){let e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(eh(e)){let t=e.closest("form");if(t){t.reset();break}}}}i={}}a=e.shouldUnregister?n.keepDefaultValues?R(s):{}:R(p),h.array.next({values:{...p}}),h.values.next({values:{...p}})}l={mount:n.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!c.isValid||!!n.keepIsValid||!!n.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:!f&&(n.keepDirty?r.isDirty:!!(n.keepDefaultValues&&!eO(t,s))),isSubmitted:!!n.keepIsSubmitted&&r.isSubmitted,dirtyFields:f?{}:n.keepDirtyValues?n.keepDefaultValues&&a?eB(s,a):r.dirtyFields:n.keepDefaultValues&&t?eB(s,t):n.keepDirty?r.dirtyFields:{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitSuccessful:!!n.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1})},ep=(e,t)=>ef(ec(e)?e(a):e,t);return{control:{register:er,unregister:et,getFieldState:Y,handleSubmit:ed,setError:X,_executeSchema:_,_getWatch:V,_getDirty:D,_updateValid:g,_removeUnmounted:()=>{for(let e of l.unMount){let t=M(i,e);t&&(t._f.refs?t._f.refs.every(e=>!eF(e)):!eF(t._f.ref))&&et(e)}l.unMount=new Set},_updateFieldArray:(e,t=[],l,u,d=!0,f=!0)=>{if(u&&l&&!n.disabled){if(o.action=!0,f&&Array.isArray(M(i,e))){let t=l(M(i,e),u.argA,u.argB);d&&B(i,e,t)}if(f&&Array.isArray(M(r.errors,e))){let t=l(M(r.errors,e),u.argA,u.argB);d&&B(r.errors,e,t),eJ(r.errors,e)}if(c.touchedFields&&f&&Array.isArray(M(r.touchedFields,e))){let t=l(M(r.touchedFields,e),u.argA,u.argB);d&&B(r.touchedFields,e,t)}c.dirtyFields&&(r.dirtyFields=eB(s,a)),h.state.next({name:e,isDirty:D(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else B(a,e,t)},_updateDisabledField:en,_getFieldArray:t=>O(M(o.mount?a:s,t,e.shouldUnregister?M(s,t,[]):[])),_reset:ef,_resetDefaultValues:()=>ec(n.defaultValues)&&n.defaultValues().then(e=>{ep(e,n.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:e=>{r={...r,...e}},_disableForm:e=>{F(e)&&(h.state.next({disabled:e}),eo(i,(t,n)=>{let r=M(i,n);r&&(t.disabled=r._f.disabled||e,Array.isArray(r._f.refs)&&r._f.refs.forEach(t=>{t.disabled=r._f.disabled||e}))},0,!1))},_subjects:h,_proxyFormState:c,_setErrors:e=>{r.errors=e,h.state.next({errors:r.errors,isValid:!1})},get _fields(){return i},get _formValues(){return a},get _state(){return o},set _state(value){o=value},get _defaultValues(){return s},get _names(){return l},set _names(value){l=value},get _formState(){return r},set _formState(value){r=value},get _options(){return n},set _options(value){n={...n,...value}}},trigger:G,register:er,handleSubmit:ed,watch:(e,t)=>ec(e)?h.values.subscribe({next:n=>e(V(void 0,t),n)}):V(e,t,!0),setValue:$,getValues:Q,reset:ep,resetField:(e,t={})=>{M(i,e)&&(L(t.defaultValue)?$(e,R(M(s,e))):($(e,t.defaultValue),B(s,e,R(t.defaultValue))),!t.keepTouched&&eN(r.touchedFields,e),!t.keepDirty&&(eN(r.dirtyFields,e),r.isDirty=t.defaultValue?D(e,R(M(s,e))):D()),!t.keepError&&(eN(r.errors,e),c.isValid&&g()),h.state.next({...r}))},clearErrors:e=>{e&&J(e).forEach(e=>eN(r.errors,e)),h.state.next({errors:e?r.errors:{}})},unregister:et,setError:X,setFocus:(e,t={})=>{let n=M(i,e),r=n&&n._f;if(r){let e=r.refs?r.refs[0]:r.ref;e.focus&&(e.focus(),t.shouldSelect&&ec(e.select)&&e.select())}},getFieldState:Y}}(e),formState:r});let s=t.current.control;return s._options=e,X({subject:s._subjects.state,next:e=>{Q(e,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),w.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),w.useEffect(()=>{if(s._proxyFormState.isDirty){let e=s._getDirty();e!==r.isDirty&&s._subjects.state.next({isDirty:e})}},[s,r.isDirty]),w.useEffect(()=>{e.values&&!eO(e.values,n.current)?(s._reset(e.values,s._options.resetOptions),n.current=e.values,i(e=>({...e}))):s._resetDefaultValues()},[e.values,s]),w.useEffect(()=>{e.errors&&s._setErrors(e.errors)},[e.errors,s]),w.useEffect(()=>{!s._state.mount&&(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),w.useEffect(()=>{e.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[e.shouldUnregister,s]),t.current.formState=G(r,s),t.current}let eZ=e=>{let{onSubmit:t,children:n}=e,{handleSubmit:r}=H();return(0,b.jsxs)("form",{className:"m-auto flex flex-col w-[500px] gap-4 p-8 border-solid border border-zinc-200 bg-white rounded-2xl shadow-xl",onSubmit:r(t),children:[(0,b.jsx)("div",{className:"flex flex-col items-center",children:(0,b.jsx)("div",{className:"bg-indigo-600 p-3 rounded-full",children:(0,b.jsx)("img",{src:"data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiAgd2lkdGg9IjI0IiAgaGVpZ2h0PSIyNCIgIHZpZXdCb3g9IjAgMCAyNCAyNCIgIGZpbGw9Im5vbmUiICBzdHJva2U9IiNmZmZmZmYiICBzdHJva2Utd2lkdGg9IjIiICBzdHJva2UtbGluZWNhcD0icm91bmQiICBzdHJva2UtbGluZWpvaW49InJvdW5kIiAgY2xhc3M9Imljb24gaWNvbi10YWJsZXIgaWNvbnMtdGFibGVyLW91dGxpbmUgaWNvbi10YWJsZXItc2hpZWxkIj48cGF0aCBzdHJva2U9Im5vbmUiIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiLz48cGF0aCBkPSJNMTIgM2ExMiAxMiAwIDAgMCA4LjUgM2ExMiAxMiAwIDAgMSAtOC41IDE1YTEyIDEyIDAgMCAxIC04LjUgLTE1YTEyIDEyIDAgMCAwIDguNSAtMyIgLz48L3N2Zz4=",alt:"shield",className:"w-8 h-8 text-white"})})}),n]})},e0="abcdefghijklmnopqrstuvwxyz",e1="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",e2="0123456789",e4="!@#$%^&*()_+-=[]{}|;':\",./<>?",e6="text",e8="password",e3="email",e5="error",e7="social",e9="banking",te="other",tt=e=>"green"===e?"rounded-md bg-green-600 border-green-600 text-white py-2 hover:bg-green-700":"red"===e?"rounded-md bg-red-600 border-red-600 text-black py-2 hover:bg-red-700":"indigo"===e?"rounded-md bg-indigo-600 border-indigo-600 text-white py-2 hover:bg-indigo-700":"blue"===e?"rounded-md bg-blue-600 border-blue-600 text-white py-2 hover:bg-blue-700":"link"===e?" bg-transparent border-transparent  text-indigo-600 content-center underline underline-offset-2 hover:text-indigo-700":"text-black",tn=e=>{let{children:t,className:n,onClick:r,type:i="button",disabled:s=!1,color:a=""}=e;return(0,b.jsx)("button",{className:`${tt(a)} flex gap-1 justify-center items-center transition-colors duration-300 disabled:cursor-not-allowed ${n}`,type:i,onClick:r,disabled:s,children:t})},tr=e=>{let{children:t,className:n="",...r}=e;return(0,b.jsx)("label",{className:`block font-medium text-slate-700 mb-1 ${n}`,...r,children:t})},ti=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ts=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>!!e&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var ta={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let to=(0,w.forwardRef)((e,t)=>{let{color:n="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:l,...u}=e;return(0,w.createElement)("svg",{ref:t,...ta,width:r,height:r,stroke:n,strokeWidth:s?24*Number(i)/Number(r):i,className:ts("lucide",a),...u},[...l.map(e=>{let[t,n]=e;return(0,w.createElement)(t,n)}),...Array.isArray(o)?o:[o]])}),tl=(e,t)=>{let n=(0,w.forwardRef)((n,r)=>{let{className:i,...s}=n;return(0,w.createElement)(to,{ref:r,iconNode:t,className:ts(`lucide-${ti(e)}`,i),...s})});return n.displayName=`${e}`,n},tu=tl("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),tc=tl("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),th=e=>{let{register:t}=H(),{identify:n,required:r=!1,className:i="",type:s=e6,icon:a,children:o,...l}=e,u=`${s===e8&&"pr-10"} ${s===e3&&"pl-10"}`,[c,h]=(0,w.useState)(!1);return(0,b.jsxs)("div",{className:"relative flex w-full",children:[(0,b.jsx)("div",{className:`absolute left-2 top-1/2 -translate-y-1/2 ${s===e8&&"cursor-pointer"}`,onClick:()=>h(!c),children:s===e8?c?(0,b.jsx)(tu,{className:"text-indigo-600"}):(0,b.jsx)(tc,{className:"text-indigo-600"}):a}),(0,b.jsx)("input",{...l,id:n,type:s===e8?c?e6:e8:s,className:`${u} text-base text-black w-full pl-10 pr-3 py-2 rounded-md shadow-sm border border-slate-200 focus:outline-none focus:ring-1 focus:border-transparent focus:ring-indigo-500 disabled:bg-gray-200 disabled:cursor-not-allowed disabled:border-transparent transition-all ${i}`,...t(n,{required:r})}),o]})},td=e=>{let{label:t,identify:n,type:r,placeholder:i,icon:s,...a}=e;return(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)(tr,{className:"font-semibold text-zinc-700",children:t}),(0,b.jsx)(th,{identify:n,type:r,placeholder:i,icon:s,...a})]})},tf=tl("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),tp=tl("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]),tm=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:((64512&i)==55296&&r+1<e.length&&(64512&e.charCodeAt(r+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t},tg=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){let s=e[n++],a=e[n++],o=((7&i)<<18|(63&s)<<12|(63&a)<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{let s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")},ty={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],s=t+1<e.length,a=s?e[t+1]:0,o=t+2<e.length,l=o?e[t+2]:0,u=i>>2,c=(3&i)<<4|a>>4,h=(15&a)<<2|l>>6,d=63&l;!o&&(d=64,!s&&(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(tm(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):tg(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0,a=++t<e.length?n[e.charAt(t)]:64,o=++t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==s||null==a||null==o)throw new tv;let l=i<<2|s>>4;if(r.push(l),64!==a){let e=s<<4&240|a>>2;if(r.push(e),64!==o){let e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class tv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}let tx=function(e){let t=tm(e);return ty.encodeByteArray(t,!0)},tb=function(e){return tx(e).replace(/\./g,"")},tw=function(e){try{return ty.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},t_=()=>(function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw Error("Unable to locate global object.")})().__FIREBASE_DEFAULTS__,tS=()=>{if("undefined"==typeof process||void 0===process.env)return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},tI=()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&tw(e[1]);return t&&JSON.parse(t)},tE=()=>{try{return t_()||tS()||tI()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},tk=e=>{var t,n;return null===(n=null===(t=tE())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},tT=e=>{let t=tk(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},tC=()=>{var e;return null===(e=tE())||void 0===e?void 0:e.config},tA=e=>{var t;return null===(t=tE())||void 0===t?void 0:t[`_${e}`]};class tN{wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}function tD(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function tP(){return!function(){var e;let t=null===(e=tE())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tR(){try{return"object"==typeof indexedDB}catch(e){return!1}}class tO extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,tO.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tL.prototype.create)}}class tL{create(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],o=a?function(e,t){return e.replace(tM,(e,n)=>{let r=t[n];return null!=r?String(r):`<${n}?>`})}(a,i):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new tO(s,l,i)}constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}}let tM=/\{\$([^}]+)}/g;function tF(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let n=e[i],s=t[i];if(tV(n)&&tV(s)){if(!tF(n,s))return!1}else if(n!==s)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}function tV(e){return null!==e&&"object"==typeof e}function tU(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function tB(e){let t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){let[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function tj(e){let t=e.indexOf("?");if(!t)return"";let n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class tz{next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(let n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=tq),void 0===r.error&&(r.error=tq),void 0===r.complete&&(r.complete=tq);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){if(void 0!==this.observers&&void 0!==this.observers[e])delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this)}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){if(!this.finalized)this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0})}constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}}function tq(){}function t$(e,t){return`${e} failed: ${t} argument `}function tH(e){return e&&e._delegate?e._delegate:e}class tK{setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}}let tG="[DEFAULT]";class tW{get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new tN;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:tG})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tG;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tG;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tG;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;let r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);let s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(!!n)for(let r of n)try{r(e,t)}catch(e){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:function(e){return e===tG?void 0:e}(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(e){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tG;return this.component?this.component.multipleInstances?e:tG:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}}class tQ{addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new tW(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}constructor(e){this.name=e,this.providers=new Map}}let tJ=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));let tY={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},tX=i.INFO,tZ={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},t0=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(t<e.logLevel)return;let s=new Date().toISOString(),a=tZ[t];if(a)console[a](`[${s}]  ${e.name}:`,...r);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class t1{get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?tY[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}constructor(e){this.name=e,this._logLevel=tX,this._logHandler=t0,this._userLogHandler=null,tJ.push(this)}}let t2=(e,t)=>t.some(t=>e instanceof t),t4=new WeakMap,t6=new WeakMap,t8=new WeakMap,t3=new WeakMap,t5=new WeakMap,t7={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return t6.get(e);if("objectStoreNames"===t)return e.objectStoreNames||t8.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return t9(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function t9(n){if(n instanceof IDBRequest)return function(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(t9(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&t4.set(t,e)}).catch(()=>{}),t5.set(t,e),t}(n);if(t3.has(n))return t3.get(n);let r=function(n){if("function"==typeof n){var r;return(r=n)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(t||(t=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(r)?function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(ne(this),t),t9(t4.get(this))}:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t9(r.apply(ne(this),t))}:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];let s=r.call(ne(this),e,...n);return t8.set(s,e.sort?e.sort():[e]),t9(s)}}return(n instanceof IDBTransaction&&!function(e){if(t6.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});t6.set(e,t)}(n),t2(n,e||(e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(n,t7):n}(n);return r!==n&&(t3.set(n,r),t5.set(r,n)),r}let ne=e=>t5.get(e),nt=["get","getKey","getAll","getAllKeys","count"],nn=["put","add","delete","clear"],nr=new Map;function ni(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(nr.get(t))return nr.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=nn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nt.includes(n)))return;let s=async function(e){for(var t=arguments.length,s=Array(t>1?t-1:0),a=1;a<t;a++)s[a-1]=arguments[a];let o=this.transaction(e,i?"readwrite":"readonly"),l=o.store;return r&&(l=l.index(s.shift())),(await Promise.all([l[n](...s),i&&o.done]))[0]};return nr.set(t,s),s}t7=(e=>({...e,get:(t,n,r)=>ni(t,n)||e.get(t,n,r),has:(t,n)=>!!ni(t,n)||e.has(t,n)}))(t7);class ns{getPlatformInfoString(){return this.container.getProviders().map(e=>{if(!function(e){let t=e.getComponent();return(null==t?void 0:t.type)==="VERSION"}(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}constructor(e){this.container=e}}let na="@firebase/app",no="0.10.16",nl=new t1("@firebase/app"),nu="[DEFAULT]",nc={[na]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},nh=new Map,nd=new Map,nf=new Map;function np(e,t){try{e.container.addComponent(t)}catch(n){nl.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function nm(e){let t=e.name;if(nf.has(t))return nl.debug(`There were multiple attempts to register component ${t}.`),!1;for(let n of(nf.set(t,e),nh.values()))np(n,e);for(let t of nd.values())np(t,e);return!0}function ng(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ny(e){return void 0!==e.settings}let nv=new tL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class nx{get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nv.create("app-deleted",{appName:this._name})}constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new tK("app",()=>this,"PUBLIC"))}}class nb extends nx{toJSON(){}get refCount(){return this._refCount}incRefCount(e){if(!this.isDeleted)this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this)}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){nI(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw nv.create("server-app-deleted")}constructor(e,t,n,r){let i=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,s={name:n,automaticDataCollectionEnabled:i};void 0!==e.apiKey?super(e,s,r):super(e.options,s,r),this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t),this._finalizationRegistry=null,"undefined"!=typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,nE(na,no,"serverapp")}}let nw="11.0.2";function n_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!=typeof t&&(t={name:t});let r=Object.assign({name:nu,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw nv.create("bad-app-name",{appName:String(i)});if(n||(n=tC()),!n)throw nv.create("no-options");let s=nh.get(i);if(s){if(tF(n,s.options)&&tF(r,s.config))return s;throw nv.create("duplicate-app",{appName:i})}let a=new tQ(i);for(let e of nf.values())a.addComponent(e);let o=new nx(n,r,a);return nh.set(i,o),o}function nS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nu,t=nh.get(e);if(!t&&e===nu&&tC())return n_();if(!t)throw nv.create("no-app",{appName:e});return t}async function nI(e){let t=!1,n=e.name;nh.has(n)?(t=!0,nh.delete(n)):nd.has(n)&&0>=e.decRefCount()&&(nd.delete(n),t=!0),t&&(await Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)}function nE(e,t,n){var r;let i=null!==(r=nc[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);let s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){let e=[`Unable to register library "${i}" with version "${t}":`];s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),nl.warn(e.join(" "));return}nm(new tK(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}let nk="firebase-heartbeat-store",nT=null;function nC(){return!nT&&(nT=(function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=indexedDB.open(e,t),o=t9(a);return r&&a.addEventListener("upgradeneeded",e=>{r(t9(a.result),e.oldVersion,e.newVersion,t9(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o})("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(nk)}catch(e){console.warn(e)}}}).catch(e=>{throw nv.create("idb-open",{originalErrorMessage:e.message})})),nT}async function nA(e){try{let t=(await nC()).transaction(nk),n=await t.objectStore(nk).get(nD(e));return await t.done,n}catch(e){if(e instanceof tO)nl.warn(e.message);else{let t=nv.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});nl.warn(t.message)}}}async function nN(e,t){try{let n=(await nC()).transaction(nk,"readwrite"),r=n.objectStore(nk);await r.put(t,nD(e)),await n.done}catch(e){if(e instanceof tO)nl.warn(e.message);else{let t=nv.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});nl.warn(t.message)}}}function nD(e){return`${e.name}!${e.options.appId}`}class nP{async triggerHeartbeat(){var e,t;try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=nR();if((null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)==null))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;this._heartbeatsCache.heartbeats.push({date:r,agent:n});return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{let t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(e){nl.warn(e)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null||0===this._heartbeatsCache.heartbeats.length)return"";let t=nR(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),nL(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nL(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=tb(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return nl.warn(e),""}}constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new nO(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}}function nR(){return new Date().toISOString().substring(0,10)}class nO{async runIndexedDBEnvironmentCheck(){return!!tR()&&new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),!n&&self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}).then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await nA(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}}async overwrite(e){var t;if(!!await this._canUseIndexedDBPromise){let n=await this.read();return nN(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(!!await this._canUseIndexedDBPromise){let n=await this.read();return nN(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}}function nL(e){return tb(JSON.stringify({version:2,heartbeats:e})).length}r="",nm(new tK("platform-logger",e=>new ns(e),"PRIVATE")),nm(new tK("heartbeat",e=>new nP(e),"PRIVATE")),nE(na,no,""),nE(na,no,"esm2017"),nE("fire-js","");var nM=function(e,t){return(nM=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function nF(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var nV=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function nU(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function nB(e){return this instanceof nB?(this.v=e,this):new nB(e)}var nj=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},nz=function(e){return(nz=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t})(e)};function nq(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}let n$=new tL("auth","Firebase",nq()),nH=new t1("@firebase/auth");function nK(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];nH.logLevel<=i.ERROR&&nH.error(`Auth (${nw}): ${e}`,...n)}function nG(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw nX(e,...n)}function nW(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return nX(e,...n)}function nQ(e,t,n){return new tL("auth","Firebase",Object.assign(Object.assign({},nq()),{[t]:n})).create(t,{appName:e.name})}function nJ(e){return nQ(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nY(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&nG(e,"argument-error"),nQ(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nX(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!=typeof e){let t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return n$.create(e,...n)}function nZ(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!e)throw nX(t,...r)}function n0(e){let t="INTERNAL ASSERTION FAILED: "+e;throw nK(t),Error(t)}function n1(e,t){!e&&n0(t)}function n2(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function n4(){return"http:"===n6()||"https:"===n6()}function n6(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class n8{get(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(n4()||function(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}constructor(e,t){this.shortDelay=e,this.longDelay=t,n1(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tD())||"object"==typeof navigator&&"ReactNative"===navigator.product}}function n3(e,t){n1(e.emulator,"Emulator should always be set here");let{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class n5{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void n0("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void n0("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void n0("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}let n7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},n9=new n8(3e4,6e4);function re(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function rt(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return rn(e,i,async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});let a=tU(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);let l=Object.assign({method:t,headers:o},i);return!("undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent)&&(l.referrerPolicy="no-referrer"),n5.fetch()(ri(e,e.config.apiHost,n,a),l)})}async function rn(e,t,n){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},n7),t);try{let t=new rs(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let s=await i.json();if("needConfirmation"in s)throw ra(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{let[t,n]=(i.ok?s.errorMessage:s.error.message).split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===t)throw ra(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===t)throw ra(e,"email-already-in-use",s);else if("USER_DISABLED"===t)throw ra(e,"user-disabled",s);let a=r[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(n)throw nQ(e,a,n);nG(e,a)}}catch(t){if(t instanceof tO)throw t;nG(e,"network-request-failed",{message:String(t)})}}async function rr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=await rt(e,t,n,r,i);return"mfaPendingCredential"in s&&nG(e,"multi-factor-auth-required",{_serverResponse:s}),s}function ri(e,t,n,r){let i=`${t}${n}?${r}`;return e.config.emulator?n3(e.config,i):`${e.config.apiScheme}://${i}`}class rs{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(nW(this.auth,"network-request-failed")),n9.get())})}}function ra(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=nW(e,t,r);return i.customData._tokenResponse=n,i}function ro(e){return void 0!==e&&void 0!==e.enterprise}class rl{getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return function(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}}async function ru(e,t){return rt(e,"GET","/v2/recaptchaConfig",re(e,t))}async function rc(e,t){return rt(e,"POST","/v1/accounts:delete",t)}async function rh(e,t){return rt(e,"POST","/v1/accounts:update",t)}async function rd(e,t){return rt(e,"POST","/v1/accounts:lookup",t)}function rf(e){if(!!e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}async function rp(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=tH(e),r=await n.getIdToken(t),i=rg(r);nZ(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s="object"==typeof i.firebase?i.firebase:void 0,a=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:rf(rm(i.auth_time)),issuedAtTime:rf(rm(i.iat)),expirationTime:rf(rm(i.exp)),signInProvider:a||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}function rm(e){return 1e3*Number(e)}function rg(e){let[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return nK("JWT malformed, contained fewer than 3 sections"),null;try{let e=tw(n);if(!e)return nK("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return nK("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}function ry(e){let t=rg(e);return nZ(t,"internal-error"),nZ(void 0!==t.exp,"internal-error"),nZ(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function rv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n)return t;try{return await t}catch(t){throw t instanceof tO&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class rx{_start(){if(!this.isRunning)this.isRunning=!0,this.schedule()}_stop(){if(!!this.isRunning)this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId)}getInterval(e){var t;if(!e)return this.errorBackoff=3e4,Math.max(0,(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5);{let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(null==e?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}}class rb{_initializeTime(){this.lastSignInTime=rf(this.lastLoginAt),this.creationTime=rf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}}async function rw(e){var t;let n=e.auth,r=await e.getIdToken(),i=await rv(e,rd(n,{idToken:r}));nZ(null==i?void 0:i.users.length,n,"internal-error");let s=i.users[0];e._notifyReloadListener(s);let a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?rS(s.providerUserInfo):[],o=function(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}(e.providerData,a),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(null==o?void 0:o.length);Object.assign(e,{uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new rb(s.createdAt,s.lastLoginAt),isAnonymous:!!l&&u})}async function r_(e){let t=tH(e);await rw(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function rS(e){return e.map(e=>{var{providerId:t}=e,n=nF(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}async function rI(e,t){let n=await rn(e,{},async()=>{let n=tU({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=ri(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",n5.fetch()(s,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rE(e,t){return rt(e,"POST","/v2/accounts:revokeToken",re(e,t))}class rk{get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){nZ(e.idToken,"internal-error"),nZ(void 0!==e.idToken,"internal-error"),nZ(void 0!==e.refreshToken,"internal-error");let t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):ry(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){nZ(0!==e.length,"internal-error");let t=ry(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t||!this.accessToken||this.isExpired?(nZ(this.refreshToken,e,"user-token-expired"),this.refreshToken)?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await rI(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){let{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new rk;return n&&(nZ("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(nZ("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(nZ("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rk,this.toJSON())}_performRefresh(){return n0("not implemented")}constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}}function rT(e,t){nZ("string"==typeof e||void 0===e,"internal-error",{appName:t})}class rC{async getIdToken(e){let t=await rv(this,this.stsTokenManager.getToken(this.auth,e));return nZ(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return rp(this,e)}reload(){return r_(this)}_assign(e){if(this!==e)nZ(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager)}_clone(e){let t=new rC(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){nZ(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await rw(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ny(this.auth.app))return Promise.reject(nJ(this.auth));let e=await this.getIdToken();return await rv(this,rc(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,u;let c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:x,isAnonymous:b,providerData:w,stsTokenManager:_}=t;nZ(v&&_,e,"internal-error");let S=rk.fromJSON(this.name,_);nZ("string"==typeof v,e,"internal-error"),rT(c,e.name),rT(h,e.name),nZ("boolean"==typeof x,e,"internal-error"),nZ("boolean"==typeof b,e,"internal-error"),rT(d,e.name),rT(f,e.name),rT(p,e.name),rT(m,e.name),rT(g,e.name),rT(y,e.name);let I=new rC({uid:v,auth:e,email:h,emailVerified:x,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(I.providerData=w.map(e=>Object.assign({},e))),m&&(I._redirectEventId=m),I}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new rk;r.updateFromServerResponse(t);let i=new rC({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await rw(i),i}static async _fromGetAccountInfoResponse(e,t,n){let r=t.users[0];nZ(void 0!==r.localId,"internal-error");let i=void 0!==r.providerUserInfo?rS(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null==i?void 0:i.length),a=new rk;a.updateFromIdToken(n);let o=new rC({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s});return Object.assign(o,{uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new rb(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null==i?void 0:i.length)}),o}constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=nF(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new rb(i.createdAt||void 0,i.lastLoginAt||void 0)}}let rA=new Map;function rN(e){n1(e instanceof Function,"Expected a class definition");let t=rA.get(e);return t?(n1(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,rA.set(e,t),t)}class rD{async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}constructor(){this.type="NONE",this.storage={}}}rD.type="NONE";function rP(e,t,n){return`firebase:${e}:${t}:${n}`}class rR{setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);return e?rC._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new rR(rN(rD),e,n);let r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),i=r[0]||rN(rD),s=rP(n,e.config.apiKey,e.name),a=null;for(let n of t)try{let t=await n._get(s);if(t){let r=rC._fromJSON(e,t);n!==i&&(a=r),i=n;break}}catch(e){}let o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(e){}})),new rR(i,e,n)):new rR(i,e,n)}constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:i}=this.auth;this.fullUserKey=rP(this.userKey,r.apiKey,i),this.fullPersistenceKey=rP("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}}function rO(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rV(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";else{if(t.includes("edge/"))return"Edge";if(rL(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(rB(t))return"Blackberry";if(rj(t))return"Webos";if(rM(t))return"Safari";if((t.includes("chrome/")||rF(t))&&!t.includes("edge/"))return"Chrome";if(rU(t))return"Android";let n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if((null==n?void 0:n.length)===2)return n[1]}return"Other"}function rL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tD();return/firefox\//i.test(e)}function rM(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tD(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function rF(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tD();return/crios\//i.test(e)}function rV(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tD();return/iemobile/i.test(e)}function rU(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tD();return/android/i.test(e)}function rB(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tD();return/blackberry/i.test(e)}function rj(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tD();return/webos/i.test(e)}function rz(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tD();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function rq(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tD();return rz(e)||rU(e)||rj(e)||rB(e)||/windows phone/i.test(e)||rV(e)}function r$(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=rO(tD());break;case"Worker":t=`${rO(tD())}-${e}`;break;default:t=e}let r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${nw}/${r}`}class rH{pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{let r=e(t);n(r)}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){for(let e of(t.reverse(),t))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}constructor(e){this.auth=e,this.queue=[]}}async function rK(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return rt(e,"GET","/v2/passwordPolicy",re(e,t))}class rG{validatePassword(e){var t,n,r,i,s,a;let o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}constructor(e){var t,n,r,i;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}}class rW{_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=rN(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(this._deleted)return;if(this.persistenceManager=await rR.create(this,e),this._deleted)return;if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}if(await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,!this._deleted)this._isInitialized=!0}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!!this.currentUser||!!e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await rd(this,{idToken:e}),n=await rC._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ny(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let n=await this.assertedPersistence.getCurrentUser(),r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null==r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);(!n||n===s)&&(null==a?void 0:a.user)&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return(nZ(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId)?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await rw(e)}catch(e){if((null==e?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ny(this.app))return Promise.reject(nJ(this));let t=e?tH(e):null;return t&&nZ(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&nZ(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),!t&&await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ny(this.app)?Promise.reject(nJ(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ny(this.app)?Promise.reject(nJ(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rN(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){!this._getPasswordPolicyInternal()&&await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new rG(await rK(this));null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new tL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await rE(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&rN(e)||this._popupRedirectResolver;nZ(t,this,"argument-error"),this.redirectPersistenceManager=await rR.create(this,[rN(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return(this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e)?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i="function"==typeof t?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(nZ(a,this,"internal-error"),a.then(()=>{if(!s)i(this.currentUser)}),"function"==typeof t){let i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{let n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return nZ(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){if(!(!e||this.frameworks.includes(e)))this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=r$(this.config.clientPlatform,this._getFrameworks())}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let n=await (null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);let r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;let t=await (null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&!function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];nH.logLevel<=i.WARN&&nH.warn(`Auth (${nw}): ${e}`,...n)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rJ(this),this.idTokenSubscription=new rJ(this),this.beforeStateQueue=new rH(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=n$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}}function rQ(e){return tH(e)}class rJ{get next(){return nZ(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){let n=new tz(e,void 0);return n.subscribe.bind(n)}(e=>this.observer=e)}}let rY={async loadJS(){throw Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rX(e){return rY.loadJS(e)}function rZ(e){return`__${e}${Math.floor(1e6*Math.random())}`}class r0{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}constructor(){this.enterprise=new r1}}class r1{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}let r2="NO_RECAPTCHA";class r4{async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{ru(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0===r.recaptchaKey)n(Error("recaptcha Enterprise site key undefined"));else{let n=new rl(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;ro(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(r2)})}):r(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new r0().execute("siteKey",{action:"verify"}):new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&ro(window.grecaptcha))r(n,e,i);else{var s;if("undefined"==typeof window){i(Error("RecaptchaVerifier is only supported in browser"));return}let t=rY.recaptchaEnterpriseScript;0!==t.length&&(t+=n),(s=t,rY.loadJS(s)).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}constructor(e){this.type="recaptcha-enterprise",this.auth=tH(e)}}async function r6(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=new r4(e);if(s)r=r2;else try{r=await a.verify(n)}catch(e){r=await a.verify(n,!0)}let o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){let e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:r,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){let e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:r,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return i?Object.assign(o,{captchaResp:r}):Object.assign(o,{captchaResponse:r}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function r8(e,t,n,r,i){var s,a;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s||!s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"!==i.code)return Promise.reject(i);{console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let i=await r6(e,t,n,"getOobCode"===n);return r(e,i)}});{let i=await r6(e,t,n,"getOobCode"===n);return r(e,i)}}if("PHONE_PROVIDER"!==i)return Promise.reject(i+" provider is not supported.");if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){let i=await r6(e,t,n);return r(e,i).catch(async i=>{var s;if((null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let i=await r6(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{let i=await r6(e,t,n,!1,!0);return r(e,i)}}async function r3(e){let t=tH(e),n=new rl(await ru(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}));null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,n.isAnyProviderEnabled()&&new r4(t).verify()}function r5(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function r7(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}class r9{toJSON(){return n0("not implemented")}_getIdTokenResponse(e){return n0("not implemented")}_linkToIdToken(e,t){return n0("not implemented")}_getReauthenticationResolver(e){return n0("not implemented")}constructor(e,t){this.providerId=e,this.signInMethod=t}}async function ie(e,t){return rt(e,"POST","/v1/accounts:resetPassword",re(e,t))}async function it(e,t){return rt(e,"POST","/v1/accounts:update",t)}async function ir(e,t){return rt(e,"POST","/v1/accounts:signUp",t)}async function ii(e,t){return rt(e,"POST","/v1/accounts:update",re(e,t))}async function is(e,t){return rr(e,"POST","/v1/accounts:signInWithPassword",re(e,t))}async function ia(e,t){return rt(e,"POST","/v1/accounts:sendOobCode",re(e,t))}async function io(e,t){return ia(e,t)}async function il(e,t){return ia(e,t)}async function iu(e,t){return ia(e,t)}async function ic(e,t){return ia(e,t)}async function ih(e,t){return rr(e,"POST","/v1/accounts:signInWithEmailLink",re(e,t))}async function id(e,t){return rr(e,"POST","/v1/accounts:signInWithEmailLink",re(e,t))}class ip extends r9{static _fromEmailAndPassword(e,t){return new ip(e,t,"password")}static _fromEmailAndCode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new ip(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return r8(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",is,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return ih(e,{email:this._email,oobCode:this._password});default:nG(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return r8(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ir,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return id(e,{idToken:t,email:this._email,oobCode:this._password});default:nG(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}}async function im(e,t){return rr(e,"POST","/v1/accounts:signInWithIdp",re(e,t))}class ig extends r9{static _fromParams(e){let t=new ig(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):nG("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=nF(t,["providerId","signInMethod"]);if(!n||!r)return null;let s=new ig(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return im(e,this.buildRequest())}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,im(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,im(e,t)}buildRequest(){let e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=tU(t)}return e}constructor(){super(...arguments),this.pendingToken=null}}async function iy(e,t){return rt(e,"POST","/v1/accounts:sendVerificationCode",re(e,t))}async function iv(e,t){return rr(e,"POST","/v1/accounts:signInWithPhoneNumber",re(e,t))}async function ix(e,t){let n=await rr(e,"POST","/v1/accounts:signInWithPhoneNumber",re(e,t));if(n.temporaryProof)throw ra(e,"account-exists-with-different-credential",n);return n}let ib={USER_NOT_FOUND:"user-not-found"};async function iw(e,t){return rr(e,"POST","/v1/accounts:signInWithPhoneNumber",re(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ib)}class i_ extends r9{static _fromVerification(e,t){return new i_({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new i_({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return iv(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return ix(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return iw(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));let{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new i_({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}constructor(e){super("phone","phone"),this.params=e}}class iS{static parseLink(e){let t=function(e){let t=tB(tj(e)).link,n=t?tB(tj(t)).deep_link_id:null,r=tB(tj(e)).deep_link_id;return(r?tB(tj(r)).link:null)||r||n||t||e}(e);try{return new iS(t)}catch(e){return null}}constructor(e){var t,n,r,i,s,a;let o=tB(tj(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,u=null!==(n=o.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);nZ(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}}class iI{static credential(e,t){return ip._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=iS.parseLink(t);return nZ(n,"argument-error"),ip._fromEmailAndCode(e,n.code,n.tenantId)}constructor(){this.providerId=iI.PROVIDER_ID}}iI.PROVIDER_ID="password",iI.EMAIL_PASSWORD_SIGN_IN_METHOD="password",iI.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class iE{setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}}class ik extends iE{addScope(e){return!this.scopes.includes(e)&&this.scopes.push(e),this}getScopes(){return[...this.scopes]}constructor(){super(...arguments),this.scopes=[]}}class iT extends ik{static credential(e){return ig._fromParams({providerId:iT.PROVIDER_ID,signInMethod:iT.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return iT.credentialFromTaggedObject(e)}static credentialFromError(e){return iT.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return iT.credential(t.oauthAccessToken)}catch(e){return null}}constructor(){super("facebook.com")}}iT.FACEBOOK_SIGN_IN_METHOD="facebook.com",iT.PROVIDER_ID="facebook.com";class iC extends ik{static credential(e,t){return ig._fromParams({providerId:iC.PROVIDER_ID,signInMethod:iC.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return iC.credentialFromTaggedObject(e)}static credentialFromError(e){return iC.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;let{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return iC.credential(n,r)}catch(e){return null}}constructor(){super("google.com"),this.addScope("profile")}}iC.GOOGLE_SIGN_IN_METHOD="google.com",iC.PROVIDER_ID="google.com";class iA extends ik{static credential(e){return ig._fromParams({providerId:iA.PROVIDER_ID,signInMethod:iA.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return iA.credentialFromTaggedObject(e)}static credentialFromError(e){return iA.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return iA.credential(t.oauthAccessToken)}catch(e){return null}}constructor(){super("github.com")}}iA.GITHUB_SIGN_IN_METHOD="github.com",iA.PROVIDER_ID="github.com";class iN extends ik{static credential(e,t){return ig._fromParams({providerId:iN.PROVIDER_ID,signInMethod:iN.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return iN.credentialFromTaggedObject(e)}static credentialFromError(e){return iN.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;let{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return iN.credential(n,r)}catch(e){return null}}constructor(){super("twitter.com")}}async function iD(e,t){return rr(e,"POST","/v1/accounts:signUp",re(e,t))}iN.TWITTER_SIGN_IN_METHOD="twitter.com",iN.PROVIDER_ID="twitter.com";class iP{static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=await rC._fromIdTokenResponse(e,n,r);return new iP({user:i,providerId:iR(n),_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){return await e._updateTokensIfNecessary(n,!0),new iP({user:e,providerId:iR(n),_tokenResponse:n,operationType:t})}constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}}function iR(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class iO extends tO{static _fromErrorAndOperation(e,t,n,r){return new iO(e,t,n,r)}constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,iO.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}}function iL(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw iO._fromErrorAndOperation(e,n,t,r);throw n})}function iM(e){return new Set(e.map(e=>{let{providerId:t}=e;return t}).filter(e=>!!e))}async function iF(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=await rv(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return iP._forOperation(e,"link",r)}async function iV(e,t,n){await rw(t);let r=iM(t.providerData);nZ(r.has(n)===e,t.auth,!1===e?"provider-already-linked":"no-such-provider")}async function iU(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{auth:r}=e;if(ny(r.app))return Promise.reject(nJ(r));let i="reauthenticate";try{let s=await rv(e,iL(r,i,t,e),n);nZ(s.idToken,r,"internal-error");let a=rg(s.idToken);nZ(a,r,"internal-error");let{sub:o}=a;return nZ(e.uid===o,r,"user-mismatch"),iP._forOperation(e,i,s)}catch(e){throw(null==e?void 0:e.code)==="auth/user-not-found"&&nG(r,"user-mismatch"),e}}async function iB(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ny(e.app))return Promise.reject(nJ(e));let r="signIn",i=await iL(e,r,t),s=await iP._fromIdTokenResponse(e,r,i);return!n&&await e._updateCurrentUser(s.user),s}async function ij(e,t){return iB(tH(e),t)}async function iz(e,t){let n=getModularInstance(e);return await iV(!1,n,t.providerId),iF(n,t)}async function iq(e,t){return iU(getModularInstance(e),t)}async function i$(e,t){return rr(e,"POST","/v1/accounts:signInWithCustomToken",re(e,t))}class iH{static _fromServerResponse(e,t){return"phoneInfo"in t?iK._fromServerResponse(e,t):"totpInfo"in t?iG._fromServerResponse(e,t):nG(e,"internal-error")}constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}}class iK extends iH{static _fromServerResponse(e,t){return new iK(t)}constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}}class iG extends iH{static _fromServerResponse(e,t){return new iG(t)}constructor(e){super("totp",e)}}function iW(e,t,n){var r;nZ((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),nZ(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(nZ(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(nZ(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function iQ(e){let t=tH(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function iJ(e,t){let n=getModularInstance(e),r=await ie(n,{oobCode:t}),i=r.requestType;switch(nZ(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":nZ(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":nZ(r.mfaInfo,n,"internal-error");default:nZ(r.email,n,"internal-error")}let s=null;if(r.mfaInfo)s=iH._fromServerResponse(tH(n),r.mfaInfo);return{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function iY(e,t,n){if(ny(e.app))return Promise.reject(nJ(e));let r=tH(e),i=r8(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iD,"EMAIL_PASSWORD_PROVIDER"),s=await i.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&iQ(e),t}),a=await iP._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}async function iX(e,t){return rt(e,"POST","/v1/accounts:createAuthUri",re(e,t))}async function iZ(e,t){return rt(e,"POST","/v1/accounts:update",t)}async function i0(e,t,n){let{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);let s=await rv(e,it(r,i));await e._updateTokensIfNecessary(s,!0)}class i1{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class i2 extends i1{constructor(e,t,n,r){super(e,t,n),this.username=r}}class i4 extends i1{constructor(e,t){super(e,"facebook.com",t)}}class i6 extends i2{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class i8 extends i1{constructor(e,t){super(e,"google.com",t)}}class i3 extends i2{constructor(e,t,n){super(e,"twitter.com",t,n)}}class i5{static _fromIdtoken(e,t){return new i5("enroll",e,t)}static _fromMfaPendingCredential(e){return new i5("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return i5._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return i5._fromIdtoken(e.multiFactorSession.idToken)}return null}constructor(e,t,n){this.type=e,this.credential=t,this.user=n}}class i7{static _fromError(e,t){let n=tH(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map(e=>iH._fromServerResponse(n,e));nZ(r.mfaPendingCredential,n,"internal-error");let s=i5._fromMfaPendingCredential(r.mfaPendingCredential);return new i7(s,i,async e=>{let i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;let a=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":let o=await iP._fromIdTokenResponse(n,t.operationType,a);return await n._updateCurrentUser(o.user),o;case"reauthenticate":return nZ(t.user,n,"internal-error"),iP._forOperation(t.user,t.operationType,a);default:nG(n,"internal-error")}})}async resolveSignIn(e){return this.signInResolver(e)}constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}}function i9(e,t){return rt(e,"POST","/v2/accounts/mfaEnrollment:start",re(e,t))}class se{static _fromUser(e){return new se(e)}async getSession(){return i5._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){let n=await this.getSession(),r=await rv(this.user,e._process(this.user.auth,n,t));return await this.user._updateTokensIfNecessary(r),this.user.reload()}async unenroll(e){let t="string"==typeof e?e:e.uid,n=await this.user.getIdToken();try{var r,i;let e=await rv(this.user,(r=this.user.auth,i={idToken:n,mfaEnrollmentId:t},rt(r,"POST","/v2/accounts/mfaEnrollment:withdraw",re(r,i))));this.enrolledFactors=this.enrolledFactors.filter(e=>{let{uid:n}=e;return n!==t}),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(e){throw e}}constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>iH._fromServerResponse(e.auth,t)))})}}let st=new WeakMap,sn="__sak";class sr{_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(sn,"1"),this.storage.removeItem(sn),Promise.resolve(!0)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}constructor(e,t){this.storageRetriever=e,this.type=t}}class si extends sr{forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key){this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});return}let n=e.key;t?this.detachListener():this.stopPolling();let r=()=>{let e=this.storage.getItem(n);if(!!t||this.localCache[n]!==e)this.notifyListeners(n,e)},i=this.storage.getItem(n);(function(){let e=tD();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0})()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),!this.listeners[e]&&(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rq(),this._shouldAllowMigration=!0}}si.type="LOCAL";class ss extends sr{_addListener(e,t){}_removeListener(e,t){}constructor(){super(()=>window.sessionStorage,"SESSION")}}ss.type="SESSION";class sa{static _getInstance(e){let t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;let n=new sa(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let{eventId:t,eventType:n,data:r}=e.data,i=this.handlersMap[n];if(!(null==i?void 0:i.size))return;e.ports[0].postMessage({status:"ack",eventId:t,eventType:n});let s=Array.from(i).map(async t=>t(e.origin,r)),a=await Promise.all(s.map(async e=>{try{let t=await e;return{fulfilled:!0,value:t}}catch(e){return{fulfilled:!1,reason:e}}}));e.ports[0].postMessage({status:"done",eventId:t,eventType:n,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),!this.handlersMap[e]&&(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||0===this.handlersMap[e].size)&&delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}}function so(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}sa.receivers=[];class sl{removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw Error("connection_unavailable");return new Promise((a,o)=>{let l=so("",20);s.port1.start();let u=setTimeout(()=>{o(Error("unsupported_event"))},i);r={messageChannel:s,onMessage(e){if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(u),n=setTimeout(()=>{o(Error("timeout"))},3e3);break;case"done":clearTimeout(n),a(e.data.response);break;default:clearTimeout(u),clearTimeout(n),o(Error("invalid_response"))}}},this.handlers.add(r),s.port1.addEventListener("message",r.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{r&&this.removeMessageHandler(r)})}constructor(e){this.target=e,this.handlers=new Set}}function su(){return window}function sc(){return void 0!==su().WorkerGlobalScope&&"function"==typeof su().importScripts}async function sh(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}let sd="firebaseLocalStorageDb",sf="firebaseLocalStorage",sp="fbase_key";class sm{toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}constructor(e){this.request=e}}function sg(e,t){return e.transaction([sf],t?"readwrite":"readonly").objectStore(sf)}function sy(){let e=indexedDB.open(sd,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let t=e.result;try{t.createObjectStore(sf,{keyPath:sp})}catch(e){n(e)}}),e.addEventListener("success",async()=>{let n=e.result;n.objectStoreNames.contains(sf)?t(n):(n.close(),await new sm(indexedDB.deleteDatabase(sd)).toPromise(),t(await sy()))})})}async function sv(e,t,n){return new sm(sg(e,!0).put({[sp]:t,value:n})).toPromise()}async function sx(e,t){let n=sg(e,!1).get(t),r=await new sm(n).toPromise();return void 0===r?null:r.value}function sb(e,t){return new sm(sg(e,!0).delete(t)).toPromise()}class sw{async _openDb(){return this.db?this.db:(this.db=await sy(),this.db)}async _withRetries(e){let t=0;for(;;)try{let t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sc()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sa._getInstance(sc()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await sh(),!this.activeServiceWorker)return;this.sender=new sl(this.activeServiceWorker);let n=await this.sender._send("ping",{},800);if(!!n)(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(!!this.sender&&!!this.activeServiceWorker&&((null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await sy();return await sv(e,sn,"1"),await sb(e,sn),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>sv(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>sx(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>sb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new sm(sg(e,!1).getAll()).toPromise());if(!e||0!==this.pendingWrites)return[];let t=[],n=new Set;if(0!==e.length)for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),!this.listeners[e]&&(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}}sw.type="LOCAL";function s_(e,t){return rt(e,"POST","/v2/accounts/mfaSignIn:start",re(e,t))}rZ("rcb"),new n8(3e4,6e4);let sS="recaptcha";class sI{confirm(e){let t=i_._fromVerification(this.verificationId,e);return this.onConfirmation(t)}constructor(e,t){this.verificationId=e,this.onConfirmation=t}}async function sE(e,t,n){var r;if(!e._getRecaptchaConfig())try{await r3(e)}catch(e){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"==typeof t?{phoneNumber:t}:t,"session"in i){let t=i.session;if("phoneNumber"in i){nZ("enroll"===t.type,e,"internal-error");let r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===r2){nZ((null==n?void 0:n.type)===sS,e,"argument-error");let r=await sk(e,t,n);return i9(e,r)}return i9(e,t)},a=r8(e,r,"mfaSmsEnrollment",s,"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{nZ("signin"===t.type,e,"internal-error");let s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;nZ(s,e,"missing-multi-factor-info");let a={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===r2){nZ((null==n?void 0:n.type)===sS,e,"argument-error");let r=await sk(e,t,n);return s_(e,r)}return s_(e,t)},l=r8(e,a,"mfaSmsSignIn",o,"PHONE_PROVIDER");return(await l.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{let t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=async(e,t)=>{if(t.captchaResponse===r2){nZ((null==n?void 0:n.type)===sS,e,"argument-error");let r=await sk(e,t,n);return iy(e,r)}return iy(e,t)},s=r8(e,t,"sendVerificationCode",r,"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).sessionInfo}}finally{null==n||n._reset()}}async function sk(e,t,n){nZ(n.type===sS,e,"argument-error");let r=await n.verify();nZ("string"==typeof r,e,"argument-error");let i=Object.assign({},t);if("phoneEnrollmentInfo"in i){let e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if(!("phoneSignInInfo"in i))return Object.assign(i,{recaptchaToken:r}),i;{let e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}}class sT{verifyPhoneNumber(e,t){return sE(this.auth,e,tH(t))}static credential(e,t){return i_._fromVerification(e,t)}static credentialFromResult(e){return sT.credentialFromTaggedObject(e)}static credentialFromError(e){return sT.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;let{phoneNumber:n,temporaryProof:r}=t;return n&&r?i_._fromTokenResponse(n,r):null}constructor(e){this.providerId=sT.PROVIDER_ID,this.auth=tH(e)}}function sC(e,t){return t?rN(t):(nZ(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}sT.PROVIDER_ID="phone",sT.PHONE_SIGN_IN_METHOD="phone";class sA extends r9{_getIdTokenResponse(e){return im(e,this._buildIdpRequest())}_linkToIdToken(e,t){return im(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return im(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}constructor(e){super("custom","custom"),this.params=e}}function sN(e){return iB(e.auth,new sA(e),e.bypassAuthState)}function sD(e){let{auth:t,user:n}=e;return nZ(n,t,"internal-error"),iU(n,new sA(e),e.bypassAuthState)}async function sP(e){let{auth:t,user:n}=e;return nZ(n,t,"internal-error"),iF(n,new sA(e),e.bypassAuthState)}class sR{execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s){this.reject(s);return}let o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sN;case"linkViaPopup":case"linkViaRedirect":return sP;case"reauthViaPopup":case"reauthViaRedirect":return sD;default:nG(this.auth,"internal-error")}}resolve(e){n1(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){n1(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}}let sO=new n8(2e3,1e4);class sL extends sR{async executeNotNull(){let e=await this.execute();return nZ(e,this.auth,"internal-error"),e}async onExecution(){n1(1===this.filter.length,"Popup operations only handle one event");let e=so();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{!e&&this.reject(nW(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(nW(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sL.currentPopupAction=null}pollUserCancellation(){let e=()=>{var t,n;if(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nW(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sO.get())};e()}constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,sL.currentPopupAction&&sL.currentPopupAction.cancel(),sL.currentPopupAction=this}}sL.currentPopupAction=null;let sM=new Map;class sF extends sR{async execute(){let e=sM.get(this.auth._key());if(!e){try{let t=await sV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}sM.set(this.auth._key(),e)}return!this.bypassAuthState&&sM.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"===e.type){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}}async function sV(e,t){let n=sz(t),r=sj(e);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}async function sU(e,t){return sj(e)._set(sz(t),"true")}function sB(e,t){sM.set(e._key(),t)}function sj(e){return rN(e._redirectPersistence)}function sz(e){return rP("pendingRedirect",e.config.apiKey,e.name)}async function sq(e,t,n){if(_isFirebaseServerApp(e.app))return Promise.reject(nJ(e));let r=tH(e);nY(e,t,iE),await r._initializationPromise;let i=sC(r,n);return await sU(i,r),i._openRedirect(r,t,"signInViaRedirect")}async function s$(e,t,n){let r=getModularInstance(e);if(nY(r.auth,t,iE),_isFirebaseServerApp(r.auth.app))return Promise.reject(nJ(r.auth));await r.auth._initializationPromise;let i=sC(r.auth,n);await sU(i,r.auth);let s=await sG(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}async function sH(e,t,n){let r=getModularInstance(e);nY(r.auth,t,iE),await r.auth._initializationPromise;let i=sC(r.auth,n);await iV(!1,r,t.providerId),await sU(i,r.auth);let s=await sG(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}async function sK(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ny(e.app))return Promise.reject(nJ(e));let r=tH(e),i=sC(r,t),s=new sF(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}async function sG(e){let t=so(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class sW{registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return(this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sJ(e);default:return!1}}(e))?t:(this.hasHandledPotentialRedirect=!0,!t&&(this.queuedRedirectEvent=e,t=!0),t)}sendToConsumer(e,t){var n;if(e.error&&!sJ(e)){let r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(nW(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sQ(e))}saveEventToCache(e){this.cachedEventUids.add(sQ(e)),this.lastProcessedEventTime=Date.now()}constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}}function sQ(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function sJ(e){let{type:t,error:n}=e;return"unknown"===t&&(null==n?void 0:n.code)==="auth/no-auth-event"}async function sY(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return rt(e,"GET","/v1/projects",t)}let sX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sZ=/^https?/;async function s0(e){if(e.config.emulator)return;let{authorizedDomains:t}=await sY(e);for(let e of t)try{if(function(e){let t=n2(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){let i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!sZ.test(n))return!1;if(sX.test(e))return r===e;let i=e.replace(/\./g,"\\.");return RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}(e))return}catch(e){}nG(e,"unauthorized-domain")}let s1=new n8(3e4,6e4);function s2(){let e=su().___jsl;if(null==e?void 0:e.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}let s4=null,s6=new n8(5e3,15e3),s8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},s3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);async function s5(e){var t,n;let r=await (t=e,s4=s4||(n=t,new Promise((e,t)=>{var r,i,s,a;function o(){s2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{s2(),t(nW(n,"network-request-failed"))},timeout:s1.get()})}if(null===(i=null===(r=su().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else if(null===(s=su().gapi)||void 0===s?void 0:s.load)o();else{;let e=rZ("iframefcb");return su()[e]=()=>{gapi.load?o():t(nW(n,"network-request-failed"))},(a=`${rY.gapiScript}?onload=${e}`,rY.loadJS(a)).catch(e=>t(e))}}).catch(e=>{throw s4=null,e}))),i=su().gapi;return nZ(i,e,"internal-error"),r.open({where:document.body,url:function(e){let t=e.config;nZ(t.authDomain,e,"auth-domain-config-required");let n=t.emulator?n3(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:nw},i=s3.get(e.config.apiHost);i&&(r.eid=i);let s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${tU(r).slice(1)}`}(e),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:s8,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});let i=nW(e,"network-request-failed"),s=su().setTimeout(()=>{r(i)},s6.get());function a(){su().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}let s7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class s9{close(){if(this.window)try{this.window.close()}catch(e){}}constructor(e){this.window=e,this.associatedEvent=null}}let ae=encodeURIComponent("fac");async function at(e,t,n,r,i,s){nZ(e.config.authDomain,e,"auth-domain-config-required"),nZ(e.config.apiKey,e,"invalid-api-key");let a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:nw,eventId:i};if(t instanceof iE)for(let[n,r]of(t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",!function(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())&&(a.customParameters=JSON.stringify(t.getCustomParameters())),Object.entries(s||{})))a[n]=r;if(t instanceof ik){let e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);for(let e of Object.keys(a))void 0===a[e]&&delete a[e];let o=await e._getAppCheckToken(),l=o?`#${ae}=${encodeURIComponent(o)}`:"";return`${function(e){let{config:t}=e;return t.emulator?n3(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(e)}?${tU(a).slice(1)}${l}`}let an="webStorageSupport",ar=class e{async _openPopup(e,t,n,r){var i;n1(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");let s=await at(e,t,n,n2(),r);return function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),o="",l=Object.assign(Object.assign({},s7),{width:r.toString(),height:i.toString(),top:s,left:a}),u=tD().toLowerCase();n&&(o=rF(u)?"_blank":n),rL(u)&&(t=t||"http://localhost",l.scrollbars="yes");let c=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`},"");if(function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tD();return rz(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==o)return function(e,t){let n=document.createElement("a");n.href=e,n.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new s9(null);let h=window.open(t||"",o,c);nZ(h,e,"popup-blocked");try{h.focus()}catch(e){}return new s9(h)}(e,s,so())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=await at(e,t,n,n2(),r),su().location.href=i,new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(n1(n,"If manager is not set, promise should be"),n)}let n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){let t=await s5(e),n=new sW(e);return t.register("authEvent",t=>(nZ(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(an,{type:an},n=>{var r;let i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[an];void 0!==i&&t(!!i),nG(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return!this.originValidationPromises[t]&&(this.originValidationPromises[t]=s0(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return rq()||rM()||rz()}constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ss,this._completeRedirectFn=sK,this._overrideRedirectResult=sB}};class ai{_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return n0("unexpected MultiFactorSessionType")}}constructor(e){this.factorId=e}}class as extends ai{static _fromCredential(e){return new as(e)}_finalizeEnroll(e,t,n){var r;return rt(r=e,"POST","/v2/accounts/mfaEnrollment:finalize",re(r,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}_finalizeSignIn(e,t){var n;return rt(n=e,"POST","/v2/accounts/mfaSignIn:finalize",re(n,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}constructor(e){super("phone"),this.credential=e}}class aa extends ai{static _fromSecret(e,t){return new aa(t,void 0,e)}static _fromEnrollmentId(e,t){return new aa(t,e)}async _finalizeEnroll(e,t,n){var r;return nZ(void 0!==this.secret,e,"argument-error"),rt(r=e,"POST","/v2/accounts/mfaEnrollment:finalize",re(r,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}))}async _finalizeSignIn(e,t){var n;nZ(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");let r={verificationCode:this.otp};return rt(n=e,"POST","/v2/accounts/mfaSignIn:finalize",re(n,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}))}constructor(e,t,n){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=n}}class ao{static _fromStartTotpMfaEnrollmentResponse(e,t){return new ao(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var n;let r=!1;return(al(e)||al(t))&&(r=!0),r&&(al(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),al(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}constructor(e,t,n,r,i,s,a){this.sessionInfo=s,this.auth=a,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}}function al(e){return void 0===e||(null==e?void 0:e.length)===0}var au="@firebase/auth",ac="1.8.1";class ah{getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return(this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser)?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);if(!!t)this.internalListeners.delete(e),t(),this.updateProactiveRefresh()}assertAuthConfigured(){nZ(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}constructor(e){this.auth=e,this.internalListeners=new Map}}let ad=tA("authIdTokenMaxAge")||300,af=null,ap=e=>async t=>{let n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ad)return;let i=null==n?void 0:n.token;if(af!==i)af=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}})};function am(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nS(),t=ng(e,"auth");if(t.isInitialized())return t.getImmediate();let n=function(e,t){let n=ng(e,"auth");if(n.isInitialized()){let e=n.getImmediate();if(tF(n.getOptions(),null!=t?t:{}))return e;nG(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ar,persistence:[sw,si,ss]}),r=tA("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){let e=new URL(r,location.origin);if(location.origin===e.origin){var i,s,a,o,l,u,c;let t=ap(e.toString());i=n,s=t,a=()=>t(n.currentUser),tH(i).beforeAuthStateChanged(s,a),o=n,l=e=>t(e),tH(o).onIdTokenChanged(l,void 0,void 0)}}let h=tk("auth");return h&&!function(e,t,n){let r=tH(e);nZ(r._canInitEmulator,r,"emulator-config-failed"),nZ(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=false,s=r5(t),{host:a,port:o}=function(e){let t=r5(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:r7(r.substr(e.length+1))}}{let[e,t]=r.split(":");return{host:e,port:r7(t)}}}(t),l=null===o?"":`:${o}`;r.config.emulator={url:`${s}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),!i&&function(){function e(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${h}`),n}rY={loadJS:e=>new Promise((t,n)=>{let r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{let t=nW("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document})().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},!function(e){nm(new tK("auth",(t,n)=>{let{options:r}=n,i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=i.options;nZ(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let u=new rW(i,s,a,{apiKey:o,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:r$(e)});return!function(e,t){let n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(rN);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),nm(new tK("auth-internal",e=>new ah(tH(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),nE(au,ac,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(e)),nE(au,ac,"esm2017")}("Browser");let ag=e=>Symbol.iterator in e,ay=e=>"entries"in e,av=(e,t)=>{let n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;for(let[e,t]of n)if(!Object.is(t,r.get(e)))return!1;return!0},ax=(e,t)=>{let n=e[Symbol.iterator](),r=t[Symbol.iterator](),i=n.next(),s=r.next();for(;!i.done&&!s.done;){if(!Object.is(i.value,s.value))return!1;i=n.next(),s=r.next()}return!!i.done&&!!s.done};function ab(e){let t=w.useRef();return n=>{var r,i;let s=e(n);return(r=t.current,Object.is(r,i=s)||"object"==typeof r&&null!==r&&"object"==typeof i&&null!==i&&(ag(r)&&ag(i)?ay(r)&&ay(i)?av(r,i):ax(r,i):av({entries:()=>Object.entries(r)},{entries:()=>Object.entries(i)})))?t.current:t.current=s}}let aw=e=>{let t;let n=new Set,r=(e,r)=>{let i="function"==typeof e?e(t):e;if(!Object.is(i,t)){let e=t;t=(null!=r?r:"object"!=typeof i||null===i)?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,s={setState:r,getState:i,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e))},a=t=e(r,i,s);return s},a_=e=>e?aw(e):aw,aS=e=>e,aI=e=>{let t=a_(e),n=e=>(function(e,t=aS){let n=w.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return w.useDebugValue(n),n})(t,e);return Object.assign(n,t),n},aE=e=>e?aI(e):aI,ak=new Map,aT=e=>{let t=ak.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([e,t])=>[e,t.getState()])):{}},aC=(e,t,n)=>{if(void 0===e)return{type:"untracked",connection:t.connect(n)};let r=ak.get(n.name);if(r)return{type:"tracked",store:e,...r};let i={connection:t.connect(n),stores:{}};return ak.set(n.name,i),{type:"tracked",store:e,...i}},aA=(e,t={})=>(n,r,i)=>{let s;let{enabled:a,anonymousActionType:o,store:l,...u}=t;try{s=(null==a||a)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(e){}if(!s)return e(n,r,i);let{connection:c,...h}=aC(l,s,u),d=!0;i.setState=(e,t,s)=>{let a=n(e,t);if(!d)return a;let h=void 0===s?{type:o||"anonymous"}:"string"==typeof s?{type:s}:s;return void 0===l?(null==c||c.send(h,r()),a):(null==c||c.send({...h,type:`${l}/${h.type}`},{...aT(u.name),[l]:i.getState()}),a)};let f=(...e)=>{let t=d;d=!1,n(...e),d=t},p=e(i.setState,r,i);if("untracked"===h.type?null==c||c.init(p):(h.stores[h.store]=i,null==c||c.init(Object.fromEntries(Object.entries(h.stores).map(([e,t])=>[e,e===h.store?p:t.getState()])))),i.dispatchFromDevtools&&"function"==typeof i.dispatch){let e=!1,t=i.dispatch;i.dispatch=(...n)=>{"__setState"===n[0].type&&!e&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),e=!0),t(...n)}}return c.subscribe(e=>{var t;switch(e.type){case"ACTION":if("string"!=typeof e.payload){console.error("[zustand devtools middleware] Unsupported action format");return}return aN(e.payload,e=>{if("__setState"===e.type){if(void 0===l){f(e.state);return}1!==Object.keys(e.state).length&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);let t=e.state[l];if(null==t)return;JSON.stringify(i.getState())!==JSON.stringify(t)&&f(t);return}if(!!i.dispatchFromDevtools)"function"==typeof i.dispatch&&i.dispatch(e)});case"DISPATCH":switch(e.payload.type){case"RESET":if(f(p),void 0===l)return null==c?void 0:c.init(i.getState());return null==c?void 0:c.init(aT(u.name));case"COMMIT":if(void 0===l){null==c||c.init(i.getState());break}return null==c?void 0:c.init(aT(u.name));case"ROLLBACK":return aN(e.state,e=>{if(void 0===l){f(e),null==c||c.init(i.getState());return}f(e[l]),null==c||c.init(aT(u.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return aN(e.state,e=>{if(void 0===l){f(e);return}JSON.stringify(i.getState())!==JSON.stringify(e[l])&&f(e[l])});case"IMPORT_STATE":{let{nextLiftedState:n}=e.payload,r=null==(t=n.computedStates.slice(-1)[0])?void 0:t.state;if(!r)return;void 0===l?f(r):f(r[l]),null==c||c.send(null,n);break}case"PAUSE_RECORDING":return d=!d}return}}),p},aN=(e,t)=>{let n;try{n=JSON.parse(e)}catch(e){console.error("[zustand devtools middleware] Could not parse the received json",e)}void 0!==n&&t(n)},aD=e=>t=>{try{let n=e(t);if(n instanceof Promise)return n;return{then:e=>aD(e)(n),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>aD(t)(e)}}},aP=(e,t)=>(n,r,i)=>{let s,a={storage:function(e,t){let n;try{n=e()}catch(e){return}return{getItem:e=>{var t;let r=e=>null===e?null:JSON.parse(e,void 0),i=null!=(t=n.getItem(e))?t:null;return i instanceof Promise?i.then(r):r(i)},setItem:(e,r)=>n.setItem(e,JSON.stringify(r,null==t?void 0:t.replacer)),removeItem:e=>n.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},o=!1,l=new Set,u=new Set,c=a.storage;if(!c)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...e)},r,i);let h=()=>{let e=a.partialize({...r()});return c.setItem(a.name,{state:e,version:a.version})},d=i.setState;i.setState=(e,t)=>{d(e,t),h()};let f=e((...e)=>{n(...e),h()},r,i);i.getInitialState=()=>f;let p=()=>{var e,t;if(!c)return;o=!1,l.forEach(e=>{var t;return e(null!=(t=r())?t:f)});let i=(null==(t=a.onRehydrateStorage)?void 0:t.call(a,null!=(e=r())?e:f))||void 0;return aD(c.getItem.bind(c))(a.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===a.version)return[!1,e.state];if(a.migrate)return[!0,a.migrate(e.state,e.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;let[i,o]=e;if(n(s=a.merge(o,null!=(t=r())?t:f),!0),i)return h()}).then(()=>{null==i||i(s,void 0),s=r(),o=!0,u.forEach(e=>e(s))}).catch(e=>{null==i||i(void 0,e)})};return i.persist={setOptions:e=>{a={...a,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:e=>(l.add(e),()=>{l.delete(e)}),onFinishHydration:e=>(u.add(e),()=>{u.delete(e)})},!a.skipHydration&&p(),s||f};nE("firebase","11.0.2","app");let aR={apiKey:"AIzaSyAG3rzW9GDV1_wAeVksUoJ0P-ddO1a2uzE",authDomain:"passwallet2.firebaseapp.com",projectId:"passwallet2",storageBucket:"passwallet2.firebasestorage.app",messagingSenderId:"64508169890",appId:"1:64508169890:web:f724a746bc150b2b0a11fb",measurementId:"G-6N094ZCY2Y"},aO=aE()(aA(aP(()=>({appFirebase:n_(aR)}),{name:"storeSession"}))),aL={active:!1,email:"",salt:"",password:""},aM=aE()(aA(aP(e=>({L_A:!0,session:aL,changeL_A:()=>e(e=>({L_A:!e.L_A})),changeSession:(t,n,r,i)=>e(()=>({session:{active:t,email:n,salt:r,password:i}})),logout:()=>e(()=>({session:aL}))}),{name:"storeSession"})));var aF="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},aV={};(function(){function e(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function t(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+0xd76aa478&0xffffffff;a=s+(i^(t=n+(a<<7&0xffffffff|a>>>25))&(n^i))+r[1]+0xe8c7b756&0xffffffff,a=i+(n^(s=t+(a<<12&0xffffffff|a>>>20))&(t^n))+r[2]+0x242070db&0xffffffff,a=n+(t^(i=s+(a<<17&0xffffffff|a>>>15))&(s^t))+r[3]+0xc1bdceee&0xffffffff,a=t+(s^(n=i+(a<<22&0xffffffff|a>>>10))&(i^s))+r[4]+0xf57c0faf&0xffffffff,a=s+(i^(t=n+(a<<7&0xffffffff|a>>>25))&(n^i))+r[5]+0x4787c62a&0xffffffff,a=i+(n^(s=t+(a<<12&0xffffffff|a>>>20))&(t^n))+r[6]+0xa8304613&0xffffffff,a=n+(t^(i=s+(a<<17&0xffffffff|a>>>15))&(s^t))+r[7]+0xfd469501&0xffffffff,a=t+(s^(n=i+(a<<22&0xffffffff|a>>>10))&(i^s))+r[8]+0x698098d8&0xffffffff,a=s+(i^(t=n+(a<<7&0xffffffff|a>>>25))&(n^i))+r[9]+0x8b44f7af&0xffffffff,a=i+(n^(s=t+(a<<12&0xffffffff|a>>>20))&(t^n))+r[10]+0xffff5bb1&0xffffffff,a=n+(t^(i=s+(a<<17&0xffffffff|a>>>15))&(s^t))+r[11]+0x895cd7be&0xffffffff,a=t+(s^(n=i+(a<<22&0xffffffff|a>>>10))&(i^s))+r[12]+0x6b901122&0xffffffff,a=s+(i^(t=n+(a<<7&0xffffffff|a>>>25))&(n^i))+r[13]+0xfd987193&0xffffffff,a=i+(n^(s=t+(a<<12&0xffffffff|a>>>20))&(t^n))+r[14]+0xa679438e&0xffffffff,a=n+(t^(i=s+(a<<17&0xffffffff|a>>>15))&(s^t))+r[15]+0x49b40821&0xffffffff,n=i+(a<<22&0xffffffff|a>>>10),a=t+(i^s&(n^i))+r[1]+0xf61e2562&0xffffffff,t=n+(a<<5&0xffffffff|a>>>27),a=s+(n^i&(t^n))+r[6]+0xc040b340&0xffffffff,s=t+(a<<9&0xffffffff|a>>>23),a=i+(t^n&(s^t))+r[11]+0x265e5a51&0xffffffff,i=s+(a<<14&0xffffffff|a>>>18),a=n+(s^t&(i^s))+r[0]+0xe9b6c7aa&0xffffffff,n=i+(a<<20&0xffffffff|a>>>12),a=t+(i^s&(n^i))+r[5]+0xd62f105d&0xffffffff,t=n+(a<<5&0xffffffff|a>>>27),a=s+(n^i&(t^n))+r[10]+0x2441453&0xffffffff,s=t+(a<<9&0xffffffff|a>>>23),a=i+(t^n&(s^t))+r[15]+0xd8a1e681&0xffffffff,i=s+(a<<14&0xffffffff|a>>>18),a=n+(s^t&(i^s))+r[4]+0xe7d3fbc8&0xffffffff,n=i+(a<<20&0xffffffff|a>>>12),a=t+(i^s&(n^i))+r[9]+0x21e1cde6&0xffffffff,t=n+(a<<5&0xffffffff|a>>>27),a=s+(n^i&(t^n))+r[14]+0xc33707d6&0xffffffff,s=t+(a<<9&0xffffffff|a>>>23),a=i+(t^n&(s^t))+r[3]+0xf4d50d87&0xffffffff,i=s+(a<<14&0xffffffff|a>>>18),a=n+(s^t&(i^s))+r[8]+0x455a14ed&0xffffffff,n=i+(a<<20&0xffffffff|a>>>12),a=t+(i^s&(n^i))+r[13]+0xa9e3e905&0xffffffff,t=n+(a<<5&0xffffffff|a>>>27),a=s+(n^i&(t^n))+r[2]+0xfcefa3f8&0xffffffff,s=t+(a<<9&0xffffffff|a>>>23),a=i+(t^n&(s^t))+r[7]+0x676f02d9&0xffffffff,i=s+(a<<14&0xffffffff|a>>>18),a=n+(s^t&(i^s))+r[12]+0x8d2a4c8a&0xffffffff,a=t+((n=i+(a<<20&0xffffffff|a>>>12))^i^s)+r[5]+0xfffa3942&0xffffffff,a=s+((t=n+(a<<4&0xffffffff|a>>>28))^n^i)+r[8]+0x8771f681&0xffffffff,a=i+((s=t+(a<<11&0xffffffff|a>>>21))^t^n)+r[11]+0x6d9d6122&0xffffffff,a=n+((i=s+(a<<16&0xffffffff|a>>>16))^s^t)+r[14]+0xfde5380c&0xffffffff,a=t+((n=i+(a<<23&0xffffffff|a>>>9))^i^s)+r[1]+0xa4beea44&0xffffffff,a=s+((t=n+(a<<4&0xffffffff|a>>>28))^n^i)+r[4]+0x4bdecfa9&0xffffffff,a=i+((s=t+(a<<11&0xffffffff|a>>>21))^t^n)+r[7]+0xf6bb4b60&0xffffffff,a=n+((i=s+(a<<16&0xffffffff|a>>>16))^s^t)+r[10]+0xbebfbc70&0xffffffff,a=t+((n=i+(a<<23&0xffffffff|a>>>9))^i^s)+r[13]+0x289b7ec6&0xffffffff,a=s+((t=n+(a<<4&0xffffffff|a>>>28))^n^i)+r[0]+0xeaa127fa&0xffffffff,a=i+((s=t+(a<<11&0xffffffff|a>>>21))^t^n)+r[3]+0xd4ef3085&0xffffffff,a=n+((i=s+(a<<16&0xffffffff|a>>>16))^s^t)+r[6]+0x4881d05&0xffffffff,a=t+((n=i+(a<<23&0xffffffff|a>>>9))^i^s)+r[9]+0xd9d4d039&0xffffffff,a=s+((t=n+(a<<4&0xffffffff|a>>>28))^n^i)+r[12]+0xe6db99e5&0xffffffff,a=i+((s=t+(a<<11&0xffffffff|a>>>21))^t^n)+r[15]+0x1fa27cf8&0xffffffff,a=n+((i=s+(a<<16&0xffffffff|a>>>16))^s^t)+r[2]+0xc4ac5665&0xffffffff,n=i+(a<<23&0xffffffff|a>>>9),a=t+(i^(n|~s))+r[0]+0xf4292244&0xffffffff,t=n+(a<<6&0xffffffff|a>>>26),a=s+(n^(t|~i))+r[7]+0x432aff97&0xffffffff,s=t+(a<<10&0xffffffff|a>>>22),a=i+(t^(s|~n))+r[14]+0xab9423a7&0xffffffff,i=s+(a<<15&0xffffffff|a>>>17),a=n+(s^(i|~t))+r[5]+0xfc93a039&0xffffffff,n=i+(a<<21&0xffffffff|a>>>11),a=t+(i^(n|~s))+r[12]+0x655b59c3&0xffffffff,t=n+(a<<6&0xffffffff|a>>>26),a=s+(n^(t|~i))+r[3]+0x8f0ccc92&0xffffffff,s=t+(a<<10&0xffffffff|a>>>22),a=i+(t^(s|~n))+r[10]+0xffeff47d&0xffffffff,i=s+(a<<15&0xffffffff|a>>>17),a=n+(s^(i|~t))+r[1]+0x85845dd1&0xffffffff,n=i+(a<<21&0xffffffff|a>>>11),a=t+(i^(n|~s))+r[8]+0x6fa87e4f&0xffffffff,t=n+(a<<6&0xffffffff|a>>>26),a=s+(n^(t|~i))+r[15]+0xfe2ce6e0&0xffffffff,s=t+(a<<10&0xffffffff|a>>>22),a=i+(t^(s|~n))+r[6]+0xa3014314&0xffffffff,i=s+(a<<15&0xffffffff|a>>>17),a=n+(s^(i|~t))+r[13]+0x4e0811a1&0xffffffff,n=i+(a<<21&0xffffffff|a>>>11),a=t+(i^(n|~s))+r[4]+0xf7537e82&0xffffffff,t=n+(a<<6&0xffffffff|a>>>26),a=s+(n^(t|~i))+r[11]+0xbd3af235&0xffffffff,s=t+(a<<10&0xffffffff|a>>>22),a=i+(t^(s|~n))+r[2]+0x2ad7d2bb&0xffffffff,i=s+(a<<15&0xffffffff|a>>>17),a=n+(s^(i|~t))+r[9]+0xeb86d391&0xffffffff,e.g[0]=e.g[0]+t&0xffffffff,e.g[1]=e.g[1]+(i+(a<<21&0xffffffff|a>>>11))&0xffffffff,e.g[2]=e.g[2]+i&0xffffffff,e.g[3]=e.g[3]+s&0xffffffff}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(e,function(){this.blockSize=-1}),e.prototype.s=function(){this.g[0]=0x67452301,this.g[1]=0xefcdab89,this.g[2]=0x98badcfe,this.g[3]=0x10325476,this.o=this.h=0},e.prototype.u=function(e,n){void 0===n&&(n=e.length);for(var r=n-this.blockSize,i=this.B,s=this.h,a=0;a<n;){if(0==s)for(;a<=r;)t(this,e,a),a+=this.blockSize;if("string"==typeof e){for(;a<n;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){t(this,i),s=0;break}}else for(;a<n;)if(i[s++]=e[a++],s==this.blockSize){t(this,i),s=0;break}}this.h=s,this.o+=n},e.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function n(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}var r,i={};function o(e){var t,r;return -128<=e&&128>e?(t=e,r=function(e){return new n([0|e],0>e?-1:0)},Object.prototype.hasOwnProperty.call(i,t)?i[t]:i[t]=r(t)):new n([0|e],0>e?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return u;if(0>e)return p(l(-e));for(var t=[],r=1,i=0;e>=r;i++)t[i]=e/r|0,r*=0x100000000;return new n(t,0)}var u=o(0),c=o(1),h=o(0x1000000);function d(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function f(e){return -1==e.h}function p(e){for(var t=e.g.length,r=[],i=0;i<t;i++)r[i]=~e.g[i];return new n(r,~e.h).add(c)}function m(e,t){return e.add(p(t))}function g(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function v(e,t){if(d(t))throw Error("division by zero");if(d(e))return new y(u,u);if(f(e))return t=v(p(e),t),new y(p(t.g),p(t.h));if(f(t))return t=v(e,p(t)),new y(p(t.g),t.h);if(30<e.g.length){if(f(e)||f(t))throw Error("slowDivide_ only works with positive integers.");for(var n=c,r=t;0>=r.l(e);)n=x(n),r=x(r);var i=b(n,1),s=b(r,1);for(r=b(r,2),n=b(n,2);!d(r);){var a=s.add(r);0>=a.l(e)&&(i=i.add(n),s=a),r=b(r,1),n=b(n,1)}return t=m(e,i.j(t)),new y(i,t)}for(i=u;0<=e.l(t);){for(r=48>=(r=Math.ceil(Math.log(n=Math.max(1,Math.floor(e.m()/t.m())))/Math.LN2))?1:Math.pow(2,r-48),a=(s=l(n)).j(t);f(a)||0<a.l(e);)n-=r,a=(s=l(n)).j(t);d(s)&&(s=c),i=i.add(s),e=m(e,a)}return new y(i,e)}function x(e){for(var t=e.g.length+1,r=[],i=0;i<t;i++)r[i]=e.i(i)<<1|e.i(i-1)>>>31;return new n(r,e.h)}function b(e,t){var r=t>>5;t%=32;for(var i=e.g.length-r,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+r)>>>t|e.i(a+r+1)<<32-t:e.i(a+r);return new n(s,e.h)}(r=n.prototype).m=function(){if(f(this))return-p(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:0x100000000+r)*t,t*=0x100000000}return e},r.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(d(this))return"0";if(f(this))return"-"+p(this).toString(e);for(var t=l(Math.pow(e,6)),n=this,r="";;){var i=v(n,t).g,s=((0<(n=m(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(d(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},r.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},r.l=function(e){return f(e=m(this,e))?-1:d(e)?0:1},r.abs=function(){return f(this)?p(this):this},r.add=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,r[s]=o<<16|a}return new n(r,-0x80000000&r[r.length-1]?-1:0)},r.j=function(e){if(d(this)||d(e))return u;if(f(this))return f(e)?p(this).j(p(e)):p(p(this).j(e));if(f(e))return p(this.j(p(e)));if(0>this.l(h)&&0>e.l(h))return l(this.m()*e.m());for(var t=this.g.length+e.g.length,r=[],i=0;i<2*t;i++)r[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var a=this.i(i)>>>16,o=65535&this.i(i),c=e.i(s)>>>16,m=65535&e.i(s);r[2*i+2*s]+=o*m,g(r,2*i+2*s),r[2*i+2*s+1]+=a*m,g(r,2*i+2*s+1),r[2*i+2*s+1]+=o*c,g(r,2*i+2*s+1),r[2*i+2*s+2]+=a*c,g(r,2*i+2*s+2)}for(i=0;i<t;i++)r[i]=r[2*i+1]<<16|r[2*i];for(i=t;i<2*t;i++)r[i]=0;return new n(r,0)},r.A=function(e){return v(this,e).h},r.and=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],i=0;i<t;i++)r[i]=this.i(i)&e.i(i);return new n(r,this.h&e.h)},r.or=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],i=0;i<t;i++)r[i]=this.i(i)|e.i(i);return new n(r,this.h|e.h)},r.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),r=[],i=0;i<t;i++)r[i]=this.i(i)^e.i(i);return new n(r,this.h^e.h)},e.prototype.digest=e.prototype.v,e.prototype.reset=e.prototype.s,e.prototype.update=e.prototype.u,a=aV.Md5=e,n.prototype.add=n.prototype.add,n.prototype.multiply=n.prototype.j,n.prototype.modulo=n.prototype.A,n.prototype.compare=n.prototype.l,n.prototype.toNumber=n.prototype.m,n.prototype.toString=n.prototype.toString,n.prototype.getBits=n.prototype.i,n.fromNumber=l,n.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return p(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=l(Math.pow(n,8)),i=u,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=l(Math.pow(n,a)),i=i.j(a).add(l(o))):i=(i=i.j(r)).add(l(o))}return i},s=aV.Integer=n}).apply(void 0!==aF?aF:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var aU="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},aB={};(function(){var e,t,n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype?e:(e[t]=n.value,e)},i=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof aU&&aU];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,t){if(t)e:{var n=i;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in n))break e;n=n[a]}(t=t(s=n[e=e[e.length-1]]))!=s&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}("Array.prototype.values",function(e){return e||function(){var e,t,n,r,i;return e=this,t=function(e,t){return t},e instanceof String&&(e+=""),n=0,r=!1,(i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}})[Symbol.iterator]=function(){return i},i}});var s=s||{},a=this||self;function l(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function g(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function y(e,t,n){return e.call.apply(e.bind,arguments)}function v(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function x(e,t,n){return(x=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:v).apply(null,arguments)}function b(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function w(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function _(e){let t=e.length;if(0<t){let n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function S(e,t){for(let t=1;t<arguments.length;t++){let n=arguments[t];if(l(n)){let t=e.length||0,r=n.length||0;e.length=t+r;for(let i=0;i<r;i++)e[t+i]=n[i]}else e.push(n)}}function I(e){return/^[\s\xa0]*$/.test(e)}function E(){var e=a.navigator;return e&&(e=e.userAgent)?e:""}function k(e){return k[" "](e),e}k[" "]=function(){};var T=-1!=E().indexOf("Gecko")&&!(-1!=E().toLowerCase().indexOf("webkit")&&-1==E().indexOf("Edge"))&&!(-1!=E().indexOf("Trident")||-1!=E().indexOf("MSIE"))&&-1==E().indexOf("Edge");function C(e,t,n){for(let r in e)t.call(n,e[r],r,e)}function A(e){let t={};for(let n in e)t[n]=e[n];return t}let N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<N.length;t++)n=N[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}var P=new class e{get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}}(()=>new R,e=>e.reset());class R{set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}constructor(){this.next=this.g=this.h=null}}let O,L=!1,M=new class e{add(e,t){let n=P.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}constructor(){this.h=this.g=null}},F=()=>{let e=a.Promise.resolve(void 0);O=()=>{e.then(V)}};var V=()=>{let e;for(var t;e=null,M.g&&(e=M.g,M.g=M.g.next,M.g||(M.h=null),e.next=null),t=e;){try{t.h.call(t.g)}catch(e){!function(e){a.setTimeout(()=>{throw e},0)}(e)}P.j(t),100>P.h&&(P.h++,t.next=P.g,P.g=t)}L=!1};function U(){this.s=this.s,this.C=this.C}function B(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}U.prototype.s=!1,U.prototype.ma=function(){this.s||(this.s=!0,this.N())},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},B.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{let e=()=>{};a.addEventListener("test",e,t),a.removeEventListener("test",e,t)}catch(e){}return e}();function z(e,t){if(B.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(T){e:{try{k(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:q[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&z.aa.h.call(this)}}w(z,B);var q={2:"touch",3:"pen",4:"mouse"};z.prototype.h=function(){z.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var $="closure_listenable_"+(1e6*Math.random()|0),H=0;function K(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++H,this.da=this.fa=!1}function G(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function W(e){this.src=e,this.g={},this.h=0}function Q(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(G(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function J(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&!!n==s.capture&&s.ha==r)return i}return -1}W.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=J(e,t,r,i);return -1<a?(t=e[a],n||(t.fa=!1)):((t=new K(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var Y="closure_lm_"+(1e6*Math.random()|0),X={};function Z(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=g(i)?!!i.capture:!!i,o=er(e);if(o||(e[Y]=o=new W(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){let e=en;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)j||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(et(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function ee(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[$])Q(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(et(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=er(t))?(Q(n,e),0==n.h&&(n.src=null,t[Y]=null)):G(e)}}}function et(e){return e in X?X[e]:X[e]="on"+e}function en(e,t){if(e.da)e=!0;else{t=new z(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&ee(e),e=n.call(r,t)}return e}function er(e){return(e=e[Y])instanceof W?e:null}var ei="__closure_events_fn_"+(1e9*Math.random()>>>0);function es(e){return"function"==typeof e?e:(e[ei]||(e[ei]=function(t){return e.handleEvent(t)}),e[ei])}function ea(){U.call(this),this.i=new W(this),this.M=this,this.F=null}function eo(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new B(t,e);else if(t instanceof B)t.target=t.target||e;else{var i=t;D(t=new B(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=el(a,r,!0,t)&&i}if(i=el(a=t.g=e,r,!0,t)&&i,i=el(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=el(a=t.g=n[s],r,!1,t)&&i}function el(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&Q(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function eu(e,t,n){if("function"==typeof e)n&&(e=x(e,n));else if(e&&"function"==typeof e.handleEvent)e=x(e.handleEvent,e);else throw Error("Invalid listener argument");return 0x7fffffff<Number(t)?-1:a.setTimeout(e,t||0)}w(ea,U),ea.prototype[$]=!0,ea.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,s){if(Array.isArray(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,s);else(i=g(i)?!!i.capture:!!i,r=es(r),t&&t[$])?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=J(a=t.g[n],r,i,s))&&(G(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.g[n],t.h--))):t&&(t=er(t))&&(n=t.g[n.toString()],t=-1,n&&(t=J(n,r,i,s)),(r=-1<t?n[t]:null)&&ee(r))}(this,e,t,n,r)},ea.prototype.N=function(){if(ea.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)G(n[r]);delete t.g[e],t.h--}}this.F=null},ea.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ea.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ec extends U{j(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=eu(()=>{t.g=null,t.i&&(t.i=!1,e(t))},t.l);let n=t.h;t.h=null,t.m.apply(null,n)}(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}}function eh(e){U.call(this),this.h=e,this.g={}}w(eh,U);var ed=[];function ef(e){C(e.g,function(e,t){this.g.hasOwnProperty(t)&&ee(e)},e),e.g={}}eh.prototype.N=function(){eh.aa.N.call(this),ef(this)},eh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ep=a.JSON.stringify,em=a.JSON.parse,eg=class{stringify(e){return a.JSON.stringify(e,void 0)}parse(e){return a.JSON.parse(e,void 0)}};function ey(){}function ev(e){return e.h||(e.h=e.i())}function ex(){}ey.prototype.h=null;var eb={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ew(){B.call(this,"d")}function e_(){B.call(this,"c")}w(ew,B),w(e_,B);var eS={},eI=null;function eE(){return eI=eI||new ea}function ek(e){B.call(this,eS.La,e)}function eT(e){let t=eE();eo(t,new ek(t))}function eC(e,t){B.call(this,eS.STAT_EVENT,e),this.stat=t}function eA(e){let t=eE();eo(t,new eC(t,e))}function eN(e,t){B.call(this,eS.Ma,e),this.size=t}function eD(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){e()},t)}function eP(){this.g=!0}eS.La="serverreachability",w(ek,B),eS.STAT_EVENT="statevent",w(eC,B),eS.Ma="timingevent",w(eN,B),eP.prototype.xa=function(){this.g=!1};function eR(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}}return ep(n)}catch(e){return t}}(e,n)+(r?" "+r:"")})}eP.prototype.info=function(){};var eO={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},eL={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function eM(){}function eF(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new eh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new eV}function eV(){this.i=null,this.g="",this.h=!1}w(eM,ey),eM.prototype.g=function(){return new XMLHttpRequest},eM.prototype.i=function(){return{}},t=new eM;var eU={},eB={};function ej(e,t,n){e.L=1,e.v=tn(e5(t)),e.m=n,e.P=!0,ez(e,null)}function ez(e,t){e.F=Date.now(),e$(e),e.A=e5(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),tm(n.i,"t",r),e.C=0,n=e.j.J,e.h=new eV,e.g=t1(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ec(x(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ed[0]=i.toString()),i=ed);for(var s=0;s<i.length;s++){var a=function e(t,n,r,i,s){if(i&&i.once)return function e(t,n,r,i,s){if(Array.isArray(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,s);return null}return r=es(r),t&&t[$]?t.L(n,r,g(i)?!!i.capture:!!i,s):Z(t,n,r,!0,i,s)}(t,n,r,i,s);if(Array.isArray(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,s);return null}return r=es(r),t&&t[$]?t.K(n,r,g(i)?!!i.capture:!!i,s):Z(t,n,r,!1,i,s)}(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?A(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),eT(),!function(e,t,n,r,i,s){e.info(function(){if(e.g){if(s){for(var a="",o=s.split("&"),l=0;l<o.length;l++){var u=o[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"="+u)+"&":a+(c+"=redacted&")}}}else a=null}else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function eq(e){return!!e.g&&"GET"==e.u&&2!=e.L&&e.j.Ca}eF.prototype.ca=function(e){e=e.target;let t=this.M;t&&3==tO(e)?t.j():this.Y(e)},eF.prototype.Y=function(e){try{if(e==this.g)e:{let d=tO(this.g);var t=this.g.Ba();let f=this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||tL(this.g)))){this.J||4!=d||7==t||(8==t||0>=f?eT(3):eT(2)),eK(this);var n=this.g.Z();this.X=n;t:if(eq(this)){var r=tL(this.g);e="";var i=r.length,s=4==tO(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){eW(this),eG(this);var o="";break t}this.h.i=new a.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,!function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(l)){var c=l;break t}}c=null}if(n=c)eR(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eQ(this,n);else{this.o=!1,this.s=3,eA(12),eW(this),eG(this);break e}}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;)if((e=function(e,t){var n=e.C,r=t.indexOf("\n",n);return -1==r?eB:isNaN(n=Number(t.substring(n,r)))?eU:(r+=1)+n>t.length?eB:(t=t.slice(r,r+n),e.C=r+n,t)}(this,o))==eB){4==d&&(this.s=4,eA(14),n=!1),eR(this.i,this.l,null,"[Incomplete Response]");break}else if(e==eU){this.s=4,eA(15),eR(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}else eR(this.i,this.l,e,null),eQ(this,e);if(eq(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=o.length||this.h.h||(this.s=1,eA(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),tG(h),h.M=!0,eA(11))}}else eR(this.i,this.l,o,"[Invalid Chunked Response]"),eW(this),eG(this)}else eR(this.i,this.l,o,null),eQ(this,o);4==d&&eW(this),this.o&&!this.J&&(4==d?tJ(this.j,this):(this.o=!1,e$(this)))}else(function(e){let t={};e=(e.g&&2<=tO(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(I(e[r]))continue;var n=function(e){var t=1;e=e.split(":");let n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}(e[r]);let i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();let s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(let n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,eA(12)):(this.s=0,eA(13)),eW(this),eG(this)}}}catch(e){}finally{}};function e$(e){e.S=Date.now()+e.I,eH(e,e.I)}function eH(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=eD(x(e.ba,e),t)}function eK(e){e.B&&(a.clearTimeout(e.B),e.B=null)}function eG(e){0==e.j.G||e.J||tJ(e.j,e)}function eW(e){eK(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ef(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function eQ(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||e0(n.h,e))){if(!e.K&&e0(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(n.g.F+3e3<e.F)tQ(n),tU(n);else break e}tK(n),eA(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=eD(x(n.Za,n),6e3));if(1>=eZ(n.h)&&n.ca){try{n.ca()}catch(e){}n.ca=void 0}}else tX(n,11)}else if((e.K||n.g==e)&&tQ(n),!I(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let o=i[t];if(n.T=o[0],o=o[1],2==n.G){if("c"==o[0]){n.K=o[1],n.ia=o[2];let t=o[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));let i=o[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));let l=o[5];null!=l&&"number"==typeof l&&0<l&&(r=1.5*l,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;let u=e.g;if(u){let e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(e1(s,s.h),s.h=null))}if(r.D){let e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,tt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms")),r=n;if(r.qa=t0(r,r.J?r.ia:null,r.W),e.K){e2(r.h,e);var a=r.L;a&&(e.I=a),e.B&&(eK(e),e$(e)),r.g=e}else tH(r);0<n.i.length&&tj(n)}else"stop"!=o[0]&&"close"!=o[0]||tX(n,7)}else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?tX(n,7):tV(n):"noop"!=o[0]&&n.l&&n.l.ta(o),n.v=0)}}eT(4)}catch(e){}}eF.prototype.cancel=function(){this.J=!0,eW(this)},eF.prototype.ba=function(){this.B=null;let e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(eT(),eA(17)),eW(this),this.s=2,eG(this)):eH(this,this.S-e)};var eJ=class{constructor(e,t){this.g=e,this.map=t}};function eY(e){this.l=e||10,e=a.PerformanceNavigationTiming?0<(e=a.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function eX(e){return!!e.h||!!e.g&&e.g.size>=e.j}function eZ(e){return e.h?1:e.g?e.g.size:0}function e0(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function e1(e,t){e.g?e.g.add(t):e.h=t}function e2(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function e4(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(let n of e.g.values())t=t.concat(n.D);return t}return _(e.i)}eY.prototype.cancel=function(){if(this.i=e4(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(let e of this.g.values())e.cancel();this.g.clear()}};function e6(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(l(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(l(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(let r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(l(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var e8=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function e3(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof e3){this.h=e.h,e7(this,e.j),this.o=e.o,this.g=e.g,e9(this,e.s),this.l=e.l;var t=e.i,n=new th;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),te(this,n),this.m=e.m}else e&&(t=String(e).match(e8))?(this.h=!1,e7(this,t[1]||"",!0),this.o=tr(t[2]||""),this.g=tr(t[3]||"",!0),e9(this,t[4]),this.l=tr(t[5]||"",!0),te(this,t[6]||"",!0),this.m=tr(t[7]||"")):(this.h=!1,this.i=new th(null,this.h))}function e5(e){return new e3(e)}function e7(e,t,n){e.j=n?tr(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function e9(e,t){if(t){if(isNaN(t=Number(t))||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function te(e,t,n){t instanceof th?(e.i=t,function(e,t){t&&!e.j&&(td(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(tf(this,t),tm(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ti(t,tu)),e.i=new th(t,e.h))}function tt(e,t,n){e.i.set(t,n)}function tn(e){return tt(e,"zx",Math.floor(0x80000000*Math.random()).toString(36)+Math.abs(Math.floor(0x80000000*Math.random())^Date.now()).toString(36)),e}function tr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ti(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ts),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ts(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}e3.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ti(t,ta,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ti(t,ta,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ti(n,"/"==n.charAt(0)?tl:to,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ti(n,tc)),e.join("")};var ta=/[#\/\?@]/g,to=/[#\?:]/g,tl=/[#\?]/g,tu=/[#\?@]/g,tc=/#/g;function th(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function td(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function tf(e,t){td(e),t=tg(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function tp(e,t){return td(e),t=tg(e,t),e.g.has(t)}function tm(e,t,n){tf(e,t),0<n.length&&(e.i=null,e.g.set(tg(e,t),_(n)),e.h+=n.length)}function tg(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(n=th.prototype).add=function(e,t){td(this),this.i=null,e=tg(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},n.forEach=function(e,t){td(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},n.na=function(){td(this);let e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){let i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},n.V=function(e){td(this);let t=[];if("string"==typeof e)tp(this,e)&&(t=t.concat(this.g.get(tg(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},n.set=function(e,t){return td(this),this.i=null,tp(this,e=tg(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},n.get=function(e,t){return e?0<(e=this.V(e)).length?String(e[0]):t:t},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];let s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};function ty(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(e){}}function tv(){this.g=new eg}function tx(e){this.l=e.Ub||null,this.j=e.eb||!1}function tb(e,t){ea.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function tw(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function t_(e){e.readyState=4,e.l=null,e.j=null,e.v=null,tS(e)}function tS(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function tI(e){let t="";return C(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function tE(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=tI(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):tt(e,t,n))}function tk(e){ea.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(tx,ey),tx.prototype.g=function(){return new tb(this.l,this.j)},tx.prototype.i=(e={},function(){return e}),w(tb,ea),(n=tb.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,tS(this)},n.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;let t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||a).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,t_(this)),this.readyState=0},n.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,tS(this)),this.g&&(this.readyState=3,tS(this),this.g))){if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tw(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))}},n.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?t_(this):tS(this),3==this.readyState&&tw(this)}},n.Ra=function(e){this.g&&(this.response=this.responseText=e,t_(this))},n.Qa=function(e){this.g&&(this.response=e,t_(this))},n.ga=function(){this.g&&t_(this)},n.setRequestHeader=function(e,t){this.u.append(e,t)},n.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],t=this.h.entries();for(var n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(tb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),w(tk,ea);var tT=/^https?$/i,tC=["POST","PUT"];function tA(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,tN(e),tP(e)}function tN(e){e.A||(e.A=!0,eo(e,"complete"),eo(e,"error"))}function tD(e){if(e.h&&void 0!==s&&(!e.v[1]||4!=tO(e)||2!=e.Z())){if(e.u&&4==tO(e))eu(e.Ea,0,e);else if(eo(e,"readystatechange"),4==tO(e)){e.h=!1;try{let s=e.Z();switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t,n,r=!0;break;default:r=!1}if(!(t=r)){if(n=0===s){var i=String(e.D).match(e8)[1]||null;!i&&a.self&&a.self.location&&(i=a.self.location.protocol.slice(0,-1)),n=!tT.test(i?i.toLowerCase():"")}t=n}if(t)eo(e,"complete"),eo(e,"success");else{e.m=6;try{var o=2<tO(e)?e.g.statusText:""}catch(e){o=""}e.l=o+" ["+e.Z()+"]",tN(e)}}finally{tP(e)}}}}function tP(e,t){if(e.g){tR(e);let n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||eo(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function tR(e){e.I&&(a.clearTimeout(e.I),e.I=null)}function tO(e){return e.g?e.g.readyState:0}function tL(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}(n=tk.prototype).Ha=function(e){this.J=e},n.ea=function(e,n,r,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);n=n?n.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():t.g(),this.v=this.o?ev(this.o):ev(t),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(n,String(e),!0),this.B=!1}catch(e){tA(this,e);return}if(e=r||"",r=new Map(this.headers),i){if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)r.set(s,i[s]);else if("function"==typeof i.keys&&"function"==typeof i.get)for(let e of i.keys())r.set(e,i.get(e));else throw Error("Unknown input type for opt_headers: "+String(i))}for(let[t,o]of(i=Array.from(r.keys()).find(e=>"content-type"==e.toLowerCase()),s=a.FormData&&e instanceof a.FormData,!(0<=Array.prototype.indexOf.call(tC,n,void 0))||i||s||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r))this.g.setRequestHeader(t,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tR(this),this.u=!0,this.g.send(e),this.u=!1}catch(e){tA(this,e)}},n.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,eo(this,"complete"),eo(this,"abort"),tP(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tP(this,!0)),tk.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?tD(this):this.bb())},n.bb=function(){tD(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<tO(this)?this.g.status:-1}catch(e){return -1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},n.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),em(t)}};function tM(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function tF(e){this.Aa=0,this.i=[],this.j=new eP,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=tM("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=tM("baseRetryDelayMs",5e3,e),this.cb=tM("retryDelaySeedMs",1e4,e),this.Wa=tM("forwardChannelMaxRetries",2,e),this.wa=tM("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new eY(e&&e.concurrentRequestLimit),this.Da=new tv,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function tV(e){if(tB(e),3==e.G){var t=e.U++,n=e5(e.I);if(tt(n,"SID",e.K),tt(n,"RID",t),tt(n,"TYPE","terminate"),tq(e,n),(t=new eF(e,e.j,t)).L=2,t.v=tn(e5(n)),n=!1,a.navigator&&a.navigator.sendBeacon)try{n=a.navigator.sendBeacon(t.v.toString(),"")}catch(e){}!n&&a.Image&&((new Image).src=t.v,n=!0),n||(t.g=t1(t.j,null),t.g.ea(t.v)),t.F=Date.now(),e$(t)}tZ(e)}function tU(e){e.g&&(tG(e),e.g.cancel(),e.g=null)}function tB(e){tU(e),e.u&&(a.clearTimeout(e.u),e.u=null),tQ(e),e.h.cancel(),e.s&&("number"==typeof e.s&&a.clearTimeout(e.s),e.s=null)}function tj(e){if(!eX(e.h)&&!e.s){e.s=!0;var t=e.Ga;O||F(),L||(O(),L=!0),M.add(t,e),e.B=0}}n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=tF.prototype).la=8,n.G=1,n.connect=function(e,t,n,r){eA(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=t0(this,null,this.W),tj(this)};function tz(e,t){var n;n=t?t.l:e.U++;let r=e5(e.I);tt(r,"SID",e.K),tt(r,"RID",n),tt(r,"AID",e.T),tq(e,r),e.m&&e.o&&tE(r,e.m,e.o),n=new eF(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=t$(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),e1(e.h,n),ej(n,r,t)}function tq(e,t){e.H&&C(e.H,function(e,n){tt(t,n,e)}),e.l&&e6({},function(e,n){tt(t,n,e)})}function t$(e,t,n){n=Math.min(e.i.length,n);var r=e.l?x(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){let e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g,o=i[a].map;if(0>(n-=t))t=Math.max(0,i[a].g-100),s=!1;else try{!function(e,t,n){let r=n||"";try{e6(e,function(e,n){let i=e;g(e)&&(i=ep(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}(o,e,"req"+n+"_")}catch(e){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tH(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;O||F(),L||(O(),L=!0),M.add(t,e),e.v=0}}function tK(e){return!e.g&&!e.u&&!(3<=e.v)&&(e.Y++,e.u=eD(x(e.Fa,e),tY(e,e.v)),e.v++,!0)}function tG(e){null!=e.A&&(a.clearTimeout(e.A),e.A=null)}function tW(e){e.g=new eF(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=e5(e.qa);tt(t,"RID","rpc"),tt(t,"SID",e.K),tt(t,"AID",e.T),tt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&tt(t,"TO",e.ja),tt(t,"TYPE","xmlhttp"),tq(e,t),e.m&&e.o&&tE(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=tn(e5(t)),n.m=null,n.P=!0,ez(n,e)}function tQ(e){null!=e.C&&(a.clearTimeout(e.C),e.C=null)}function tJ(e,t){var n=null;if(e.g==t){tQ(e),tG(e),e.g=null;var r=2}else{if(!e0(e.h,t))return;n=t.D,e2(e.h,t),r=1}if(0!=e.G){if(t.o){if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i,s,a=e.B;eo(r=eE(),new eN(r,n)),tj(e)}else tH(e)}else{;if(3==(a=t.s)||0==a&&0<t.X||!(1==r&&(i=e,s=t,!(eZ(i.h)>=i.h.j-(i.s?1:0))&&(i.s?(i.i=s.D.concat(i.i),!0):1!=i.G&&2!=i.G&&!(i.B>=(i.Va?0:i.Wa))&&(i.s=eD(x(i.Ga,i,s),tY(i,i.B)),i.B++,!0)))||2==r&&tK(e)))switch(n&&0<n.length&&((t=e.h).i=t.i.concat(n)),a){case 1:tX(e,5);break;case 4:tX(e,10);break;case 3:tX(e,6);break;default:tX(e,2)}}}}function tY(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function tX(e,t){if(e.j.info("Error code "+t),2==t){var n=x(e.fb,e),r=e.Xa;let t=!r;r=new e3(r||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||e7(r,"https"),tn(r),t?function(e,t){let n=new eP;if(a.Image){let r=new Image;r.onload=b(ty,n,"TestLoadImage: loaded",!0,t,r),r.onerror=b(ty,n,"TestLoadImage: error",!1,t,r),r.onabort=b(ty,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=b(ty,n,"TestLoadImage: timeout",!1,t,r),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){let n=new eP,r=new AbortController,i=setTimeout(()=>{r.abort(),ty(n,"TestPingServer: timeout",!1,t)},1e4);fetch(e,{signal:r.signal}).then(e=>{clearTimeout(i),e.ok?ty(n,"TestPingServer: ok",!0,t):ty(n,"TestPingServer: server error",!1,t)}).catch(()=>{clearTimeout(i),ty(n,"TestPingServer: error",!1,t)})}(r.toString(),n)}else eA(2);e.G=0,e.l&&e.l.sa(t),tZ(e),tB(e)}function tZ(e){if(e.G=0,e.ka=[],e.l){let t=e4(e.h);(0!=t.length||0!=e.i.length)&&(S(e.ka,t),S(e.ka,e.i),e.h.i.length=0,_(e.i),e.i.length=0),e.l.ra()}}function t0(e,t,n){var r=n instanceof e3?e5(n):new e3(n);if(""!=r.g)t&&(r.g=t+"."+r.g),e9(r,r.s);else{var i=a.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new e3(null);r&&e7(s,r),t&&(s.g=t),i&&e9(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&tt(r,n,t),tt(r,"VER",e.la),tq(e,r),r}function t1(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new tk(e.Ca&&!e.pa?new tx({eb:n}):e.pa)).Ha(e.J),t}function t2(){}function t4(){}function t6(e,t){ea.call(this),this.g=new tF(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!I(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!I(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new t5(this)}function t8(e){ew.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(let n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function t3(){e_.call(this),this.status=1}function t5(e){this.g=e}n.Ga=function(e){if(this.s){if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;let i=new eF(this,this.j,e),s=this.o;if(this.S&&(s?D(s=A(s),this.S):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.map&&"string"==typeof(r=r.map.__data__)){r=r.length;break t}r=void 0}if(void 0===r)break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=t$(this,i,t),tt(n=e5(this.I),"RID",e),tt(n,"CVER",22),this.D&&tt(n,"X-HTTP-Session-Id",this.D),tq(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(tI(s)))+"&"+t:this.m&&tE(n,this.m,s)),e1(this.h,i),this.Ua&&tt(n,"TYPE","init"),this.P?(tt(n,"$req",t),tt(n,"SID","null"),i.T=!0,ej(i,n,null)):ej(i,n,t),this.G=2}}else 3==this.G&&(e?tz(this,e):0==this.i.length||eX(this.h)||tz(this))}},n.Fa=function(){if(this.u=null,tW(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=eD(x(this.ab,this),e)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,eA(10),tU(this),tW(this))},n.Za=function(){null!=this.C&&(this.C=null,tU(this),tK(this),eA(19))},n.fb=function(e){e?(this.j.info("Successfully pinged google.com"),eA(2)):(this.j.info("Failed to ping google.com"),eA(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=t2.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},t4.prototype.g=function(e,t){return new t6(e,t)},w(t6,ea),t6.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},t6.prototype.close=function(){tV(this.g)},t6.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=ep(e),e=n);t.i.push(new eJ(t.Ya++,e)),3==t.G&&tj(t)},t6.prototype.N=function(){this.g.l=null,delete this.j,tV(this.g),delete this.g,t6.aa.N.call(this)},w(t8,ew),w(t3,e_),w(t5,t2),t5.prototype.ua=function(){eo(this.g,"a")},t5.prototype.ta=function(e){eo(this.g,new t8(e))},t5.prototype.sa=function(e){eo(this.g,new t3)},t5.prototype.ra=function(){eo(this.g,"b")},t4.prototype.createWebChannel=t4.prototype.g,t6.prototype.send=t6.prototype.o,t6.prototype.open=t6.prototype.m,t6.prototype.close=t6.prototype.close,m=aB.createWebChannelTransport=function(){return new t4},p=aB.getStatEventTarget=function(){return eE()},f=aB.Event=eS,d=aB.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},eO.NO_ERROR=0,eO.TIMEOUT=8,eO.HTTP_ERROR=6,h=aB.ErrorCode=eO,eL.COMPLETE="complete",c=aB.EventType=eL,ex.EventType=eb,eb.OPEN="a",eb.CLOSE="b",eb.ERROR="c",eb.MESSAGE="d",ea.prototype.listen=ea.prototype.K,u=aB.WebChannel=ex,aB.FetchXmlHttpFactory=tx,tk.prototype.listenOnce=tk.prototype.L,tk.prototype.getLastError=tk.prototype.Ka,tk.prototype.getLastErrorCode=tk.prototype.Ba,tk.prototype.getStatus=tk.prototype.Z,tk.prototype.getResponseJson=tk.prototype.Oa,tk.prototype.getResponseText=tk.prototype.oa,tk.prototype.send=tk.prototype.ea,tk.prototype.setWithCredentials=tk.prototype.Ha,o=aB.XhrIo=tk}).apply(void 0!==aU?aU:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});let aj="@firebase/firestore";class az{isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}constructor(e){this.uid=e}}az.UNAUTHENTICATED=new az(null),az.GOOGLE_CREDENTIALS=new az("google-credentials-uid"),az.FIRST_PARTY=new az("first-party-uid"),az.MOCK_USER=new az("mock-user");let aq="11.0.2",a$=new t1("@firebase/firestore");function aH(){return a$.logLevel}function aK(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(a$.logLevel<=i.DEBUG){let t=n.map(aQ);a$.debug(`Firestore (${aq}): ${e}`,...t)}}function aG(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(a$.logLevel<=i.ERROR){let t=n.map(aQ);a$.error(`Firestore (${aq}): ${e}`,...t)}}function aW(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(a$.logLevel<=i.WARN){let t=n.map(aQ);a$.warn(`Firestore (${aq}): ${e}`,...t)}}function aQ(e){if("string"==typeof e)return e;try{var t;return t=e,JSON.stringify(t)}catch(t){return e}}function aJ(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t=`FIRESTORE (${aq}) INTERNAL ASSERTION FAILED: `+e;throw aG(t),Error(t)}function aY(e,t){e||aJ()}function aX(e,t){return e}let aZ={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class a0 extends tO{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class a1{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class a2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(az.UNAUTHENTICATED))}shutdown(){}}class a6{getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}constructor(e){this.token=e,this.changeListener=null}}class a8{start(e,t){var n;void 0===this.o||aJ();let r=this.i,i=e=>this.i!==r?(r=this.i,t(e)):Promise.resolve(),s=new a1;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new a1,e.enqueueRetryable(()=>i(this.currentUser))};let a=()=>{let t=s;e.enqueueRetryable(async()=>{await t.promise,await i(this.currentUser)})},o=e=>{aK("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?o(e):(aK("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new a1)}},0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>{var n;return this.i!==e?(aK("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?("string"==typeof t.accessToken||aJ(),new a2(t.accessToken,this.currentUser)):null}):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){var e;let t=this.auth&&this.auth.getUid();return null===t||"string"==typeof t||aJ(),new az(t)}constructor(e){this.t=e,this.currentUser=az.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}}class a3{I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);let e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=az.FIRST_PARTY,this.T=new Map}}class a5{getToken(){return Promise.resolve(new a3(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(az.FIRST_PARTY))}shutdown(){}invalidateToken(){}constructor(e,t,n){this.l=e,this.h=t,this.P=n}}class a7{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a9{start(e,t){var n;void 0===this.o||aJ();let r=e=>{null!=e.error&&aK("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let n=e.token!==this.R;return this.R=e.token,aK("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>r(t))};let i=e=>{aK("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>i(e)),setTimeout(()=>{if(!this.appCheck){let e=this.A.getImmediate({optional:!0});e?i(e):aK("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>{var t;return e?("string"==typeof e.token||aJ(),this.R=e.token,new a7(e.token)):null}):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}}class oe{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";for(;n.length<20;){let r=function(e){let t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(40);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function ot(e,t){return e<t?-1:e>t?1:0}function on(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function or(e){return e+"\0"}class oi{static now(){return oi.fromMillis(Date.now())}static fromDate(e){return oi.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new oi(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -0xe7791f700).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new a0(aZ.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-0xe7791f700||e>=0x3afff44180)throw new a0(aZ.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}}class os{static fromTimestamp(e){return new os(e)}static min(){return new os(new oi(0,0))}static max(){return new os(new oi(0x3afff4417f,0x3b9ac9ff))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}constructor(e){this.timestamp=e}}class oa{get length(){return this.len}isEqual(e){return 0===oa.comparator(this,e)}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof oa?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let n=Math.min(e.length,t.length);for(let r=0;r<n;r++){let n=e.get(r),i=t.get(r);if(n<i)return -1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}constructor(e,t,n){void 0===t?t=0:t>e.length&&aJ(),void 0===n?n=e.length-t:n>e.length-t&&aJ(),this.segments=e,this.offset=t,this.len=n}}class oo extends oa{construct(e,t,n){return new oo(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=[];for(let e of t){if(e.indexOf("//")>=0)throw new a0(aZ.INVALID_ARGUMENT,`Invalid segment (${e}). Paths must not contain // in them.`);r.push(...e.split("/").filter(e=>e.length>0))}return new oo(r)}static emptyPath(){return new oo([])}}let ol=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ou extends oa{construct(e,t,n){return new ou(e,t,n)}static isValidIdentifier(e){return ol.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ou.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ou(["__name__"])}static fromServerFormat(e){let t=[],n="",r=0,i=()=>{if(0===n.length)throw new a0(aZ.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""},s=!1;for(;r<e.length;){let t=e[r];if("\\"===t){if(r+1===e.length)throw new a0(aZ.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new a0(aZ.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?s=!s:"."!==t||s?n+=t:i(),r++}if(i(),s)throw new a0(aZ.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ou(t)}static emptyPath(){return new ou([])}}class oc{static fromPath(e){return new oc(oo.fromString(e))}static fromName(e){return new oc(oo.fromString(e).popFirst(5))}static empty(){return new oc(oo.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===oo.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return oo.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oc(new oo(e.slice()))}constructor(e){this.path=e}}class oh{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function od(e){return e.fields.find(e=>2===e.kind)}function of(e){return e.fields.filter(e=>2!==e.kind)}function op(e,t){let n=ot(e.collectionGroup,t.collectionGroup);if(0!==n)return n;for(let r=0;r<Math.min(e.fields.length,t.fields.length);++r)if(0!==(n=function(e,t){let n=ou.comparator(e.fieldPath,t.fieldPath);return 0!==n?n:ot(e.kind,t.kind)}(e.fields[r],t.fields[r])))return n;return ot(e.fields.length,t.fields.length)}oh.UNKNOWN_ID=-1;class om{constructor(e,t){this.fieldPath=e,this.kind=t}}class og{static empty(){return new og(0,ox.min())}constructor(e,t){this.sequenceNumber=e,this.offset=t}}function oy(e,t){let n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1;return new ox(os.fromTimestamp(1e9===r?new oi(n+1,0):new oi(n,r)),oc.empty(),t)}function ov(e){return new ox(e.readTime,e.key,-1)}class ox{static min(){return new ox(os.min(),oc.empty(),-1)}static max(){return new ox(os.max(),oc.empty(),-1)}constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}}function ob(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=oc.comparator(e.documentKey,t.documentKey))?n:ot(e.largestBatchId,t.largestBatchId)}let ow="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class o_{addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}constructor(){this.onCommittedListeners=[]}}async function oS(e){if(e.code!==aZ.FAILED_PRECONDITION||e.message!==ow)throw e;aK("LocalStore","Unexpectedly lost primary lease")}class oI{catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&aJ(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oI((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof oI?t:oI.resolve(t)}catch(e){return oI.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oI.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oI.reject(t)}static resolve(e){return new oI((t,n)=>{t(e)})}static reject(e){return new oI((t,n)=>{n(e)})}static waitFor(e){return new oI((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=oI.resolve(!1);for(let n of e)t=t.next(e=>e?oI.resolve(e):n());return t}static forEach(e,t){let n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new oI((n,r)=>{let i=e.length,s=Array(i),a=0;for(let o=0;o<i;o++){let l=o;t(e[l]).next(e=>{s[l]=e,++a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new oI((n,r)=>{let i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}}class oE{static open(e,t,n,r){try{return new oE(t,e.transaction(r,n))}catch(e){throw new oA(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(aK("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){return new oD(this.transaction.objectStore(e))}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new a1,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new oA(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{let n=oO(t.target.error);this.V.reject(new oA(e,n))}}}class ok{static delete(e){return aK("SimpleDb","Removing database:",e),oP(window.indexedDB.deleteDatabase(e)).toPromise()}static p(){if(!tR())return!1;if(ok.S())return!0;let e=tD(),t=ok.D(e),n=oT(e);return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||0<t&&t<10||0<n&&n<4.5)}static S(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static C(e,t){return e.store(t)}static D(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i);return Number(t?t[1].split("_").slice(0,2).join("."):"-1")}async M(e){return this.db||(aK("SimpleDb","Opening database:",this.name),this.db=await new Promise((t,n)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{t(e.target.result)},r.onblocked=()=>{n(new oA(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{let r=t.target.error;"VersionError"===r.name?n(new a0(aZ.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new a0(aZ.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new oA(e,r))},r.onupgradeneeded=e=>{aK("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);let t=e.target.result;this.F.O(t,r.transaction,e.oldVersion,this.version).next(()=>{aK("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=e=>this.N(e)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){let i="readonly"===t,s=0;for(;;){++s;try{this.db=await this.M(e);let t=oE.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next(e=>(t.g(),e)).catch(e=>(t.abort(e),oI.reject(e))).toPromise();return s.catch(()=>{}),await t.m,s}catch(t){let e="FirebaseError"!==t.name&&s<3;if(aK("SimpleDb","Transaction failed with error:",t.message,"Retrying:",e),this.close(),!e)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}constructor(e,t,n){this.name=e,this.version=t,this.F=n,12.2===ok.D(tD())&&aG("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}}function oT(e){let t=e.match(/Android ([\d.]+)/i);return Number(t?t[1].split(".").slice(0,2).join("."):"-1")}class oC{get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return oP(this.B.delete())}constructor(e){this.B=e,this.k=!1,this.q=null}}class oA extends a0{constructor(e,t){super(aZ.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function oN(e){return"IndexedDbTransactionError"===e.name}class oD{put(e,t){let n;return void 0!==t?(aK("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(aK("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),oP(n)}add(e){return aK("SimpleDb","ADD",this.store.name,e,e),oP(this.store.add(e))}get(e){return oP(this.store.get(e)).next(t=>(void 0===t&&(t=null),aK("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return aK("SimpleDb","DELETE",this.store.name,e),oP(this.store.delete(e))}count(){return aK("SimpleDb","COUNT",this.store.name),oP(this.store.count())}U(e,t){let n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){let e=r.getAll(n.range);return new oI((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}{let e=this.cursor(n),t=[];return this.W(e,(e,n)=>{t.push(n)}).next(()=>t)}}G(e,t){let n=this.store.getAll(e,null===t?void 0:t);return new oI((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}})}j(e,t){aK("SimpleDb","DELETE ALL",this.store.name);let n=this.options(e,t);n.H=!1;let r=this.cursor(n);return this.W(r,(e,t,n)=>n.delete())}J(e,t){let n;t?n=e:(n={},t=e);let r=this.cursor(n);return this.W(r,t)}Y(e){let t=this.cursor({});return new oI((n,r)=>{t.onerror=e=>{r(oO(e.target.error))},t.onsuccess=t=>{let r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}W(e,t){let n=[];return new oI((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{let i=e.target.result;if(!i)return void r();let s=new oC(i),a=t(i.primaryKey,i.value,s);if(a instanceof oI){let e=a.catch(e=>(s.done(),oI.reject(e)));n.push(e)}s.isDone?r():null===s.K?i.continue():i.continue(s.K)}}).next(()=>oI.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){let n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}constructor(e){this.store=e}}function oP(e){return new oI((t,n)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{n(oO(e.target.error))}})}let oR=!1;function oO(e){let t=ok.D(tD());if(t>=12.2&&t<13){let t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){let e=new a0("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return oR||(oR=!0,setTimeout(()=>{throw e},0)),e}}return e}class oL{start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){aK("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{aK("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(e){oN(e)?aK("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await oS(e)}await this.X(6e4)})}constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}}class oM{async ee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.te(t,e))}te(e,t){let n=new Set,r=t,i=!0;return oI.doWhile(()=>!0===i&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(t=>{if(null!==t&&!n.has(t))return aK("IndexBackfiller",`Processing collection: ${t}`),this.ne(e,t,r).next(e=>{r-=e,n.add(t)});i=!1})).next(()=>t-r)}ne(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next(n=>{let i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next(()=>this.re(r,n)).next(n=>(aK("IndexBackfiller",`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n))).next(()=>i.size)}))}re(e,t){let n=e;return t.changes.forEach((e,t)=>{let r=ov(t);ob(r,n)>0&&(n=r)}),new ox(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}constructor(e,t){this.localStore=e,this.persistence=t}}class oF{ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.se&&this.se(e),e}constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}}function oV(e){return null==e}function oU(e){return 0===e&&1/e==-Infinity}function oB(e){return"number"==typeof e&&Number.isInteger(e)&&!oU(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function oj(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=function(e){return e+"\x01\x01"}(t)),t=function(e,t){let n=t,r=e.length;for(let t=0;t<r;t++){let r=e.charAt(t);switch(r){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=r}}return n}(e.get(n),t);return function(e){return e+"\x01\x01"}(t)}oF.oe=-1;function oz(e){return e+"\x01\x01"}function oq(e){var t,n;let r=e.length;if(r>=2||aJ(),2===r){;return"\x01"===e.charAt(0)&&"\x01"===e.charAt(1)||aJ(),oo.emptyPath()}let i=r-2,s=[],a="";for(let t=0;t<r;){let n=e.indexOf("\x01",t);switch((n<0||n>i)&&aJ(),e.charAt(n+1)){case"\x01":let r;let o=e.substring(t,n);0===a.length?r=o:(a+=o,r=a,a=""),s.push(r);break;case"\x10":a+=e.substring(t,n),a+="\0";break;case"\x11":a+=e.substring(t,n+1);break;default:aJ()}t=n+2}return new oo(s)}let o$=["userId","batchId"];function oH(e,t){return[e,oj(t)]}function oK(e,t,n){return[e,oj(t),n]}let oG={},oW=["prefixPath","collectionGroup","readTime","documentId"],oQ=["prefixPath","collectionGroup","documentId"],oJ=["collectionGroup","readTime","prefixPath","documentId"],oY=["canonicalId","targetId"],oX=["targetId","path"],oZ=["path","targetId"],o0=["collectionId","parent"],o1=["indexId","uid"],o2=["uid","sequenceNumber"],o4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],o6=["indexId","uid","orderedDocumentKey"],o8=["userId","collectionPath","documentId"],o3=["userId","collectionPath","largestBatchId"],o5=["userId","collectionGroup","largestBatchId"],o7=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],o9=[...o7,"documentOverlays"],le=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lt=[...le,"indexConfiguration","indexState","indexEntries"],ln=[...lt,"globals"];class lr extends o_{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function li(e,t){var n;return ok.C(e._e,t)}function ls(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function la(e,t){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function lo(e,t){let n=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(t(e[r],r,e));return n}function ll(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class lu{insert(e,t){return new lu(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,lh.BLACK,null,null))}remove(e){return new lu(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lh.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){let e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lc(this.root,e,this.comparator,!0)}constructor(e,t){this.comparator=e,this.root=t||lh.EMPTY}}class lc{getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}}class lh{copy(e,t,n,r,i){return new lh(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}removeMin(){if(this.left.isEmpty())return lh.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}remove(e,t){let n,r=this;if(0>t(e,r.key))r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return lh.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}rotateLeft(){let e=this.copy(null,null,lh.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,lh.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return Math.pow(2,this.check())<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw aJ();let e=this.left.check();if(e!==this.right.check())throw aJ();return e+(this.isRed()?0:1)}constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:lh.RED,this.left=null!=r?r:lh.EMPTY,this.right=null!=i?i:lh.EMPTY,this.size=this.left.size+1+this.right.size}}lh.EMPTY=null,lh.RED=!0,lh.BLACK=!1,lh.EMPTY=new class{get key(){throw aJ()}get value(){throw aJ()}get color(){throw aJ()}get left(){throw aJ()}get right(){throw aJ()}copy(e,t,n,r,i){return this}insert(e,t,n){return new lh(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}constructor(){this.size=0}};class ld{has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lf(this.data.getIterator())}getIteratorFrom(e){return new lf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof ld)||this.size!==e.size)return!1;let t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){let e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new ld(this.comparator);return t.data=e,t}constructor(e){this.comparator=e,this.data=new lu(this.comparator)}}class lf{getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}constructor(e){this.iter=e}}function lp(e){return e.hasNext()?e.getNext():void 0}class lm{static empty(){return new lm([])}unionWith(e){let t=new ld(ou.comparator);for(let e of this.fields)t=t.add(e);for(let n of e)t=t.add(n);return new lm(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return on(this.fields,e.fields,(e,t)=>e.isEqual(t))}constructor(e){this.fields=e,e.sort(ou.comparator)}}class lg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ly{static fromBase64String(e){return new ly(function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new lg("Invalid base64 string: "+e):e}}(e))}static fromUint8Array(e){return new ly(function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}constructor(e){this.binaryString=e}}ly.EMPTY_BYTE_STRING=new ly("");let lv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lx(e){var t,n;if(!e&&aJ(),"string"==typeof e){;let t=0,n=lv.exec(e);if(!n&&aJ(),n[1]){let e=n[1];t=Number(e=(e+"000000000").substr(0,9))}return{seconds:Math.floor(new Date(e).getTime()/1e3),nanos:t}}return{seconds:lb(e.seconds),nanos:lb(e.nanos)}}function lb(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function lw(e){return"string"==typeof e?ly.fromBase64String(e):ly.fromUint8Array(e)}function l_(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function lS(e){let t=e.mapValue.fields.__previous_value__;return l_(t)?lS(t):t}function lI(e){let t=lx(e.mapValue.fields.__local_write_time__.timestampValue);return new oi(t.seconds,t.nanos)}class lE{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class lk{static empty(){return new lk("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof lk&&e.projectId===this.projectId&&e.database===this.database}constructor(e,t){this.projectId=e,this.database=t||"(default)"}}let lT={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},lC={nullValue:"NULL_VALUE"};function lA(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?l_(e)?4:lH(e)?0x1fffffffffffff:lq(e)?10:11:aJ()}function lN(e,t){var n,r,i,s;if(e===t)return!0;let a=lA(e);if(a!==lA(t))return!1;switch(a){case 0:case 0x1fffffffffffff:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return lI(e).isEqual(lI(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let n=lx(e.timestampValue),r=lx(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:;return n=e,r=t,lw(n.bytesValue).isEqual(lw(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:;return i=e,s=t,lb(i.geoPointValue.latitude)===lb(s.geoPointValue.latitude)&&lb(i.geoPointValue.longitude)===lb(s.geoPointValue.longitude);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return lb(e.integerValue)===lb(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){let n=lb(e.doubleValue),r=lb(t.doubleValue);return n===r?oU(n)===oU(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return on(e.arrayValue.values||[],t.arrayValue.values||[],lN);case 10:case 11:return function(e,t){let n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ls(n)!==ls(r))return!1;for(let e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!lN(n[e],r[e])))return!1;return!0}(e,t);default:return aJ()}}function lD(e,t){return void 0!==(e.values||[]).find(e=>lN(e,t))}function lP(e,t){if(e===t)return 0;let n=lA(e),r=lA(t);if(n!==r)return ot(n,r);switch(n){case 0:case 0x1fffffffffffff:return 0;case 1:return ot(e.booleanValue,t.booleanValue);case 2:return function(e,t){let n=lb(e.integerValue||e.doubleValue),r=lb(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return lR(e.timestampValue,t.timestampValue);case 4:return lR(lI(e),lI(t));case 5:return ot(e.stringValue,t.stringValue);case 6:return function(e,t){let n=lw(e),r=lw(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){let n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){let t=ot(n[e],r[e]);if(0!==t)return t}return ot(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){let n=ot(lb(e.latitude),lb(t.latitude));return 0!==n?n:ot(lb(e.longitude),lb(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return lO(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;let a=e.fields||{},o=t.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,u=null===(r=o.value)||void 0===r?void 0:r.arrayValue,c=ot((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==u?void 0:u.values)||void 0===s?void 0:s.length)||0);return 0!==c?c:lO(l,u)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===lT.mapValue&&t===lT.mapValue)return 0;if(e===lT.mapValue)return 1;if(t===lT.mapValue)return -1;let n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let e=0;e<r.length&&e<s.length;++e){let t=ot(r[e],s[e]);if(0!==t)return t;let a=lP(n[r[e]],i[s[e]]);if(0!==a)return a}return ot(r.length,s.length)}(e.mapValue,t.mapValue);default:throw aJ()}}function lR(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ot(e,t);let n=lx(e),r=lx(t),i=ot(n.seconds,r.seconds);return 0!==i?i:ot(n.nanos,r.nanos)}function lO(e,t){let n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){let t=lP(n[e],r[e]);if(t)return t}return ot(n.length,r.length)}function lL(e){return lM(e)}function lM(e){var t,n;return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){let t=lx(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?lw(e.bytesValue).toBase64():"referenceValue"in e?(t=e.referenceValue,oc.fromName(t).toString()):"geoPointValue"in e?(n=e.geoPointValue,`geo(${n.latitude},${n.longitude})`):"arrayValue"in e?function(e){let t="[",n=!0;for(let r of e.values||[])n?n=!1:t+=",",t+=lM(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){let t=Object.keys(e.fields||{}).sort(),n="{",r=!0;for(let i of t)r?r=!1:n+=",",n+=`${i}:${lM(e.fields[i])}`;return n+"}"}(e.mapValue):aJ()}function lF(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function lV(e){return!!e&&"integerValue"in e}function lU(e){return!!e&&"arrayValue"in e}function lB(e){return!!e&&"nullValue"in e}function lj(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function lz(e){return!!e&&"mapValue"in e}function lq(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function l$(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){let t={mapValue:{fields:{}}};return la(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=l$(n)),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=l$(e.arrayValue.values[n]);return t}return Object.assign({},e)}function lH(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}let lK={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function lG(e,t){let n=lP(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function lW(e,t){let n=lP(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class lQ{static empty(){return new lQ({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(!lz(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=l$(t)}setAll(e){let t=ou.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=l$(e):r.push(i.lastSegment())});let i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){let t=this.field(e.popLast());lz(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return lN(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];lz(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){for(let r of(la(t,(t,n)=>e[t]=n),n))delete e[r]}clone(){return new lQ(l$(this.value))}constructor(e){this.value=e}}class lJ{static newInvalidDocument(e){return new lJ(e,0,os.min(),os.min(),os.min(),lQ.empty(),0)}static newFoundDocument(e,t,n,r){return new lJ(e,1,t,os.min(),n,r,0)}static newNoDocument(e,t){return new lJ(e,2,t,os.min(),os.min(),lQ.empty(),0)}static newUnknownDocument(e,t){return new lJ(e,3,t,os.min(),os.min(),lQ.empty(),2)}convertToFoundDocument(e,t){return this.createTime.isEqual(os.min())&&(2===this.documentType||0===this.documentType)&&(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lQ.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lQ.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=os.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof lJ&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new lJ(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}}class lY{constructor(e,t){this.position=e,this.inclusive=t}}function lX(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){let s=t[i],a=e.position[i];if(r=s.field.isKeyField()?oc.comparator(oc.fromName(a.referenceValue),n.key):lP(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function lZ(e,t){if(null===e)return null===t;if(null===t||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!lN(e.position[n],t.position[n]))return!1;return!0}class l0{constructor(e,t="asc"){this.field=e,this.dir=t}}class l1{}class l2 extends l1{static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new l9(e,t,n):"array-contains"===t?new ur(e,n):"in"===t?new ui(e,n):"not-in"===t?new us(e,n):"array-contains-any"===t?new ua(e,n):new l2(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new ue(e,n):new ut(e,n)}matches(e){let t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(lP(t,this.value)):null!==t&&lA(this.value)===lA(t)&&this.matchesComparison(lP(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return aJ()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}}class l4 extends l1{static create(e,t){return new l4(e,t)}matches(e){return l6(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}}function l6(e){return"and"===e.op}function l8(e){return"or"===e.op}function l3(e){return l5(e)&&l6(e)}function l5(e){for(let t of e.filters)if(t instanceof l4)return!1;return!0}function l7(e,t){let n=e.filters.concat(t);return l4.create(n,e.op)}class l9 extends l2{matches(e){let t=oc.comparator(e.key,this.key);return this.matchesComparison(t)}constructor(e,t,n){super(e,t,n),this.key=oc.fromName(n.referenceValue)}}class ue extends l2{matches(e){return this.keys.some(t=>t.isEqual(e.key))}constructor(e,t){super(e,"in",t),this.keys=un("in",t)}}class ut extends l2{matches(e){return!this.keys.some(t=>t.isEqual(e.key))}constructor(e,t){super(e,"not-in",t),this.keys=un("not-in",t)}}function un(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>oc.fromName(e.referenceValue))}class ur extends l2{matches(e){let t=e.data.field(this.field);return lU(t)&&lD(t.arrayValue,this.value)}constructor(e,t){super(e,"array-contains",t)}}class ui extends l2{matches(e){let t=e.data.field(this.field);return null!==t&&lD(this.value.arrayValue,t)}constructor(e,t){super(e,"in",t)}}class us extends l2{matches(e){if(lD(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return null!==t&&!lD(this.value.arrayValue,t)}constructor(e,t){super(e,"not-in",t)}}class ua extends l2{matches(e){let t=e.data.field(this.field);return!(!lU(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>lD(this.value.arrayValue,e))}constructor(e,t){super(e,"array-contains-any",t)}}class uo{constructor(e,t=null,n=[],r=[],i=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ue=null}}function ul(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new uo(e,t,n,r,i,s,a)}function uu(e){var t;if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(e=>(function e(t){if(t instanceof l2)return t.field.canonicalString()+t.op.toString()+lM(t.value);if(l3(t))return t.filters.map(t=>e(t)).join(",");{let n=t.filters.map(t=>e(t)).join(",");return`${t.op}(${n})`}})(e)).join(","),t+="|ob:",t+=e.orderBy.map(e=>{var t;return(t=e).field.canonicalString()+t.dir}).join(","),oV(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>lM(e)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>lM(e)).join(",")),e.ue=t}return e.ue}function uc(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++){var n,r;if(n=e.orderBy[i],r=t.orderBy[i],!(n.dir===r.dir&&n.field.isEqual(r.field)))return!1}if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!function e(t,n){var r,i,s,a;return t instanceof l2?(r=t,(i=n)instanceof l2&&r.op===i.op&&r.field.isEqual(i.field)&&lN(r.value,i.value)):t instanceof l4?(s=t,(a=n)instanceof l4&&s.op===a.op&&s.filters.length===a.filters.length&&s.filters.reduce((t,n,r)=>t&&e(n,a.filters[r]),!0)):void aJ()}(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!lZ(e.startAt,t.startAt)&&lZ(e.endAt,t.endAt)}function uh(e){return oc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function ud(e,t){return e.filters.filter(e=>e instanceof l2&&e.field.isEqual(t))}function uf(e,t,n){let r=lC,i=!0;for(let n of ud(e,t)){let e=lC,t=!0;switch(n.op){case"<":case"<=":var s;e="nullValue"in(s=n.value)?lC:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?lF(lk.empty(),oc.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?lq(s)?lK:{mapValue:{}}:aJ();break;case"==":case"in":case">=":e=n.value;break;case">":e=n.value,t=!1;break;case"!=":case"not-in":e=lC}0>lG({value:r,inclusive:i},{value:e,inclusive:t})&&(r=e,i=t)}if(null!==n){for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){let e=n.position[s];0>lG({value:r,inclusive:i},{value:e,inclusive:n.inclusive})&&(r=e,i=n.inclusive);break}}return{value:r,inclusive:i}}function up(e,t,n){let r=lT,i=!0;for(let n of ud(e,t)){let e=lT,t=!0;switch(n.op){case">=":case">":var s;e="nullValue"in(s=n.value)?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?lF(lk.empty(),oc.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?lK:"mapValue"in s?lq(s)?{mapValue:{}}:lT:aJ(),t=!1;break;case"==":case"in":case"<=":e=n.value;break;case"<":e=n.value,t=!1;break;case"!=":case"not-in":e=lT}lW({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n){for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){let e=n.position[s];lW({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}}return{value:r,inclusive:i}}class um{constructor(e,t=null,n=[],r=[],i=null,s="F",a=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ug(e,t,n,r,i,s,a,o){return new um(e,t,n,r,i,s,a,o)}function uy(e){return new um(e)}function uv(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ux(e){return null!==e.collectionGroup}function ub(e){var t,n;if(null===e.ce){;let t;e.ce=[];let r=new Set;for(let t of e.explicitOrderBy)e.ce.push(t),r.add(t.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(n=e,t=new ld(ou.comparator),n.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t).forEach(t=>{r.has(t.canonicalString())||t.isKeyField()||e.ce.push(new l0(t,i))}),r.has(ou.keyField().canonicalString())||e.ce.push(new l0(ou.keyField(),i))}return e.ce}function uw(e){var t;return e.le||(e.le=uS(e,ub(e))),e.le}function u_(e){var t;return e.he||(e.he=uS(e,e.explicitOrderBy)),e.he}function uS(e,t){if("F"===e.limitType)return ul(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{let t="desc"===e.dir?"asc":"desc";return new l0(e.field,t)});let n=e.endAt?new lY(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new lY(e.startAt.position,e.startAt.inclusive):null;return ul(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function uI(e,t){let n=e.filters.concat([t]);return new um(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function uE(e,t,n){return new um(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function uk(e,t){return uc(uw(e),uw(t))&&e.limitType===t.limitType}function uT(e){return`${uu(uw(e))}|lt:${e.limitType}`}function uC(e){var t;let n;return`Query(target=${n=(t=uw(e)).path.canonicalString(),null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(e=>(function e(t){var n,r;return t instanceof l2?(n=t,`${n.field.canonicalString()} ${n.op} ${lM(n.value)}`):t instanceof l4?(r=t).op.toString()+" {"+r.getFilters().map(e).join(" ,")+"}":"Filter"})(e)).join(", ")}]`),oV(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(e=>{var t;return t=e,`${t.field.canonicalString()} (${t.dir})`}).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(e=>lM(e)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(e=>lM(e)).join(",")),`Target(${n})`}; limitType=${e.limitType})`}function uA(e,t){var n,r;return t.isFoundDocument()&&function(e,t){let n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):oc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(let n of ub(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(let n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(n=e,r=t,(!n.startAt||!!function(e,t,n){let r=lX(e,t,n);return e.inclusive?r<=0:r<0}(n.startAt,ub(n),r))&&(!n.endAt||!!function(e,t,n){let r=lX(e,t,n);return e.inclusive?r>=0:r>0}(n.endAt,ub(n),r))&&!0)}function uN(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function uD(e){return(t,n)=>{let r=!1;for(let i of ub(e)){let e=function(e,t,n){let r=e.field.isKeyField()?oc.comparator(t.key,n.key):function(e,t,n){let r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?lP(r,i):aJ()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return -1*r;default:return aJ()}}(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}class uP{get(e){let t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){for(let[t,r]of n)if(this.equalsFn(t,e))return r}}has(e){return void 0!==this.get(e)}set(e,t){let n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,(t,n)=>{for(let[t,r]of n)e(t,r)})}isEmpty(){return ll(this.inner)}size(){return this.innerSize}constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}}let uR=new lu(oc.comparator);function uO(){return uR}let uL=new lu(oc.comparator);function uM(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=uL;for(let e of t)r=r.insert(e.key,e);return r}function uF(e){let t=uL;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function uV(){return uB()}function uU(){return uB()}function uB(){return new uP(e=>e.toString(),(e,t)=>e.isEqual(t))}let uj=new lu(oc.comparator),uz=new ld(oc.comparator);function uq(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=uz;for(let e of t)r=r.add(e);return r}let u$=new ld(ot);function uH(){return u$}function uK(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-Infinity)return{doubleValue:"-Infinity"}}return{doubleValue:oU(t)?"-0":t}}function uG(e){return{integerValue:""+e}}function uW(e,t){return oB(t)?uG(t):uK(e,t)}class uQ{constructor(){this._=void 0}}function uJ(e,t){var n,r;return e instanceof u2?lV(n=t)||(r=n)&&"doubleValue"in r?t:{integerValue:0}:null}class uY extends uQ{}class uX extends uQ{constructor(e){super(),this.elements=e}}function uZ(e,t){let n=u6(t);for(let t of e.elements)n.some(e=>lN(e,t))||n.push(t);return{arrayValue:{values:n}}}class u0 extends uQ{constructor(e){super(),this.elements=e}}function u1(e,t){let n=u6(t);for(let t of e.elements)n=n.filter(e=>!lN(e,t));return{arrayValue:{values:n}}}class u2 extends uQ{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function u4(e){return lb(e.integerValue||e.doubleValue)}function u6(e){return lU(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class u8{constructor(e,t){this.field=e,this.transform=t}}class u3{constructor(e,t){this.version=e,this.transformResults=t}}class u5{static none(){return new u5}static exists(e){return new u5(void 0,e)}static updateTime(e){return new u5(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}constructor(e,t){this.updateTime=e,this.exists=t}}function u7(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class u9{}function ce(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new cl(e.key,u5.none()):new cr(e.key,e.data,u5.none());{let n=e.data,r=lQ.empty(),i=new ld(ou.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new ci(e.key,r,new lm(i.toArray()),u5.none())}}function ct(e,t,n,r){var i,s,a;return e instanceof cr?function(e,t,n,r){if(!u7(e.precondition,t))return n;let i=e.value.clone(),s=co(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ci?function(e,t,n,r){if(!u7(e.precondition,t))return n;let i=co(e.fieldTransforms,r,t),s=t.data;return(s.setAll(cs(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n)?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):(i=e,s=t,a=n,u7(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a)}function cn(e,t){var n,r;return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||!(!n||!r)&&on(n,r,(e,t)=>{var n,r,i,s;return n=e,r=t,n.field.isEqual(r.field)&&(i=n.transform,s=r.transform,i instanceof uX&&s instanceof uX||i instanceof u0&&s instanceof u0?on(i.elements,s.elements,lN):i instanceof u2&&s instanceof u2?lN(i.Pe,s.Pe):i instanceof uY&&s instanceof uY)})))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class cr extends u9{getFieldMask(){return null}constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class ci extends u9{getFieldMask(){return this.fieldMask}constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function cs(e){let t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=e.data.field(n);t.set(n,r)}}),t}function ca(e,t,n){var r,i,s,a;let o=new Map;e.length===n.length||aJ();for(let r=0;r<n.length;r++){;let l=e[r],u=l.transform,c=t.data.field(l.field);o.set(l.field,(i=u,s=c,a=n[r],i instanceof uX?uZ(i,s):i instanceof u0?u1(i,s):a))}return o}function co(e,t,n){let r=new Map;for(let o of e){var i,s,a;let e=o.transform,l=n.data.field(o.field);r.set(o.field,(i=e,s=l,a=t,i instanceof uY?function(e,t){let n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&l_(t)&&(t=lS(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(a,s):i instanceof uX?uZ(i,s):i instanceof u0?u1(i,s):function(e,t){let n=uJ(e,t),r=u4(n)+u4(e.Pe);return lV(n)&&lV(e.Pe)?uG(r):uK(e.serializer,r)}(i,s)))}return r}class cl extends u9{getFieldMask(){return null}constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class cu extends u9{getFieldMask(){return null}constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class cc{applyToRemoteDocument(e,t){let n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let a=this.mutations[t];if(a.key.isEqual(e.key)){var r,i,s;r=a,i=e,s=n[t],r instanceof cr?function(e,t,n){let r=e.value.clone(),i=ca(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(r,i,s):r instanceof ci?function(e,t,n){if(!u7(e.precondition,t))return void t.convertToUnknownDocument(n.version);let r=ca(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(cs(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(r,i,s):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,i,s)}}}applyToLocalView(e,t){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(t=ct(n,e,t,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(t=ct(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let n=uB();return this.mutations.forEach(r=>{let i=e.get(r.key),s=i.overlayedDocument,a=this.applyToLocalView(s,i.mutatedFields),o=ce(s,a=t.has(r.key)?null:a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(os.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),uq())}isEqual(e){return this.batchId===e.batchId&&on(this.mutations,e.mutations,(e,t)=>cn(e,t))&&on(this.baseMutations,e.baseMutations,(e,t)=>cn(e,t))}constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}}class ch{static from(e,t,n){var r;e.mutations.length===n.length||aJ();let i=uj,s=e.mutations;for(let e=0;e<s.length;e++)i=i.insert(s[e].key,n[e].version);return new ch(e,t,n,i)}constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}}class cd{getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}constructor(e,t){this.largestBatchId=e,this.mutation=t}}class cf{constructor(e,t,n){this.alias=e,this.aggregateType=t,this.fieldPath=n}}class cp{constructor(e,t){this.count=e,this.unchangedNames=t}}function cm(e){switch(e){default:return aJ();case aZ.CANCELLED:case aZ.UNKNOWN:case aZ.DEADLINE_EXCEEDED:case aZ.RESOURCE_EXHAUSTED:case aZ.INTERNAL:case aZ.UNAVAILABLE:case aZ.UNAUTHENTICATED:return!1;case aZ.INVALID_ARGUMENT:case aZ.NOT_FOUND:case aZ.ALREADY_EXISTS:case aZ.PERMISSION_DENIED:case aZ.FAILED_PRECONDITION:case aZ.ABORTED:case aZ.OUT_OF_RANGE:case aZ.UNIMPLEMENTED:case aZ.DATA_LOSS:return!0}}function cg(e){if(void 0===e)return aG("GRPC error has no .code"),aZ.UNKNOWN;switch(e){case g.OK:return aZ.OK;case g.CANCELLED:return aZ.CANCELLED;case g.UNKNOWN:return aZ.UNKNOWN;case g.DEADLINE_EXCEEDED:return aZ.DEADLINE_EXCEEDED;case g.RESOURCE_EXHAUSTED:return aZ.RESOURCE_EXHAUSTED;case g.INTERNAL:return aZ.INTERNAL;case g.UNAVAILABLE:return aZ.UNAVAILABLE;case g.UNAUTHENTICATED:return aZ.UNAUTHENTICATED;case g.INVALID_ARGUMENT:return aZ.INVALID_ARGUMENT;case g.NOT_FOUND:return aZ.NOT_FOUND;case g.ALREADY_EXISTS:return aZ.ALREADY_EXISTS;case g.PERMISSION_DENIED:return aZ.PERMISSION_DENIED;case g.FAILED_PRECONDITION:return aZ.FAILED_PRECONDITION;case g.ABORTED:return aZ.ABORTED;case g.OUT_OF_RANGE:return aZ.OUT_OF_RANGE;case g.UNIMPLEMENTED:return aZ.UNIMPLEMENTED;case g.DATA_LOSS:return aZ.DATA_LOSS;default:return aJ()}}(y=g||(g={}))[y.OK=0]="OK",y[y.CANCELLED=1]="CANCELLED",y[y.UNKNOWN=2]="UNKNOWN",y[y.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",y[y.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",y[y.NOT_FOUND=5]="NOT_FOUND",y[y.ALREADY_EXISTS=6]="ALREADY_EXISTS",y[y.PERMISSION_DENIED=7]="PERMISSION_DENIED",y[y.UNAUTHENTICATED=16]="UNAUTHENTICATED",y[y.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",y[y.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",y[y.ABORTED=10]="ABORTED",y[y.OUT_OF_RANGE=11]="OUT_OF_RANGE",y[y.UNIMPLEMENTED=12]="UNIMPLEMENTED",y[y.INTERNAL=13]="INTERNAL",y[y.UNAVAILABLE=14]="UNAVAILABLE",y[y.DATA_LOSS=15]="DATA_LOSS";function cy(){return new TextEncoder}let cv=new s([0xffffffff,0xffffffff],0);function cx(e){let t=cy().encode(e),n=new a;return n.update(t),new Uint8Array(n.digest())}function cb(e){let t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new s([n,r],0),new s([i,a],0)]}class cw{Ee(e,t,n){let r=e.add(t.multiply(s.fromNumber(n)));return 1===r.compare(cv)&&(r=new s([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ie).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;let[t,n]=cb(cx(e));for(let e=0;e<this.hashCount;e++){let r=this.Ee(t,n,e);if(!this.de(r))return!1}return!0}static create(e,t,n){let r=new cw(new Uint8Array(Math.ceil(e/8)),e%8==0?0:8-e%8,t);return n.forEach(e=>r.insert(e)),r}insert(e){if(0===this.Te)return;let[t,n]=cb(cx(e));for(let e=0;e<this.hashCount;e++){let r=this.Ee(t,n,e);this.Ae(r)}}Ae(e){let t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new c_(`Invalid padding: ${t}`);if(n<0||e.length>0&&0===this.hashCount)throw new c_(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new c_(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=s.fromNumber(this.Te)}}class c_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class cS{static createSynthesizedRemoteEventForCurrentChange(e,t,n){let r=new Map;return r.set(e,cI.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new cS(os.min(),r,new lu(ot),uR,uq())}constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}}class cI{static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new cI(n,t,uq(),uq(),uq())}constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}}class cE{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class ck{constructor(e,t){this.targetId=e,this.me=t}}class cT{constructor(e,t,n=ly.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class cC{get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=uq(),t=uq(),n=uq();return this.ge.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:aJ()}}),new cI(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=cD()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){var e;this.fe-=1,this.fe>=0||aJ()}Ne(){this.we=!0,this.ye=!0}constructor(){this.fe=0,this.ge=cD(),this.pe=ly.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}}class cA{$e(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{let n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.je(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.De(e.resumeToken));break;default:aJ()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((e,n)=>{this.je(n)&&t(n)})}Je(e){let t=e.targetId,n=e.me.count,r=this.Ye(t);if(r){let s=r.target;if(uh(s)){if(0===n){let e=new oc(s.path);this.We(t,e,lJ.newNoDocument(e,os.min()))}else{var i;1===n||aJ()}}else{let r=this.Ze(t);if(r!==n){let n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);this.Ke=this.Ke.insert(t,2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")}}}}}Xe(e){let t,n;let r=e.me.unchangedNames;if(!r||!r.bits)return null;let{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=r;try{t=lw(i).toUint8Array()}catch(e){if(e instanceof lg)return aW("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{n=new cw(t,s,a)}catch(e){return aW(e instanceof c_?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===n.Te?null:n}et(e,t,n){return t.me.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){let n=this.Le.getRemoteKeysForTarget(t),r=0;return n.forEach(n=>{let i=this.Le.nt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.We(t,n,null),r++)}),r}it(e){let t=new Map;this.Be.forEach((n,r)=>{let i=this.Ye(r);if(i){if(n.current&&uh(i.target)){let t=new oc(i.target.path);this.st(t).has(r)||this.ot(r,t)||this.We(r,t,lJ.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}});let n=uq();this.Qe.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{let t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ke.forEach((t,n)=>n.setReadTime(e));let r=new cS(e,t,this.Ke,this.ke,n);return this.ke=uR,this.qe=cN(),this.Qe=cN(),this.Ke=new lu(ot),r}Ue(e,t){if(!this.je(e))return;let n=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,n){if(!this.je(e))return;let r=this.ze(e);this.ot(e,t)?r.Fe(t,1):r.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ze(e){let t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new cC,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new ld(ot),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ld(ot),this.qe=this.qe.insert(e,t)),t}je(e){let t=null!==this.Ye(e);return t||aK("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new cC),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}constructor(e){this.Le=e,this.Be=new Map,this.ke=uR,this.qe=cN(),this.Qe=cN(),this.Ke=new lu(ot)}}function cN(){return new lu(oc.comparator)}function cD(){return new lu(oc.comparator)}let cP={asc:"ASCENDING",desc:"DESCENDING"},cR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cO={and:"AND",or:"OR"};class cL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function cM(e,t){return e.useProto3Json||oV(t)?t:{value:t}}function cF(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function cV(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function cU(e){var t;return!e&&aJ(),os.fromTimestamp(function(e){let t=lx(e);return new oi(t.seconds,t.nanos)}(e))}function cB(e,t){return cj(e,t).canonicalString()}function cj(e,t){var n;let r=new oo(["projects",(n=e).projectId,"databases",n.database]).child("documents");return void 0===t?r:r.child(t)}function cz(e){var t;let n=oo.fromString(e);return c8(n)||aJ(),n}function cq(e,t){return cB(e.databaseId,t.path)}function c$(e,t){let n=cz(t);if(n.get(1)!==e.databaseId.projectId)throw new a0(aZ.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new a0(aZ.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new oc(cW(n))}function cH(e,t){return cB(e.databaseId,t)}function cK(e){let t=cz(e);return 4===t.length?oo.emptyPath():cW(t)}function cG(e){return new oo(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function cW(e){var t;return e.length>4&&"documents"===e.get(4)||aJ(),e.popFirst(5)}function cQ(e,t,n){return{name:cq(e,t),fields:n.value.mapValue.fields}}function cJ(e,t,n){let r=c$(e,t.name),i=cU(t.updateTime),s=t.createTime?cU(t.createTime):os.min(),a=new lQ({mapValue:{fields:t.fields}}),o=lJ.newFoundDocument(r,i,s,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function cY(e,t){var n,r;let i;if(t instanceof cr)i={update:cQ(e,t.key,t.value)};else if(t instanceof cl)i={delete:cq(e,t.key)};else if(t instanceof ci)i={update:cQ(e,t.key,t.data),updateMask:function(e){let t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}(t.fieldMask)};else{if(!(t instanceof cu))return aJ();i={verify:cq(e,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(e=>(function(e,t){let n=t.transform;if(n instanceof uY)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof uX)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof u0)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof u2)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw aJ()})(0,e))),t.precondition.isNone||(i.currentDocument=(n=e,void 0!==(r=t.precondition).updateTime?{updateTime:cF(n,r.updateTime.toTimestamp())}:void 0!==r.exists?{exists:r.exists}:aJ())),i}function cX(e,t){var n;let r=t.currentDocument?void 0!==(n=t.currentDocument).updateTime?u5.updateTime(cU(n.updateTime)):void 0!==n.exists?u5.exists(n.exists):u5.none():u5.none(),i=t.updateTransforms?t.updateTransforms.map(t=>(function(e,t){let n=null;if("setToServerValue"in t){var r;"REQUEST_TIME"===t.setToServerValue||aJ(),n=new uY}else"appendMissingElements"in t?n=new uX(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new u0(t.removeAllFromArray.values||[]):"increment"in t?n=new u2(e,t.increment):aJ();return new u8(ou.fromServerFormat(t.fieldPath),n)})(e,t)):[];if(t.update){t.update.name;let n=c$(e,t.update.name),s=new lQ({mapValue:{fields:t.update.fields}});if(t.updateMask)return new ci(n,s,new lm((t.updateMask.fieldPaths||[]).map(e=>ou.fromServerFormat(e))),r,i);return new cr(n,s,r,i)}return t.delete?new cl(c$(e,t.delete),r):t.verify?new cu(c$(e,t.verify),r):aJ()}function cZ(e,t){return{documents:[cH(e,t.path)]}}function c0(e,t){var n,r;let i;let s={structuredQuery:{}},a=t.path;null!==t.collectionGroup?(i=a,s.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=a.popLast(),s.structuredQuery.from=[{collectionId:a.lastSegment()}]),s.parent=cH(e,i);let o=function(e){if(0!==e.length)return function e(t){return t instanceof l2?function(e){if("=="===e.op){if(lj(e.value))return{unaryFilter:{field:c4(e.field),op:"IS_NAN"}};if(lB(e.value))return{unaryFilter:{field:c4(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(lj(e.value))return{unaryFilter:{field:c4(e.field),op:"IS_NOT_NAN"}};if(lB(e.value))return{unaryFilter:{field:c4(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:c4(e.field),op:cR[e.op],value:e.value}}}(t):t instanceof l4?function(t){let n=t.getFilters().map(t=>e(t));if(1===n.length)return n[0];return{compositeFilter:{op:cO[t.op],filters:n}}}(t):aJ()}(l4.create(e,"and"))}(t.filters);o&&(s.structuredQuery.where=o);let l=function(e){if(0!==e.length)return e.map(e=>{var t;return{field:c4((t=e).field),direction:function(e){return cP[e]}(t.dir)}})}(t.orderBy);l&&(s.structuredQuery.orderBy=l);let u=cM(e,t.limit);return null!==u&&(s.structuredQuery.limit=u),t.startAt&&(s.structuredQuery.startAt={before:(n=t.startAt).inclusive,values:n.position}),t.endAt&&(s.structuredQuery.endAt={before:!(r=t.endAt).inclusive,values:r.position}),{ct:s,parent:i}}function c1(e,t,n,r){let{ct:i,parent:s}=c0(e,t),a={},o=[],l=0;return n.forEach(e=>{let t=r?e.alias:"aggregate_"+l++;a[t]=e.alias,"count"===e.aggregateType?o.push({alias:t,count:{}}):"avg"===e.aggregateType?o.push({alias:t,avg:{field:c4(e.fieldPath)}}):"sum"===e.aggregateType&&o.push({alias:t,sum:{field:c4(e.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:i.structuredQuery},parent:i.parent},lt:a,parent:s}}function c2(e){var t,n,r;let i,s=cK(e.parent),a=e.structuredQuery,o=a.from?a.from.length:0,l=null;if(o>0){;1===o||aJ();let e=a.from[0];e.allDescendants?l=e.collectionId:s=s.child(e.collectionId)}let u=[];a.where&&(u=function(e){let t=function e(t){var n,r;return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":let t=c6(e.unaryFilter.field);return l2.create(t,"==",{doubleValue:NaN});case"IS_NULL":let n=c6(e.unaryFilter.field);return l2.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let r=c6(e.unaryFilter.field);return l2.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let i=c6(e.unaryFilter.field);return l2.create(i,"!=",{nullValue:"NULL_VALUE"});default:return aJ()}}(t):void 0!==t.fieldFilter?(n=t,l2.create(c6(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return aJ()}}(n.fieldFilter.op),n.fieldFilter.value)):void 0!==t.compositeFilter?(r=t,l4.create(r.compositeFilter.filters.map(t=>e(t)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return aJ()}}(r.compositeFilter.op))):aJ()}(e);return t instanceof l4&&l3(t)?t.getFilters():[t]}(a.where));let c=[];a.orderBy&&(c=a.orderBy.map(e=>{var t;return new l0(c6((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}));let h=null;a.limit&&(h=oV(i="object"==typeof(n=a.limit)?n.value:n)?null:i);let d=null;a.startAt&&(d=function(e){let t=!!e.before;return new lY(e.values||[],t)}(a.startAt));let f=null;return a.endAt&&(f=function(e){let t=!e.before;return new lY(e.values||[],t)}(a.endAt)),r="F",new um(s,l,c,u,h,"F",d,f)}function c4(e){return{fieldPath:e.canonicalString()}}function c6(e){return ou.fromServerFormat(e.fieldPath)}function c8(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class c3{withSequenceNumber(e){return new c3(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new c3(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new c3(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new c3(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}constructor(e,t,n,r,i=os.min(),s=os.min(),a=ly.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}}class c5{constructor(e){this.ht=e}}function c7(e,t){let n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:c9(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument()){var i,s;r.document=(i=e.ht,{name:cq(i,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:cF(i,s.version.toTimestamp()),createTime:cF(i,s.createTime.toTimestamp())})}else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:he(t.version)};else{if(!t.isUnknownDocument())return aJ();r.unknownDocument={path:n.path.toArray(),version:he(t.version)}}return r}function c9(e){let t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function he(e){let t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ht(e){let t=new oi(e.seconds,e.nanoseconds);return os.fromTimestamp(t)}function hn(e,t){let n=(t.baseMutations||[]).map(t=>cX(e.ht,t));for(let e=0;e<t.mutations.length-1;++e){let n=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){let r=t.mutations[e+1];n.updateTransforms=r.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}let r=t.mutations.map(t=>cX(e.ht,t)),i=oi.fromMillis(t.localWriteTimeMs);return new cc(t.batchId,i,n,r)}function hr(e){var t,n;let r=ht(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?ht(e.lastLimboFreeSnapshotVersion):os.min();return new c3(void 0!==e.query.documents?(1===(t=e.query).documents.length||aJ(),uw(uy(cK(t.documents[0])))):uw(c2(e.query)),e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,ly.fromBase64String(e.resumeToken))}function hi(e,t){let n;let r=he(t.snapshotVersion),i=he(t.lastLimboFreeSnapshotVersion);n=uh(t.target)?cZ(e.ht,t.target):c0(e.ht,t.target).ct;let s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:uu(t.target),readTime:r,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function hs(e){let t=c2({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?uE(t,t.limit,"L"):t}function ha(e,t){return new cd(t.largestBatchId,cX(e.ht,t.overlayMutation))}function ho(e,t){let n=t.path.lastSegment();return[e,oj(t.path.popLast()),n]}function hl(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:he(r.readTime),documentKey:oj(r.documentKey.path),largestBatchId:r.largestBatchId}}class hu{getBundleMetadata(e,t){return hc(e).get(t).next(e=>{if(e){var t;return{id:(t=e).bundleId,createTime:ht(t.createTime),version:t.version}}})}saveBundleMetadata(e,t){var n;return hc(e).put({bundleId:(n=t).id,createTime:he(cU(n.createTime)),version:n.version})}getNamedQuery(e,t){return hh(e).get(t).next(e=>{if(e){var t;return{name:(t=e).name,query:hs(t.bundledQuery),readTime:ht(t.readTime)}}})}saveNamedQuery(e,t){var n;return hh(e).put({name:(n=t).name,readTime:he(cU(n.readTime)),bundledQuery:n.bundledQuery})}}function hc(e){return li(e,"bundles")}function hh(e){return li(e,"namedQueries")}class hd{static Pt(e,t){return new hd(e,t.uid||"")}getOverlay(e,t){return hf(e).get(ho(this.userId,t)).next(e=>e?ha(this.serializer,e):null)}getOverlays(e,t){let n=uB();return oI.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){let r=[];return n.forEach((n,i)=>{let s=new cd(t,i);r.push(this.Tt(e,s))}),oI.waitFor(r)}removeOverlaysForBatchId(e,t,n){let r=new Set;t.forEach(e=>r.add(oj(e.getCollectionPath())));let i=[];return r.forEach(t=>{let r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(hf(e).j("collectionPathOverlayIndex",r))}),oI.waitFor(i)}getOverlaysForCollection(e,t,n){let r=uB(),i=oj(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return hf(e).U("collectionPathOverlayIndex",s).next(e=>{for(let t of e){let e=ha(this.serializer,t);r.set(e.getKey(),e)}return r})}getOverlaysForCollectionGroup(e,t,n,r){let i;let s=uB(),a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return hf(e).J({index:"collectionGroupOverlayIndex",range:a},(e,t,n)=>{let a=ha(this.serializer,t);s.size()<r||a.largestBatchId===i?(s.set(a.getKey(),a),i=a.largestBatchId):n.done()}).next(()=>s)}Tt(e,t){return hf(e).put(function(e,t,n){let[r,i,s]=ho(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:cY(e.ht,n.mutation)}}(this.serializer,this.userId,t))}constructor(e,t){this.serializer=e,this.userId=t}}function hf(e){return li(e,"documentOverlays")}class hp{It(e){return li(e,"globals")}getSessionToken(e){return this.It(e).get("sessionToken").next(e=>{let t=null==e?void 0:e.value;return t?ly.fromUint8Array(t):ly.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.It(e).put({name:"sessionToken",value:t.toUint8Array()})}}class hm{Et(e,t){this.dt(e,t),t.At()}dt(e,t){if("nullValue"in e)this.Rt(t,5);else if("booleanValue"in e)this.Rt(t,10),t.Vt(e.booleanValue?1:0);else if("integerValue"in e)this.Rt(t,15),t.Vt(lb(e.integerValue));else if("doubleValue"in e){let n=lb(e.doubleValue);isNaN(n)?this.Rt(t,13):(this.Rt(t,15),oU(n)?t.Vt(0):t.Vt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Rt(t,20),"string"==typeof n&&(n=lx(n)),t.ft(`${n.seconds||""}`),t.Vt(n.nanos||0)}else if("stringValue"in e)this.gt(e.stringValue,t),this.yt(t);else if("bytesValue"in e)this.Rt(t,30),t.wt(lw(e.bytesValue)),this.yt(t);else if("referenceValue"in e)this.St(e.referenceValue,t);else if("geoPointValue"in e){let n=e.geoPointValue;this.Rt(t,45),t.Vt(n.latitude||0),t.Vt(n.longitude||0)}else"mapValue"in e?lH(e)?this.Rt(t,Number.MAX_SAFE_INTEGER):lq(e)?this.bt(e.mapValue,t):(this.Dt(e.mapValue,t),this.yt(t)):"arrayValue"in e?(this.vt(e.arrayValue,t),this.yt(t)):aJ()}gt(e,t){this.Rt(t,25),this.Ct(e,t)}Ct(e,t){t.ft(e)}Dt(e,t){let n=e.fields||{};for(let e of(this.Rt(t,55),Object.keys(n)))this.gt(e,t),this.dt(n[e],t)}bt(e,t){var n,r;let i=e.fields||{};this.Rt(t,53);let s="value",a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Rt(t,15),t.Vt(lb(a)),this.gt(s,t),this.dt(i[s],t)}vt(e,t){let n=e.values||[];for(let e of(this.Rt(t,50),n))this.dt(e,t)}St(e,t){this.Rt(t,37),oc.fromName(e).path.forEach(e=>{this.Rt(t,60),this.Ct(e,t)})}Rt(e,t){e.Vt(t)}yt(e){e.Vt(2)}constructor(){}}hm.Ft=new hm;function hg(e){return Math.ceil((64-function(e){let t=0;for(let n=0;n<8;++n){let r=function(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}(255&e[n]);if(t+=r,8!==r)break}return t}(e))/8)}class hy{Mt(e){let t=e[Symbol.iterator](),n=t.next();for(;!n.done;)this.xt(n.value),n=t.next();this.Ot()}Nt(e){let t=e[Symbol.iterator](),n=t.next();for(;!n.done;)this.Lt(n.value),n=t.next();this.Bt()}kt(e){for(let t of e){let e=t.charCodeAt(0);if(e<128)this.xt(e);else if(e<2048)this.xt(960|e>>>6),this.xt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.xt(480|e>>>12),this.xt(128|63&e>>>6),this.xt(128|63&e);else{let e=t.codePointAt(0);this.xt(240|e>>>18),this.xt(128|63&e>>>12),this.xt(128|63&e>>>6),this.xt(128|63&e)}}this.Ot()}qt(e){for(let t of e){let e=t.charCodeAt(0);if(e<128)this.Lt(e);else if(e<2048)this.Lt(960|e>>>6),this.Lt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Lt(480|e>>>12),this.Lt(128|63&e>>>6),this.Lt(128|63&e);else{let e=t.codePointAt(0);this.Lt(240|e>>>18),this.Lt(128|63&e>>>12),this.Lt(128|63&e>>>6),this.Lt(128|63&e)}}this.Bt()}Qt(e){let t=this.Kt(e),n=hg(t);this.$t(1+n),this.buffer[this.position++]=255&n;for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=255&t[e]}Ut(e){let t=this.Kt(e),n=hg(t);this.$t(1+n),this.buffer[this.position++]=~(255&n);for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=~(255&t[e])}Wt(){this.Gt(255),this.Gt(255)}zt(){this.jt(255),this.jt(255)}reset(){this.position=0}seed(e){this.$t(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ht(){return this.buffer.slice(0,this.position)}Kt(e){let t=function(e){let t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let e=1;e<t.length;++e)t[e]^=n?255:0;return t}xt(e){let t=255&e;0===t?(this.Gt(0),this.Gt(255)):255===t?(this.Gt(255),this.Gt(0)):this.Gt(t)}Lt(e){let t=255&e;0===t?(this.jt(0),this.jt(255)):255===t?(this.jt(255),this.jt(0)):this.jt(e)}Ot(){this.Gt(0),this.Gt(1)}Bt(){this.jt(0),this.jt(1)}Gt(e){this.$t(1),this.buffer[this.position++]=e}jt(e){this.$t(1),this.buffer[this.position++]=~e}$t(e){let t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);let r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}constructor(){this.buffer=new Uint8Array(1024),this.position=0}}class hv{wt(e){this.Jt.Mt(e)}ft(e){this.Jt.kt(e)}Vt(e){this.Jt.Qt(e)}At(){this.Jt.Wt()}constructor(e){this.Jt=e}}class hx{wt(e){this.Jt.Nt(e)}ft(e){this.Jt.qt(e)}Vt(e){this.Jt.Ut(e)}At(){this.Jt.zt()}constructor(e){this.Jt=e}}class hb{seed(e){this.Jt.seed(e)}Xt(e){return 0===e?this.Yt:this.Zt}Ht(){return this.Jt.Ht()}reset(){this.Jt.reset()}constructor(){this.Jt=new hy,this.Yt=new hv(this.Jt),this.Zt=new hx(this.Jt)}}class hw{en(){let e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new hw(this.indexId,this.documentKey,this.arrayValue,n)}constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}}function h_(e,t){let n=e.indexId-t.indexId;return 0!==n?n:0!==(n=hS(e.arrayValue,t.arrayValue))?n:0!==(n=hS(e.directionalValue,t.directionalValue))?n:oc.comparator(e.documentKey,t.documentKey)}function hS(e,t){for(let n=0;n<e.length&&n<t.length;++n){let r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class hI{get sn(){return this.tn.size>1}on(e){var t;if(e.collectionGroup===this.collectionId||aJ(),this.sn)return!1;let n=od(e);if(void 0!==n&&!this._n(n))return!1;let r=of(e),i=new Set,s=0,a=0;for(;s<r.length&&this._n(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.tn.size>0){let e=this.tn.getIterator().getNext();if(!i.has(e.field.canonicalString())){let t=r[s];if(!this.an(e,t)||!this.un(this.nn[a++],t))return!1}++s}for(;s<r.length;++s){let e=r[s];if(a>=this.nn.length||!this.un(this.nn[a++],e))return!1}return!0}cn(){if(this.sn)return null;let e=new ld(ou.comparator),t=[];for(let n of this.rn)if(!n.field.isKeyField()){if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new om(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new om(n.field,0))}}for(let n of this.nn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new om(n.field,"asc"===n.dir?0:1)));return new oh(oh.UNKNOWN_ID,this.collectionId,t,og.empty())}_n(e){for(let t of this.rn)if(this.an(t,e))return!0;return!1}an(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;let n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}un(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}constructor(e){for(let t of(this.tn=new ld((e,t)=>ou.comparator(e.field,t.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.nn=e.orderBy,this.rn=[],e.filters))t.isInequality()?this.tn=this.tn.add(t):this.rn.push(t)}}function hE(e){return e instanceof l2}function hk(e){return e instanceof l4&&l3(e)}function hT(e){return hE(e)||hk(e)||function(e){if(e instanceof l4&&l8(e)){for(let t of e.getFilters())if(!hE(t)&&!hk(t))return!1;return!0}return!1}(e)}function hC(e,t){var n,r,i,s;return e instanceof l2||e instanceof l4||aJ(),t instanceof l2||t instanceof l4||aJ(),hN(e instanceof l2?t instanceof l2?(i=e,s=t,l4.create([i,s],"and")):hA(e,t):t instanceof l2?hA(t,e):function(e,t){var n;if(e.filters.length>0&&t.filters.length>0||aJ(),l6(e)&&l6(t))return l7(e,t.getFilters());let r=l8(e)?e:t,i=l8(e)?t:e,s=r.filters.map(e=>hC(e,i));return l4.create(s,"or")}(e,t))}function hA(e,t){if(l6(t))return l7(t,e.getFilters());{let n=t.filters.map(t=>hC(e,t));return l4.create(n,"or")}}function hN(e){var t;if(e instanceof l2||e instanceof l4||aJ(),e instanceof l2)return e;let n=e.getFilters();if(1===n.length)return hN(n[0]);if(l5(e))return e;let r=n.map(e=>hN(e)),i=[];return r.forEach(t=>{t instanceof l2?i.push(t):t instanceof l4&&(t.op===e.op?i.push(...t.filters):i.push(t))}),1===i.length?i[0]:l4.create(i,e.op)}class hD{addToCollectionParentIndex(e,t){return this.ln.add(t),oI.resolve()}getCollectionParents(e,t){return oI.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return oI.resolve()}deleteFieldIndex(e,t){return oI.resolve()}deleteAllFieldIndexes(e){return oI.resolve()}createTargetIndexes(e,t){return oI.resolve()}getDocumentsMatchingTarget(e,t){return oI.resolve(null)}getIndexType(e,t){return oI.resolve(0)}getFieldIndexes(e,t){return oI.resolve([])}getNextCollectionGroupToUpdate(e){return oI.resolve(null)}getMinOffset(e,t){return oI.resolve(ox.min())}getMinOffsetFromCollectionGroup(e,t){return oI.resolve(ox.min())}updateCollectionGroup(e,t,n){return oI.resolve()}updateIndexEntries(e,t){return oI.resolve()}constructor(){this.ln=new hP}}class hP{add(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ld(oo.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ld(oo.comparator)).toArray()}constructor(){this.index={}}}let hR=new Uint8Array(0);class hO{addToCollectionParentIndex(e,t){if(!this.hn.has(t)){let n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.hn.add(t)});let i={collectionId:n,parent:oj(r)};return hL(e).put(i)}return oI.resolve()}getCollectionParents(e,t){let n=[],r=IDBKeyRange.bound([t,""],[t+"\0",""],!1,!0);return hL(e).U(r).next(e=>{for(let r of e){if(r.collectionId!==t)break;n.push(oq(r.parent))}return n})}addFieldIndex(e,t){var n;let r=hF(e),i={indexId:(n=t).indexId,collectionGroup:n.collectionGroup,fields:n.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])};delete i.indexId;let s=r.add(i);if(t.indexState){let n=hV(e);return s.next(e=>{n.put(hl(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){let n=hF(e),r=hV(e),i=hM(e);return n.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let t=hF(e),n=hM(e),r=hV(e);return t.j().next(()=>n.j()).next(()=>r.j())}createTargetIndexes(e,t){return oI.forEach(this.Tn(t),t=>this.getIndexType(e,t).next(n=>{if(0===n||1===n){let n=new hI(t).cn();if(null!=n)return this.addFieldIndex(e,n)}}))}getDocumentsMatchingTarget(e,t){let n=hM(e),r=!0,i=new Map;return oI.forEach(this.Tn(t),t=>this.In(e,t).next(e=>{r&&(r=!!e),i.set(t,e)})).next(()=>{if(r){let e=uq(),r=[];return oI.forEach(i,(i,s)=>{var a;aK("IndexedDbIndexManager",`Using index ${(a=i,`id=${a.indexId}|cg=${a.collectionGroup}|f=${a.fields.map(e=>`${e.fieldPath}:${e.kind}`).join(",")}`)} to execute ${uu(t)}`);let o=function(e,t){let n=od(t);if(void 0===n)return null;for(let t of ud(e,n.fieldPath))switch(t.op){case"array-contains-any":return t.value.arrayValue.values||[];case"array-contains":return[t.value]}return null}(s,i),l=function(e,t){let n=new Map;for(let r of of(t))for(let t of ud(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),u=function(e,t){let n=[],r=!0;for(let i of of(t)){let t=0===i.kind?uf(e,i.fieldPath,e.startAt):up(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new lY(n,r)}(s,i),c=function(e,t){let n=[],r=!0;for(let i of of(t)){let t=0===i.kind?up(e,i.fieldPath,e.endAt):uf(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new lY(n,r)}(s,i),h=this.En(i,s,u),d=this.En(i,s,c),f=this.dn(i,s,l),p=this.An(i.indexId,o,h,u.inclusive,d,c.inclusive,f);return oI.forEach(p,i=>n.G(i,t.limit).next(t=>{t.forEach(t=>{let n=oc.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))})}))}).next(()=>r)}return oI.resolve(null)})}Tn(e){let t=this.Pn.get(e);return t?t:(t=0===e.filters.length?[e]:(function(e){var t;if(0===e.getFilters().length)return[];let n=function e(t){var n,r,i,s;if(t instanceof l2||t instanceof l4||aJ(),t instanceof l2)return t;if(1===t.filters.length)return e(t.filters[0]);let a=t.filters.map(t=>e(t)),o=l4.create(a,t.op);return hT(o=hN(o))?o:(o instanceof l4||aJ(),l6(o)||aJ(),o.filters.length>1||aJ(),o.filters.reduce((e,t)=>hC(e,t)))}(function e(t){var n,r,i;if(t instanceof l2||t instanceof l4||aJ(),t instanceof l2){if(t instanceof ui){let e=(null===(r=null===(n=t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>l2.create(t.field,"==",e)))||[];return l4.create(e,"or")}return t}let s=t.filters.map(t=>e(t));return l4.create(s,t.op)}(e));return hT(n)||aJ(),hE(n)||hk(n)?[n]:n.getFilters()})(l4.create(e.filters,"and")).map(t=>ul(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)),this.Pn.set(e,t),t)}An(e,t,n,r,i,s,a){let o=(null!=t?t.length:1)*Math.max(n.length,i.length),l=o/(null!=t?t.length:1),u=[];for(let c=0;c<o;++c){let o=t?this.Rn(t[c/l]):hR,h=this.Vn(e,o,n[c%l],r),d=this.mn(e,o,i[c%l],s),f=a.map(t=>this.Vn(e,o,t,!0));u.push(...this.createRange(h,d,f))}return u}Vn(e,t,n,r){let i=new hw(e,oc.empty(),t,n);return r?i:i.en()}mn(e,t,n,r){let i=new hw(e,oc.empty(),t,n);return r?i.en():i}In(e,t){let n=new hI(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(e=>{let t=null;for(let r of e)n.on(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t})}getIndexType(e,t){let n=2,r=this.Tn(t);return oI.forEach(r,t=>this.In(e,t).next(e=>{e?0!==n&&e.fields.length<function(e){let t=new ld(ou.comparator),n=!1;for(let r of e.filters)for(let e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(let n of e.orderBy)n.field.isKeyField()||(t=t.add(n.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})).next(()=>null!==t.limit&&r.length>1&&2===n?1:n)}fn(e,t){let n=new hb;for(let r of of(e)){let e=t.data.field(r.fieldPath);if(null==e)return null;let i=n.Xt(r.kind);hm.Ft.Et(e,i)}return n.Ht()}Rn(e){let t=new hb;return hm.Ft.Et(e,t.Xt(0)),t.Ht()}gn(e,t){let n=new hb;return hm.Ft.Et(lF(this.databaseId,t),n.Xt(function(e){let t=of(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ht()}dn(e,t,n){if(null===n)return[];let r=[];r.push(new hb);let i=0;for(let s of of(e)){let e=n[i++];for(let n of r)if(this.pn(t,s.fieldPath)&&lU(e))r=this.yn(r,s,e);else{let t=n.Xt(s.kind);hm.Ft.Et(e,t)}}return this.wn(r)}En(e,t,n){return this.dn(e,t,n.position)}wn(e){let t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Ht();return t}yn(e,t,n){let r=[...e],i=[];for(let e of n.arrayValue.values||[])for(let n of r){let r=new hb;r.seed(n.Ht()),hm.Ft.Et(e,r.Xt(t.kind)),i.push(r)}return i}pn(e,t){return!!e.filters.find(e=>e instanceof l2&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op))}getFieldIndexes(e,t){let n=hF(e),r=hV(e);return(t?n.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.U()).next(e=>{let t=[];return oI.forEach(e,e=>r.get([e.indexId,this.uid]).next(n=>{t.push(function(e,t){let n=t?new og(t.sequenceNumber,new ox(ht(t.readTime),new oc(oq(t.documentKey)),t.largestBatchId)):og.empty(),r=e.fields.map(e=>{let[t,n]=e;return new om(ou.fromServerFormat(t),n)});return new oh(e.indexId,e.collectionGroup,r,n)}(e,n))})).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>{let n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:ot(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(e,t,n){let r=hF(e),i=hV(e);return this.Sn(e).next(e=>r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(t=>oI.forEach(t,t=>i.put(hl(t.indexId,this.uid,e,n)))))}updateIndexEntries(e,t){let n=new Map;return oI.forEach(t,(t,r)=>{let i=n.get(t.collectionGroup);return(i?oI.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next(i=>(n.set(t.collectionGroup,i),oI.forEach(i,n=>this.bn(e,t,n).next(t=>{let i=this.Dn(r,n);return t.isEqual(i)?oI.resolve():this.vn(e,r,n,t,i)}))))})}Cn(e,t,n,r){return hM(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}Fn(e,t,n,r){return hM(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}bn(e,t,n){let r=hM(e),i=new ld(h_);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},(e,r)=>{i=i.add(new hw(n.indexId,t,r.arrayValue,r.directionalValue))}).next(()=>i)}Dn(e,t){let n=new ld(h_),r=this.fn(t,e);if(null==r)return n;let i=od(t);if(null!=i){let s=e.data.field(i.fieldPath);if(lU(s))for(let i of s.arrayValue.values||[])n=n.add(new hw(t.indexId,e.key,this.Rn(i),r))}else n=n.add(new hw(t.indexId,e.key,hR,r));return n}vn(e,t,n,r,i){aK("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);let s=[];return function(e,t,n,r,i){let s=e.getIterator(),a=t.getIterator(),o=lp(s),l=lp(a);for(;o||l;){let e=!1,t=!1;if(o&&l){let r=n(o,l);r<0?t=!0:r>0&&(e=!0)}else null!=o?t=!0:e=!0;e?(r(l),l=lp(a)):t?(i(o),o=lp(s)):(o=lp(s),l=lp(a))}}(r,i,h_,r=>{s.push(this.Cn(e,t,n,r))},r=>{s.push(this.Fn(e,t,n,r))}),oI.waitFor(s)}Sn(e){let t=1;return hV(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,n,r)=>{r.done(),t=n.sequenceNumber+1}).next(()=>t)}createRange(e,t,n){n=n.sort((e,t)=>h_(e,t)).filter((e,t,n)=>!t||0!==h_(e,n[t-1]));let r=[];for(let i of(r.push(e),n)){let n=h_(i,e),s=h_(i,t);if(0===n)r[0]=e.en();else if(n>0&&s<0)r.push(i),r.push(i.en());else if(s>0)break}r.push(t);let i=[];for(let e=0;e<r.length;e+=2){if(this.Mn(r[e],r[e+1]))return[];let t=[r[e].indexId,this.uid,r[e].arrayValue,r[e].directionalValue,hR,[]],n=[r[e+1].indexId,this.uid,r[e+1].arrayValue,r[e+1].directionalValue,hR,[]];i.push(IDBKeyRange.bound(t,n))}return i}Mn(e,t){return h_(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(hU)}getMinOffset(e,t){return oI.mapArray(this.Tn(t),t=>this.In(e,t).next(e=>e||aJ())).next(hU)}constructor(e,t){this.databaseId=t,this.hn=new hP,this.Pn=new uP(e=>uu(e),(e,t)=>uc(e,t)),this.uid=e.uid||""}}function hL(e){return li(e,"collectionParents")}function hM(e){return li(e,"indexEntries")}function hF(e){return li(e,"indexConfiguration")}function hV(e){return li(e,"indexState")}function hU(e){var t;0!==e.length||aJ();let n=e[0].indexState.offset,r=n.largestBatchId;for(let t=1;t<e.length;t++){let i=e[t].indexState.offset;0>ob(i,n)&&(n=i),r<i.largestBatchId&&(r=i.largestBatchId)}return new ox(n.readTime,n.documentKey,r)}let hB={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class hj{static withCacheSize(e){return new hj(e,hj.DEFAULT_COLLECTION_PERCENTILE,hj.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}function hz(e,t,n){let r=e.store("mutations"),i=e.store("documentMutations"),s=[],a=IDBKeyRange.only(n.batchId),o=0,l=r.J({range:a},(e,t,n)=>(o++,n.delete()));s.push(l.next(()=>{var e;1===o||aJ()}));let u=[];for(let e of n.mutations){var c,h,d;let r=(c=t,h=e.key.path,d=n.batchId,[c,oj(h),d]);s.push(i.delete(r)),u.push(e.key)}return oI.waitFor(s).next(()=>u)}function hq(e){let t;if(!e)return 0;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw aJ();t=e.noDocument}return JSON.stringify(t).length}hj.DEFAULT_COLLECTION_PERCENTILE=10,hj.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hj.DEFAULT=new hj(0x2800000,hj.DEFAULT_COLLECTION_PERCENTILE,hj.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hj.DISABLED=new hj(-1,0,0);class h${static Pt(e,t,n,r){var i;return""!==e.uid||aJ(),new h$(e.isAuthenticated()?e.uid:"",t,n,r)}checkEmpty(e){let t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hK(e).J({index:"userMutationsIndex",range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){let i=hG(e),s=hK(e);return s.add({}).next(a=>{var o,l,u,c;"number"==typeof a||aJ();let h=new cc(a,t,n,r),d=function(e,t,n){let r=n.baseMutations.map(t=>cY(e.ht,t)),i=n.mutations.map(t=>cY(e.ht,t));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,h),f=[],p=new ld((e,t)=>ot(e.canonicalString(),t.canonicalString()));for(let e of r){;let t=(l=this.userId,u=e.key.path,c=a,[l,oj(u),c]);p=p.add(e.key.path.popLast()),f.push(s.put(d)),f.push(i.put(t,oG))}return p.forEach(t=>{f.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.xn[a]=h.keys()}),oI.waitFor(f).next(()=>h)})}lookupMutationBatch(e,t){return hK(e).get(t).next(e=>{var t;return e?(e.userId===this.userId||aJ(),hn(this.serializer,e)):null})}On(e,t){return this.xn[t]?oI.resolve(this.xn[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){let n=e.keys();return this.xn[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){let n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]),i=null;return hK(e).J({index:"userMutationsIndex",range:r},(e,t,r)=>{var s;t.userId===this.userId&&(t.batchId>=n||aJ(),i=hn(this.serializer,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){let t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return hK(e).J({index:"userMutationsIndex",range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){let t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hK(e).U("userMutationsIndex",t).next(e=>e.map(e=>hn(this.serializer,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){var n;let r=(n=this.userId,[n,oj(t.path)]),i=IDBKeyRange.lowerBound(r),s=[];return hG(e).J({range:i},(n,r,i)=>{let[a,o,l]=n,u=oq(o);if(a===this.userId&&t.path.isEqual(u))return hK(e).get(l).next(e=>{var t;if(!e)throw aJ();e.userId===this.userId||aJ(),s.push(hn(this.serializer,e))});i.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ld(ot),r=[];return t.forEach(t=>{var i;let s=(i=this.userId,[i,oj(t.path)]),a=IDBKeyRange.lowerBound(s),o=hG(e).J({range:a},(e,r,i)=>{let[s,a,o]=e,l=oq(a);s===this.userId&&t.path.isEqual(l)?n=n.add(o):i.done()});r.push(o)}),oI.waitFor(r).next(()=>this.Nn(e,n))}getAllMutationBatchesAffectingQuery(e,t){var n;let r=t.path,i=r.length+1,s=(n=this.userId,[n,oj(r)]),a=IDBKeyRange.lowerBound(s),o=new ld(ot);return hG(e).J({range:a},(e,t,n)=>{let[s,a,l]=e,u=oq(a);s===this.userId&&r.isPrefixOf(u)?u.length===i&&(o=o.add(l)):n.done()}).next(()=>this.Nn(e,o))}Nn(e,t){let n=[],r=[];return t.forEach(t=>{r.push(hK(e).get(t).next(e=>{var t;if(null===e)throw aJ();e.userId===this.userId||aJ(),n.push(hn(this.serializer,e))}))}),oI.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return hz(e._e,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.Ln(t.batchId)}),oI.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}Ln(e){delete this.xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return oI.resolve();let n=IDBKeyRange.lowerBound([this.userId]),r=[];return hG(e).J({range:n},(e,t,n)=>{if(e[0]===this.userId){let t=oq(e[1]);r.push(t)}else n.done()}).next(()=>{var e;0===r.length||aJ()})})}containsKey(e,t){return hH(e,this.userId,t)}Bn(e){return hW(e).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.xn={}}}function hH(e,t,n){let r=[t,oj(n.path)],i=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return hG(e).J({range:s,H:!0},(e,n,r)=>{let[s,o,l]=e;s===t&&o===i&&(a=!0),r.done()}).next(()=>a)}function hK(e){return li(e,"mutations")}function hG(e){return li(e,"documentMutations")}function hW(e){return li(e,"mutationQueues")}class hQ{next(){return this.kn+=2,this.kn}static qn(){return new hQ(0)}static Qn(){return new hQ(-1)}constructor(e){this.kn=e}}class hJ{allocateTargetId(e){return this.Kn(e).next(t=>{let n=new hQ(t.highestTargetId);return t.highestTargetId=n.next(),this.$n(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Kn(e).next(e=>os.fromTimestamp(new oi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Kn(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.Kn(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.$n(e,r)))}addTargetData(e,t){return this.Un(e,t).next(()=>this.Kn(e).next(n=>(n.targetCount+=1,this.Wn(t,n),this.$n(e,n))))}updateTargetData(e,t){return this.Un(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>hY(e).delete(t.targetId)).next(()=>this.Kn(e)).next(t=>{var n;return t.targetCount>0||aJ(),t.targetCount-=1,this.$n(e,t)})}removeTargets(e,t,n){let r=0,i=[];return hY(e).J((s,a)=>{let o=hr(a);o.sequenceNumber<=t&&null===n.get(o.targetId)&&(r++,i.push(this.removeTargetData(e,o)))}).next(()=>oI.waitFor(i)).next(()=>r)}forEachTarget(e,t){return hY(e).J((e,n)=>{t(hr(n))})}Kn(e){return hX(e).get("targetGlobalKey").next(e=>{var t;return null!==e||aJ(),e})}$n(e,t){return hX(e).put("targetGlobalKey",t)}Un(e,t){return hY(e).put(hi(this.serializer,t))}Wn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Kn(e).next(e=>e.targetCount)}getTargetData(e,t){let n=uu(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return hY(e).J({range:r,index:"queryTargetsIndex"},(e,n,r)=>{let s=hr(n);uc(t,s.target)&&(i=s,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){let r=[],i=hZ(e);return t.forEach(t=>{let s=oj(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))}),oI.waitFor(r)}removeMatchingKeys(e,t,n){let r=hZ(e);return oI.forEach(t,t=>{let i=oj(t.path);return oI.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){let n=hZ(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){let n=IDBKeyRange.bound([t],[t+1],!1,!0),r=hZ(e),i=uq();return r.J({range:n,H:!0},(e,t,n)=>{let r=new oc(oq(e[1]));i=i.add(r)}).next(()=>i)}containsKey(e,t){let n=oj(t.path),r=IDBKeyRange.bound([n],[n+"\0"],!1,!0),i=0;return hZ(e).J({index:"documentTargetsIndex",H:!0,range:r},(e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())}).next(()=>i>0)}ut(e,t){return hY(e).get(t).next(e=>e?hr(e):null)}constructor(e,t){this.referenceDelegate=e,this.serializer=t}}function hY(e){return li(e,"targets")}function hX(e){return li(e,"targetGlobal")}function hZ(e){return li(e,"targetDocuments")}function h0(e,t){let[n,r]=e,[i,s]=t,a=ot(n,i);return 0===a?ot(r,s):a}class h1{jn(){return++this.zn}Hn(e){let t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{let e=this.buffer.last();0>h0(t,e)&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}constructor(e){this.Gn=e,this.buffer=new ld(h0),this.zn=0}}class h2{start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return null!==this.Jn}Yn(e){aK("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){oN(e)?aK("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await oS(e)}await this.Yn(3e5)})}constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Jn=null}}class h4{calculateTargetCount(e,t){return this.Zn.Xn(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return oI.resolve(oF.oe);let n=new h1(t);return this.Zn.forEachTarget(e,e=>n.Hn(e.sequenceNumber)).next(()=>this.Zn.er(e,e=>n.Hn(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return -1===this.params.cacheSizeCollectionThreshold?(aK("LruGarbageCollector","Garbage collection skipped; disabled"),oI.resolve(hB)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(aK("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hB):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let n,r,s,a,o,l,u;let c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(aK("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(s=t,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(u=Date.now(),aH()<=i.DEBUG&&aK("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-c}ms
	Determined least recently used ${r} in `+(o-a)+"ms\n"+`	Removed ${s} targets in `+(l-o)+"ms\n"+`	Removed ${e} documents in `+(u-l)+"ms\n"+`Total Duration: ${u-c}ms`),oI.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:e})))}constructor(e,t){this.Zn=e,this.params=t}}function h6(e,t){return new h4(e,t)}class h8{Xn(e){let t=this.nr(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}nr(e){let t=0;return this.er(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}er(e,t){return this.rr(e,(e,n)=>t(n))}addReference(e,t,n){return h3(e,n)}removeReference(e,t,n){return h3(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return h3(e,t)}ir(e,t){var n,r;let i;return n=e,r=t,i=!1,hW(n).Y(e=>hH(n,e,r).next(e=>(e&&(i=!0),oI.resolve(!e)))).next(()=>i)}removeOrphanedDocuments(e,t){let n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],i=0;return this.rr(e,(s,a)=>{if(a<=t){let t=this.ir(e,s).next(t=>{if(!t)return i++,n.getEntry(e,s).next(()=>(n.removeEntry(s,os.min()),hZ(e).delete([0,oj(s.path)])))});r.push(t)}}).next(()=>oI.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){let n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return h3(e,t)}rr(e,t){let n=hZ(e),r,i=oF.oe;return n.J({index:"documentTargetsIndex"},(e,n)=>{let[s,a]=e,{path:o,sequenceNumber:l}=n;0===s?(i!==oF.oe&&t(new oc(oq(r)),i),i=l,r=o):i=oF.oe}).next(()=>{i!==oF.oe&&t(new oc(oq(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}constructor(e,t){var n;this.db=e,this.garbageCollector=(n=this,new h4(n,t))}}function h3(e,t){var n,r;return hZ(e).put((n=t,r=e.currentSequenceNumber,{targetId:0,path:oj(n.path),sequenceNumber:r}))}class h5{addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,lJ.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let n=this.changes.get(t);return void 0!==n?oI.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}constructor(){this.changes=new uP(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}}class h7{setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return dn(e).put(n)}removeEntry(e,t,n){return dn(e).delete(function(e,t){let n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],c9(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.sr(e,n)))}getEntry(e,t){let n=lJ.newInvalidDocument(t);return dn(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(dr(t))},(e,r)=>{n=this._r(t,r)}).next(()=>n)}ar(e,t){let n={size:0,document:lJ.newInvalidDocument(t)};return dn(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(dr(t))},(e,r)=>{n={document:this._r(t,r),size:hq(r)}}).next(()=>n)}getEntries(e,t){let n=uR;return this.ur(e,t,(e,t)=>{let r=this._r(e,t);n=n.insert(e,r)}).next(()=>n)}cr(e,t){let n=uR,r=new lu(oc.comparator);return this.ur(e,t,(e,t)=>{let i=this._r(e,t);n=n.insert(e,i),r=r.insert(e,hq(t))}).next(()=>({documents:n,lr:r}))}ur(e,t,n){if(t.isEmpty())return oI.resolve();let r=new ld(ds);t.forEach(e=>r=r.add(e));let i=IDBKeyRange.bound(dr(r.first()),dr(r.last())),s=r.getIterator(),a=s.getNext();return dn(e).J({index:"documentKeyIndex",range:i},(e,t,r)=>{let i=oc.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&0>ds(a,i);)n(a,null),a=s.getNext();a&&a.isEqual(i)&&(n(a,t),a=s.hasNext()?s.getNext():null),a?r.$(dr(a)):r.done()}).next(()=>{for(;a;)n(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,n,r,i){let s=t.path,a=[s.popLast().toArray(),s.lastSegment(),c9(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],o=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return dn(e).U(IDBKeyRange.bound(a,o,!0)).next(e=>{null==i||i.incrementDocumentReadCount(e.length);let n=uR;for(let i of e){let e=this._r(oc.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(uA(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n})}getAllFromCollectionGroup(e,t,n,r){let i=uR,s=di(t,n),a=di(t,ox.max());return dn(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(e,t,n)=>{let s=this._r(oc.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(i=i.insert(s.key,s)).size===r&&n.done()}).next(()=>i)}newChangeBuffer(e){return new de(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return dt(e).get("remoteDocumentGlobalKey").next(e=>{var t;return!e&&aJ(),e})}sr(e,t){return dt(e).put("remoteDocumentGlobalKey",t)}_r(e,t){if(t){let e=function(e,t){let n;if(t.document)n=cJ(e.ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){let e=oc.fromSegments(t.noDocument.path),r=ht(t.noDocument.readTime);n=lJ.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return aJ();{let e=oc.fromSegments(t.unknownDocument.path),r=ht(t.unknownDocument.version);n=lJ.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){let t=new oi(e[0],e[1]);return os.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!(e.isNoDocument()&&e.version.isEqual(os.min())))return e}return lJ.newInvalidDocument(e)}constructor(e){this.serializer=e}}function h9(e){return new h7(e)}class de extends h5{applyChanges(e){let t=[],n=0,r=new ld((e,t)=>ot(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,s)=>{let a=this.Pr.get(i);if(t.push(this.hr.removeEntry(e,i,a.readTime)),s.isValidDocument()){let o=c7(this.hr.serializer,s);r=r.add(i.path.popLast());let l=hq(o);n+=l-a.size,t.push(this.hr.addEntry(e,i,o))}else if(n-=a.size,this.trackRemovals){let n=c7(this.hr.serializer,s.convertToNoDocument(os.min()));t.push(this.hr.addEntry(e,i,n))}}),r.forEach(n=>{t.push(this.hr.indexManager.addToCollectionParentIndex(e,n))}),t.push(this.hr.updateMetadata(e,n)),oI.waitFor(t)}getFromCache(e,t){return this.hr.ar(e,t).next(e=>(this.Pr.set(t,{size:e.size,readTime:e.document.readTime}),e.document))}getAllFromCache(e,t){return this.hr.cr(e,t).next(e=>{let{documents:t,lr:n}=e;return n.forEach((e,n)=>{this.Pr.set(e,{size:n,readTime:t.get(e).readTime})}),t})}constructor(e,t){super(),this.hr=e,this.trackRemovals=t,this.Pr=new uP(e=>e.toString(),(e,t)=>e.isEqual(t))}}function dt(e){return li(e,"remoteDocumentGlobal")}function dn(e){return li(e,"remoteDocumentsV14")}function dr(e){let t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function di(e,t){let n=t.documentKey.path.toArray();return[e,c9(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function ds(e,t){let n=e.path.toArray(),r=t.path.toArray(),i=0;for(let e=0;e<n.length-2&&e<r.length-2;++e)if(i=ot(n[e],r[e]))return i;return(i=ot(n.length,r.length))||(i=ot(n[n.length-2],r[r.length-2]))||ot(n[n.length-1],r[r.length-1])}class da{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class dl{getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&ct(n.mutation,e,lm.empty(),oi.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,uq()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:uq(),r=uB();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=uM();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){let n=uB();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,uq()))}populateOverlays(e,t,n){let r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=uR,s=uB(),a=uB();return t.forEach((e,t)=>{let a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof ci)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),ct(a.mutation,t,a.mutation.getFieldMask(),oi.now())):s.set(t.key,lm.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new da(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){let n=uB(),r=new lu((e,t)=>e-t),i=uq();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(let i of e)i.keys().forEach(e=>{let s=t.get(e);if(null===s)return;let a=n.get(e)||lm.empty();a=i.applyToLocalView(s,a),n.set(e,a);let o=(r.get(i.batchId)||uq()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let r=a.getNext(),o=r.key,l=r.value,u=uB();l.forEach(e=>{if(!i.has(e)){let r=ce(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,u))}return oI.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){var i;return(i=t,oc.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length)?this.getDocumentsMatchingDocumentQuery(e,t.path):ux(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{let s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):oI.resolve(uB()),a=-1,o=i;return s.next(t=>oI.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?oI.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,uq())).next(e=>({batchId:a,changes:uF(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new oc(t)).next(e=>{let t=uM();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){let i=t.collectionGroup,s=uM();return this.indexManager.getCollectionParents(e,i).next(a=>oI.forEach(a,a=>{var o;let l=(o=t,new um(a.child(i),null,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt));return this.getDocumentsMatchingCollectionQuery(e,l,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{let r=n.getKey();null===e.get(r)&&(e=e.insert(r,lJ.newInvalidDocument(r)))});let n=uM();return e.forEach((e,r)=>{let s=i.get(e);void 0!==s&&ct(s.mutation,r,lm.empty(),oi.now()),uA(t,r)&&(n=n.insert(e,r))}),n})}constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}}class du{getBundleMetadata(e,t){return oI.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){var n;return this.Tr.set(t.id,{id:(n=t).id,version:n.version,createTime:cU(n.createTime)}),oI.resolve()}getNamedQuery(e,t){return oI.resolve(this.Ir.get(t))}saveNamedQuery(e,t){var n;return this.Ir.set(t.name,{name:(n=t).name,query:hs(n.bundledQuery),readTime:cU(n.readTime)}),oI.resolve()}constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}}class dc{getOverlay(e,t){return oI.resolve(this.overlays.get(t))}getOverlays(e,t){let n=uB();return oI.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.Tt(e,t,r)}),oI.resolve()}removeOverlaysForBatchId(e,t,n){let r=this.Er.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Er.delete(n)),oI.resolve()}getOverlaysForCollection(e,t,n){let r=uB(),i=t.length+1,s=new oc(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return oI.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new lu((e,t)=>e-t),s=this.overlays.getIterator();for(;s.hasNext();){let e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=uB(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let a=uB(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return oI.resolve(a)}Tt(e,t,n){let r=this.overlays.get(n.key);if(null!==r){let e=this.Er.get(r.largestBatchId).delete(n.key);this.Er.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new cd(t,n));let i=this.Er.get(t);void 0===i&&(i=uq(),this.Er.set(t,i)),this.Er.set(t,i.add(n.key))}constructor(){this.overlays=new lu(oc.comparator),this.Er=new Map}}class dh{getSessionToken(e){return oI.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,oI.resolve()}constructor(){this.sessionToken=ly.EMPTY_BYTE_STRING}}class dd{isEmpty(){return this.dr.isEmpty()}addReference(e,t){let n=new df(e,t);this.dr=this.dr.add(n),this.Rr=this.Rr.add(n)}mr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.gr(new df(e,t))}pr(e,t){e.forEach(e=>this.removeReference(e,t))}yr(e){let t=new oc(new oo([])),n=new df(t,e),r=new df(t,e+1),i=[];return this.Rr.forEachInRange([n,r],e=>{this.gr(e),i.push(e.key)}),i}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){let t=new oc(new oo([])),n=new df(t,e),r=new df(t,e+1),i=uq();return this.Rr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){let t=new df(e,0),n=this.dr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}constructor(){this.dr=new ld(df.Ar),this.Rr=new ld(df.Vr)}}class df{static Ar(e,t){return oc.comparator(e.key,t.key)||ot(e.br,t.br)}static Vr(e,t){return ot(e.br,t.br)||oc.comparator(e.key,t.key)}constructor(e,t){this.key=e,this.br=t}}class dp{checkEmpty(e){return oI.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){let i=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new cc(i,t,n,r);for(let t of(this.mutationQueue.push(s),r))this.vr=this.vr.add(new df(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return oI.resolve(s)}lookupMutationBatch(e,t){return oI.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){let n=this.Fr(t+1),r=n<0?0:n;return oI.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return oI.resolve(0===this.mutationQueue.length?-1:this.Dr-1)}getAllMutationBatches(e){return oI.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let n=new df(t,0),r=new df(t,Number.POSITIVE_INFINITY),i=[];return this.vr.forEachInRange([n,r],e=>{let t=this.Cr(e.br);i.push(t)}),oI.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ld(ot);return t.forEach(e=>{let t=new df(e,0),r=new df(e,Number.POSITIVE_INFINITY);this.vr.forEachInRange([t,r],e=>{n=n.add(e.br)})}),oI.resolve(this.Mr(n))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,r=n.length+1,i=n;oc.isDocumentKey(i)||(i=i.child(""));let s=new df(new oc(i),0),a=new ld(ot);return this.vr.forEachWhile(e=>{let t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.br)),!0)},s),oI.resolve(this.Mr(a))}Mr(e){let t=[];return e.forEach(e=>{let n=this.Cr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){var n;0===this.Or(t.batchId,"removed")||aJ(),this.mutationQueue.shift();let r=this.vr;return oI.forEach(t.mutations,n=>{let i=new df(n.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,n.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,t){let n=new df(t,0),r=this.vr.firstAfterOrEqual(n);return oI.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,oI.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Cr(e){let t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new ld(df.Ar)}}class dm{setIndexManager(e){this.indexManager=e}addEntry(e,t){let n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Nr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let n=this.docs.get(t);return oI.resolve(n?n.document.mutableCopy():lJ.newInvalidDocument(t))}getEntries(e,t){let n=uR;return t.forEach(e=>{let t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():lJ.newInvalidDocument(e))}),oI.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=uR,s=t.path,a=new oc(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){let{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||0>=ob(ov(a),n)||(r.has(a.key)||uA(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return oI.resolve(i)}getAllFromCollectionGroup(e,t,n,r){aJ()}Lr(e,t){return oI.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new dg(this)}getSize(e){return oI.resolve(this.size)}constructor(e){this.Nr=e,this.docs=new lu(oc.comparator),this.size=0}}class dg extends h5{applyChanges(e){let t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.hr.addEntry(e,r)):this.hr.removeEntry(n)}),oI.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}constructor(e){super(),this.hr=e}}class dy{forEachTarget(e,t){return this.Br.forEach((e,n)=>t(n)),oI.resolve()}getLastRemoteSnapshotVersion(e){return oI.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oI.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),oI.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.kr&&(this.kr=t),oI.resolve()}Un(e){this.Br.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Qr=new hQ(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,oI.resolve()}updateTargetData(e,t){return this.Un(t),oI.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,oI.resolve()}removeTargets(e,t,n){let r=0,i=[];return this.Br.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Br.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),oI.waitFor(i).next(()=>r)}getTargetCount(e){return oI.resolve(this.targetCount)}getTargetData(e,t){let n=this.Br.get(t)||null;return oI.resolve(n)}addMatchingKeys(e,t,n){return this.qr.mr(t,n),oI.resolve()}removeMatchingKeys(e,t,n){this.qr.pr(t,n);let r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),oI.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),oI.resolve()}getMatchingKeysForTargetId(e,t){let n=this.qr.Sr(t);return oI.resolve(n)}containsKey(e,t){return oI.resolve(this.qr.containsKey(t))}constructor(e){this.persistence=e,this.Br=new uP(e=>uu(e),uc),this.lastRemoteSnapshotVersion=os.min(),this.highestTargetId=0,this.kr=0,this.qr=new dd,this.targetCount=0,this.Qr=hQ.qn()}}class dv{start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dc,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Kr[e.toKey()];return n||(n=new dp(t,this.referenceDelegate),this.Kr[e.toKey()]=n),n}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,n){aK("MemoryPersistence","Starting transaction:",e);let r=new dx(this.$r.next());return this.referenceDelegate.Hr(),n(r).next(e=>this.referenceDelegate.Jr(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Yr(e,t){return oI.or(Object.values(this.Kr).map(n=>()=>n.containsKey(e,t)))}constructor(e,t){this.Kr={},this.overlays={},this.$r=new oF(0),this.Ur=!1,this.Ur=!0,this.Wr=new dh,this.referenceDelegate=e(this),this.Gr=new dy(this),this.indexManager=new hD,this.remoteDocumentCache=new dm(e=>this.referenceDelegate.zr(e)),this.serializer=new c5(t),this.jr=new du(this.serializer)}}class dx extends o_{constructor(e){super(),this.currentSequenceNumber=e}}class db{static ei(e){return new db(e)}get ti(){if(this.Xr)return this.Xr;throw aJ()}addReference(e,t,n){return this.Zr.addReference(n,t),this.ti.delete(n.toString()),oI.resolve()}removeReference(e,t,n){return this.Zr.removeReference(n,t),this.ti.add(n.toString()),oI.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),oI.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(e=>this.ti.add(e.toString()));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.ti.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oI.forEach(this.ti,n=>{let r=oc.fromPath(n);return this.ni(e,r).next(e=>{e||t.removeEntry(r,os.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(e=>{e?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return oI.or([()=>oI.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}constructor(e){this.persistence=e,this.Zr=new dd,this.Xr=null}}class dw{static ei(e,t){return new dw(e,t)}Hr(){}Jr(e){return oI.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){let t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}nr(e){let t=0;return this.er(e,e=>{t++}).next(()=>t)}er(e,t){return oI.forEach(this.ri,(n,r)=>this.ir(e,n,r).next(e=>e?oI.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0,r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Lr(e,r=>this.ir(e,r,t).next(e=>{e||(n++,i.removeEntry(r,os.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),oI.resolve()}removeTarget(e,t){let n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),oI.resolve()}removeReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),oI.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),oI.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=function e(t){switch(lA(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let n=lS(t);return n?16+e(n):16;case 5:return 2*t.stringValue.length;case 6:return lw(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(t.arrayValue.values||[]).reduce((t,n)=>t+e(n),0);case 10:case 11:var r;let i;return r=t.mapValue,i=0,la(r.fields,(t,n)=>{i+=t.length+e(n)}),i;default:throw aJ()}}(e.data.value)),t}ir(e,t,n){return oI.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let e=this.ri.get(t);return oI.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}constructor(e,t){var n;this.persistence=e,this.ri=new uP(e=>oj(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=(n=this,new h4(n,t))}}class d_{O(e,t,n,r){var i,s;let a=new oE("createOrUpgrade",t);n<1&&r>=1&&(!function(e){e.createObjectStore("owner")}(e),(i=e).createObjectStore("mutationQueues",{keyPath:"userId"}),i.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",o$,{unique:!0}),i.createObjectStore("documentMutations"),dS(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=oI.resolve();return n<3&&r>=3&&(0!==n&&((s=e).deleteObjectStore("targetDocuments"),s.deleteObjectStore("targets"),s.deleteObjectStore("targetGlobal"),dS(e)),o=o.next(()=>(function(e){let t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:os.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)})(a))),n<4&&r>=4&&(0!==n&&(o=o.next(()=>{var t,n;return t=e,(n=a).store("mutations").U().next(e=>{t.deleteObjectStore("mutations"),t.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",o$,{unique:!0});let r=n.store("mutations"),i=e.map(e=>r.put(e));return oI.waitFor(i)})})),o=o.next(()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),n<5&&r>=5&&(o=o.next(()=>this.ii(a))),n<6&&r>=6&&(o=o.next(()=>((function(e){e.createObjectStore("remoteDocumentGlobal")})(e),this.si(a)))),n<7&&r>=7&&(o=o.next(()=>this.oi(a))),n<8&&r>=8&&(o=o.next(()=>this._i(e,a))),n<9&&r>=9&&(o=o.next(()=>{var t;(t=e).objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")})),n<10&&r>=10&&(o=o.next(()=>this.ai(a))),n<11&&r>=11&&(o=o.next(()=>{(function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&r>=12&&(o=o.next(()=>{!function(e){let t=e.createObjectStore("documentOverlays",{keyPath:o8});t.createIndex("collectionPathOverlayIndex",o3,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",o5,{unique:!1})}(e)})),n<13&&r>=13&&(o=o.next(()=>(function(e){let t=e.createObjectStore("remoteDocumentsV14",{keyPath:oW});t.createIndex("documentKeyIndex",oQ),t.createIndex("collectionGroupIndex",oJ)})(e)).next(()=>this.ui(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),n<14&&r>=14&&(o=o.next(()=>this.ci(e,a))),n<15&&r>=15&&(o=o.next(()=>{var t;(t=e).createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),t.createObjectStore("indexState",{keyPath:o1}).createIndex("sequenceNumberIndex",o2,{unique:!1}),t.createObjectStore("indexEntries",{keyPath:o4}).createIndex("documentKeyIndex",o6,{unique:!1})})),n<16&&r>=16&&(o=o.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),n<17&&r>=17&&(o=o.next(()=>{!function(e){e.createObjectStore("globals",{keyPath:"name"})}(e)})),o}si(e){let t=0;return e.store("remoteDocuments").J((e,n)=>{t+=hq(n)}).next(()=>{let n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}ii(e){let t=e.store("mutationQueues"),n=e.store("mutations");return t.U().next(t=>oI.forEach(t,t=>{let r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",r).next(n=>oI.forEach(n,n=>{var r;n.userId===t.userId||aJ();let i=hn(this.serializer,n);return hz(e,t.userId,i).next(()=>{})}))}))}oi(e){let t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(e=>{let r=[];return n.J((n,i)=>{let s=new oo(n),a=[0,oj(s)];r.push(t.get(a).next(n=>{let r;return n?oI.resolve():(r=s,t.put({targetId:0,path:oj(r),sequenceNumber:e.highestListenSequenceNumber}))}))}).next(()=>oI.waitFor(r))})}_i(e,t){e.createObjectStore("collectionParents",{keyPath:o0});let n=t.store("collectionParents"),r=new hP,i=e=>{if(r.add(e)){let t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:oj(r)})}};return t.store("remoteDocuments").J({H:!0},(e,t)=>i(new oo(e).popLast())).next(()=>t.store("documentMutations").J({H:!0},(e,t)=>{let[n,r,s]=e;return i(oq(r).popLast())}))}ai(e){let t=e.store("targets");return t.J((e,n)=>{let r=hr(n),i=hi(this.serializer,r);return t.put(i)})}ui(e,t){let n=t.store("remoteDocuments"),r=[];return n.J((e,n)=>{var i;let s=t.store("remoteDocumentsV14"),a=((i=n).document?new oc(oo.fromString(i.document.name).popFirst(5)):i.noDocument?oc.fromSegments(i.noDocument.path):i.unknownDocument?oc.fromSegments(i.unknownDocument.path):aJ()).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(s.put(o))}).next(()=>oI.waitFor(r))}ci(e,t){let n=t.store("mutations"),r=new h7(this.serializer),i=new dv(db.ei,this.serializer.ht);return n.U().next(e=>{let n=new Map;return e.forEach(e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:uq();hn(this.serializer,e).keys().forEach(e=>r=r.add(e)),n.set(e.userId,r)}),oI.forEach(n,(e,n)=>{let s=new az(n),a=hd.Pt(this.serializer,s),o=i.getIndexManager(s);return new dl(r,h$.Pt(s,this.serializer,o,i.referenceDelegate),a,o).recalculateAndSaveOverlaysForDocumentKeys(new lr(t,oF.oe),e).next()})})}constructor(e){this.serializer=e}}function dS(e){e.createObjectStore("targetDocuments",{keyPath:oX}).createIndex("documentTargetsIndex",oZ,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",oY,{unique:!0}),e.createObjectStore("targetGlobal")}let dI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class dE{start(){return this.gi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new a0(aZ.FAILED_PRECONDITION,dI);return this.pi(),this.yi(),this.wi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Gr.getHighestSequenceNumber(e))}).then(e=>{this.$r=new oF(e,this.hi)}).then(()=>{this.Ur=!0}).catch(e=>(this.mi&&this.mi.close(),Promise.reject(e)))}Si(e){return this.Ri=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.mi.L(async t=>{null===t.newVersion&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.li.enqueueAndForget(async()=>{this.started&&await this.gi()}))}gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>dT(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.bi(e).next(e=>{e||(this.isPrimary=!1,this.li.enqueueRetryable(()=>this.Ri(!1)))})}).next(()=>this.Di(e)).next(t=>this.isPrimary&&!t?this.vi(e).next(()=>!1):!!t&&this.Ci(e).next(()=>!0))).catch(e=>{if(oN(e))return aK("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return aK("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.li.enqueueRetryable(()=>this.Ri(e)),this.isPrimary=e})}bi(e){return dk(e).get("owner").next(e=>oI.resolve(this.Fi(e)))}Mi(e){return dT(e).delete(this.clientId)}async xi(){if(this.isPrimary&&!this.Oi(this.Ai,18e5)){this.Ai=Date.now();let e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{let t=li(e,"clientMetadata");return t.U().next(e=>{let n=this.Ni(e,18e5),r=e.filter(e=>-1===n.indexOf(e));return oI.forEach(r,e=>t.delete(e.clientId)).next(()=>r)})}).catch(()=>[]);if(this.fi)for(let t of e)this.fi.removeItem(this.Li(t.clientId))}}wi(){this.di=this.li.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gi().then(()=>this.xi()).then(()=>this.wi()))}Fi(e){return!!e&&e.ownerId===this.clientId}Di(e){return this.Pi?oI.resolve(!0):dk(e).get("owner").next(t=>{if(null!==t&&this.Oi(t.leaseTimestampMs,5e3)&&!this.Bi(t.ownerId)){if(this.Fi(t)&&this.networkEnabled)return!0;if(!this.Fi(t)){if(!t.allowTabSynchronization)throw new a0(aZ.FAILED_PRECONDITION,dI);return!1}}return!(!this.networkEnabled||!this.inForeground)||dT(e).U().next(e=>void 0===this.Ni(e,5e3).find(e=>{if(this.clientId!==e.clientId){let t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&aK("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}async shutdown(){this.Ur=!1,this.ki(),this.di&&(this.di.cancel(),this.di=null),this.qi(),this.Qi(),await this.mi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let t=new lr(e,oF.oe);return this.vi(t).next(()=>this.Mi(t))}),this.mi.close(),this.Ki()}Ni(e,t){return e.filter(e=>this.Oi(e.updateTimeMs,t)&&!this.Bi(e.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>dT(e).U().next(e=>this.Ni(e,18e5).map(e=>e.clientId)))}get started(){return this.Ur}getGlobalsCache(){return this.Wr}getMutationQueue(e,t){return h$.Pt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new hO(e,this.serializer.ht.databaseId)}getDocumentOverlayCache(e){return hd.Pt(this.serializer,e)}getBundleCache(){return this.jr}runTransaction(e,t,n){var r;let i;aK("IndexedDbPersistence","Starting transaction:",e);let s=17===(r=this.Ti)?ln:16===r?lt:15===r?lt:14===r?le:13===r?le:12===r?o9:11===r?o7:void aJ();return this.mi.runTransaction(e,"readonly"===t?"readonly":"readwrite",s,r=>(i=new lr(r,this.$r?this.$r.next():oF.oe),"readwrite-primary"===t?this.bi(i).next(e=>!!e||this.Di(i)).next(t=>{if(!t)throw aG(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.li.enqueueRetryable(()=>this.Ri(!1)),new a0(aZ.FAILED_PRECONDITION,ow);return n(i)}).next(e=>this.Ci(i).next(()=>e)):this.Ui(i).next(()=>n(i)))).then(e=>(i.raiseOnCommittedEvent(),e))}Ui(e){return dk(e).get("owner").next(e=>{if(null!==e&&this.Oi(e.leaseTimestampMs,5e3)&&!this.Bi(e.ownerId)&&!this.Fi(e)&&!(this.Pi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new a0(aZ.FAILED_PRECONDITION,dI)})}Ci(e){let t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return dk(e).put("owner",t)}static p(){return ok.p()}vi(e){let t=dk(e);return t.get("owner").next(e=>this.Fi(e)?(aK("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):oI.resolve())}Oi(e,t){let n=Date.now();return!(e<n-t)&&(!(e>n)||(aG(`Detected an update time that is in the future: ${e} > ${n}`),!1))}pi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ei=()=>{this.li.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gi()))},this.document.addEventListener("visibilitychange",this.Ei),this.inForeground="visible"===this.document.visibilityState)}qi(){this.Ei&&(this.document.removeEventListener("visibilitychange",this.Ei),this.Ei=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ii=()=>{this.ki();let e=/(?:Version|Mobile)\/1[456]/;tP()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.li.enterRestrictedMode(!0),this.li.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ii))}Qi(){this.Ii&&(this.window.removeEventListener("pagehide",this.Ii),this.Ii=null)}Bi(e){var t;try{let n=null!==(null===(t=this.fi)||void 0===t?void 0:t.getItem(this.Li(e)));return aK("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return aG("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}ki(){if(this.fi)try{this.fi.setItem(this.Li(this.clientId),String(Date.now()))}catch(e){aG("Failed to set zombie client id.",e)}}Ki(){if(this.fi)try{this.fi.removeItem(this.Li(this.clientId))}catch(e){}}Li(e){return`firestore_zombie_${this.persistenceKey}_${e}`}constructor(e,t,n,r,i,s,a,o,l,u,c=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.li=i,this.window=s,this.document=a,this.hi=l,this.Pi=u,this.Ti=c,this.$r=null,this.Ur=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ii=null,this.inForeground=!1,this.Ei=null,this.di=null,this.Ai=Number.NEGATIVE_INFINITY,this.Ri=e=>Promise.resolve(),!dE.p())throw new a0(aZ.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new h8(this,r),this.Vi=t+"main",this.serializer=new c5(o),this.mi=new ok(this.Vi,this.Ti,new d_(this.serializer)),this.Wr=new hp,this.Gr=new hJ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=new h7(this.serializer),this.jr=new hu,this.window&&this.window.localStorage?this.fi=this.window.localStorage:(this.fi=null,!1===u&&aG("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}}function dk(e){return li(e,"owner")}function dT(e){return li(e,"clientMetadata")}function dC(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class dA{static zi(e,t){let n=uq(),r=uq();for(let e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new dA(e,t.fromCache,n,r)}constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Wi=n,this.Gi=r}}class dN{get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}constructor(){this._documentReadCount=0}}class dD{initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,n,r){let i={result:null};return this.Xi(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.es(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;let n=new dN;return this.ts(e,t,n).next(r=>{if(i.result=r,this.Hi)return this.ns(e,t,n,r.size)})}).next(()=>i.result)}ns(e,t,n,r){return n.documentReadCount<this.Ji?(aH()<=i.DEBUG&&aK("QueryEngine","SDK will not create cache indexes for query:",uC(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),oI.resolve()):(aH()<=i.DEBUG&&aK("QueryEngine","Query:",uC(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Yi*r?(aH()<=i.DEBUG&&aK("QueryEngine","The SDK decides to create cache indexes for query:",uC(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,uw(t))):oI.resolve())}Xi(e,t){if(uv(t))return oI.resolve(null);let n=uw(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(n=uw(t=uE(t,null,"F"))),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{let i=uq(...r);return this.Zi.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{let s=this.rs(t,r);return this.ss(t,s,i,n.readTime)?this.Xi(e,uE(t,null,"F")):this.os(e,s,t,n)}))})))}es(e,t,n,r){return uv(t)||r.isEqual(os.min())?oI.resolve(null):this.Zi.getDocuments(e,n).next(s=>{let a=this.rs(t,s);return this.ss(t,a,n,r)?oI.resolve(null):(aH()<=i.DEBUG&&aK("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),uC(t)),this.os(e,a,t,oy(r,-1)).next(e=>e))})}rs(e,t){let n=new ld(uD(e));return t.forEach((t,r)=>{uA(e,r)&&(n=n.add(r))}),n}ss(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;let i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ts(e,t,n){return aH()<=i.DEBUG&&aK("QueryEngine","Using full collection scan to execute query:",uC(t)),this.Zi.getDocumentsMatchingQuery(e,t,ox.min(),n)}os(e,t,n,r){return this.Zi.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=tP()?8:oT(tD())>0?6:4}}class dP{Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dl(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}constructor(e,t,n,r){this.persistence=e,this._s=t,this.serializer=r,this.us=new lu(ot),this.cs=new uP(e=>uu(e),uc),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(n)}}function dR(e,t,n,r){return new dP(e,t,n,r)}async function dO(e,t){var n;return await e.persistence.runTransaction("Handle user change","readonly",n=>{let r;return e.mutationQueue.getAllMutationBatches(n).next(i=>(r=i,e.Ps(t),e.mutationQueue.getAllMutationBatches(n))).next(t=>{let i=[],s=[],a=uq();for(let e of r)for(let t of(i.push(e.batchId),e.mutations))a=a.add(t.key);for(let e of t)for(let t of(s.push(e.batchId),e.mutations))a=a.add(t.key);return e.localDocuments.getDocuments(n,a).next(e=>({Ts:e,removedBatchIds:i,addedBatchIds:s}))})})}function dL(e){var t;return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function dM(e,t,n){let r=uq(),i=uq();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=uR;return n.forEach((n,s)=>{let a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(os.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):aK("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{Is:r,Es:i}})}function dF(e,t){var n;return e.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return e.Gr.getTargetData(n,t).next(i=>i?(r=i,oI.resolve(r)):e.Gr.allocateTargetId(n).next(i=>(r=new c3(t,i,"TargetPurposeListen",n.currentSequenceNumber),e.Gr.addTargetData(n,r).next(()=>r))))}).then(n=>{let r=e.us.get(n.targetId);return(null===r||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.us=e.us.insert(n.targetId,n),e.cs.set(t,n.targetId)),n})}async function dV(e,t,n){var r;let i=e.us.get(t);try{n||await e.persistence.runTransaction("Release target",n?"readwrite":"readwrite-primary",t=>e.persistence.referenceDelegate.removeTarget(t,i))}catch(e){if(!oN(e))throw e;aK("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}e.us=e.us.remove(t),e.cs.delete(i.target)}function dU(e,t,n){var r;let i=os.min(),s=uq();return e.persistence.runTransaction("Execute query","readwrite",r=>(function(e,t,n){var r;let i=e.cs.get(n);return void 0!==i?oI.resolve(e.us.get(i)):e.Gr.getTargetData(t,n)})(e,r,uw(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,e.Gr.getMatchingKeysForTargetId(r,t.targetId).next(e=>{s=e})}).next(()=>e._s.getDocumentsMatchingQuery(r,t,n?i:os.min(),n?s:uq())).next(n=>(dz(e,uN(t),n),{documents:n,ds:s})))}function dB(e,t){var n,r;let i=e.Gr,s=e.us.get(t);return s?Promise.resolve(s.target):e.persistence.runTransaction("Get target data","readonly",e=>i.ut(e,t).next(e=>e?e.target:null))}function dj(e,t){var n;let r=e.ls.get(t)||os.min();return e.persistence.runTransaction("Get new document changes","readonly",n=>e.hs.getAllFromCollectionGroup(n,t,oy(r,-1),Number.MAX_SAFE_INTEGER)).then(n=>(dz(e,t,n),n))}function dz(e,t,n){let r=e.ls.get(t)||os.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.ls.set(t,r)}async function dq(e,t,n,r){var i,s;let a=uq(),o=uR;for(let e of n){let n=t.As(e.metadata.name);e.document&&(a=a.add(n));let r=t.Rs(e);r.setReadTime(t.Vs(e.metadata.readTime)),o=o.insert(n,r)}let l=e.hs.newChangeBuffer({trackRemovals:!0}),u=await dF(e,(s=r,uw(uy(oo.fromString(`__bundle__/docs/${s}`)))));return e.persistence.runTransaction("Apply bundle documents","readwrite",t=>dM(t,l,o).next(e=>(l.apply(t),e)).next(n=>e.Gr.removeMatchingKeysForTargetId(t,u.targetId).next(()=>e.Gr.addMatchingKeys(t,a,u.targetId)).next(()=>e.localDocuments.getLocalViewOfDocuments(t,n.Is,n.Es)).next(()=>n.Is)))}async function d$(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:uq();let i=await dF(e,uw(hs(t.bundledQuery)));return e.persistence.runTransaction("Save named query","readwrite",n=>{let s=cU(t.readTime);if(i.snapshotVersion.compareTo(s)>=0)return e.jr.saveNamedQuery(n,t);let a=i.withResumeToken(ly.EMPTY_BYTE_STRING,s);return e.us=e.us.insert(a.targetId,a),e.Gr.updateTargetData(n,a).next(()=>e.Gr.removeMatchingKeysForTargetId(n,i.targetId)).next(()=>e.Gr.addMatchingKeys(n,r,i.targetId)).next(()=>e.jr.saveNamedQuery(n,t))})}function dH(e,t){return`firestore_clients_${e}_${t}`}function dK(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function dG(e,t){return`firestore_targets_${e}_${t}`}class dW{static fs(e,t,n){let r=JSON.parse(n),i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(i=new a0(r.error.code,r.error.message)),s?new dW(e,t,r.state,i):(aG("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}gs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}}class dQ{static fs(e,t){let n=JSON.parse(t),r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(r=new a0(n.error.code,n.error.message)),i?new dQ(e,n.state,r):(aG("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}gs(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}}class dJ{static fs(e,t){let n=JSON.parse(t),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=u$;for(let e=0;r&&e<n.activeTargetIds.length;++e)r=oB(n.activeTargetIds[e]),i=i.add(n.activeTargetIds[e]);return r?new dJ(e,i):(aG("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}constructor(e,t){this.clientId=e,this.activeTargetIds=t}}class dY{static fs(e){let t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new dY(t.clientId,t.onlineState):(aG("SharedClientState",`Failed to parse online state: ${e}`),null)}constructor(e,t){this.clientId=e,this.onlineState=t}}class dX{ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){return JSON.stringify({activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()})}constructor(){this.activeTargetIds=u$}}class dZ{static p(e){return!(!e||!e.localStorage)}async start(){for(let e of(await this.syncEngine.$i())){if(e===this.ws)continue;let t=this.getItem(dH(this.persistenceKey,e));if(t){let n=dJ.fs(e,t);n&&(this.Ds=this.Ds.insert(n.clientId,n))}}this.Bs();let e=this.storage.getItem(this.Ns);if(e){let t=this.ks(e);t&&this.qs(t)}for(let e of this.vs)this.bs(e);this.vs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Fs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Qs(this.Ds)}isActiveQueryTarget(e){let t=!1;return this.Ds.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ks(e,"pending")}updateMutationState(e,t,n){this.Ks(e,t,n),this.$s(e)}addLocalQueryTarget(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n="not-current";if(this.isActiveQueryTarget(e)){let t=this.storage.getItem(dG(this.persistenceKey,e));if(t){let r=dQ.fs(e,t);r&&(n=r.state)}}return t&&this.Us.ps(e),this.Bs(),n}removeLocalQueryTarget(e){this.Us.ys(e),this.Bs()}isLocalQueryTarget(e){return this.Us.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(dG(this.persistenceKey,e))}updateQueryState(e,t,n){this.Ws(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.$s(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.Gs(e)}notifyBundleLoaded(e){this.zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ss),this.removeItem(this.Cs),this.started=!1)}getItem(e){let t=this.storage.getItem(e);return aK("SharedClientState","READ",e,t),t}setItem(e,t){aK("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){aK("SharedClientState","REMOVE",e),this.storage.removeItem(e)}bs(e){if(e.storageArea===this.storage){if(aK("SharedClientState","EVENT",e.key,e.newValue),e.key===this.Cs)return void aG("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.li.enqueueRetryable(async()=>{if(this.started){if(null!==e.key){if(this.Ms.test(e.key)){if(null==e.newValue){let t=this.js(e.key);return this.Hs(t,null)}{let t=this.Js(e.key,e.newValue);if(t)return this.Hs(t.clientId,t)}}else if(this.xs.test(e.key)){if(null!==e.newValue){let t=this.Ys(e.key,e.newValue);if(t)return this.Zs(t)}}else if(this.Os.test(e.key)){if(null!==e.newValue){let t=this.Xs(e.key,e.newValue);if(t)return this.eo(t)}}else if(e.key===this.Ns){if(null!==e.newValue){let t=this.ks(e.newValue);if(t)return this.qs(t)}}else if(e.key===this.Fs){let t=function(e){let t=oF.oe;if(null!=e)try{var n;let r=JSON.parse(e);"number"==typeof r||aJ(),t=r}catch(e){aG("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(e.newValue);t!==oF.oe&&this.sequenceNumberHandler(t)}else if(e.key===this.Ls){let t=this.no(e.newValue);await Promise.all(t.map(e=>this.syncEngine.ro(e)))}}}else this.vs.push(e)})}}get Us(){return this.Ds.get(this.ws)}Bs(){this.setItem(this.Cs,this.Us.gs())}Ks(e,t,n){let r=new dW(this.currentUser,e,t,n),i=dK(this.persistenceKey,this.currentUser,e);this.setItem(i,r.gs())}$s(e){let t=dK(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Gs(e){let t={clientId:this.ws,onlineState:e};this.storage.setItem(this.Ns,JSON.stringify(t))}Ws(e,t,n){let r=dG(this.persistenceKey,e),i=new dQ(e,t,n);this.setItem(r,i.gs())}zs(e){let t=JSON.stringify(Array.from(e));this.setItem(this.Ls,t)}js(e){let t=this.Ms.exec(e);return t?t[1]:null}Js(e,t){let n=this.js(e);return dJ.fs(n,t)}Ys(e,t){let n=this.xs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return dW.fs(new az(i),r,t)}Xs(e,t){let n=Number(this.Os.exec(e)[1]);return dQ.fs(n,t)}ks(e){return dY.fs(e)}no(e){return JSON.parse(e)}async Zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.io(e.batchId,e.state,e.error);aK("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}eo(e){return this.syncEngine.so(e.targetId,e.state,e.error)}Hs(e,t){let n=t?this.Ds.insert(e,t):this.Ds.remove(e),r=this.Qs(this.Ds),i=this.Qs(n),s=[],a=[];return i.forEach(e=>{r.has(e)||s.push(e)}),r.forEach(e=>{i.has(e)||a.push(e)}),this.syncEngine.oo(s,a).then(()=>{this.Ds=n})}qs(e){this.Ds.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Qs(e){let t=u$;return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}constructor(e,t,n,r,i){var s,a,o;this.window=e,this.li=t,this.persistenceKey=n,this.ws=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ss=this.bs.bind(this),this.Ds=new lu(ot),this.started=!1,this.vs=[];let l=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Cs=dH(this.persistenceKey,this.ws),this.Fs=(s=this.persistenceKey,`firestore_sequence_number_${s}`),this.Ds=this.Ds.insert(this.ws,new dX),this.Ms=RegExp(`^firestore_clients_${l}_([^_]*)$`),this.xs=RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Os=RegExp(`^firestore_targets_${l}_(\\d+)$`),this.Ns=(a=this.persistenceKey,`firestore_online_state_${a}`),this.Ls=(o=this.persistenceKey,`firestore_bundle_loaded_v2_${o}`),this.window.addEventListener("storage",this.Ss)}}class d0{addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,n){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new dX,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}constructor(){this._o=new dX,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}}class d1{uo(e){}shutdown(){}}class d2{uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){for(let e of(aK("ConnectivityMonitor","Network connectivity changed: AVAILABLE"),this.To))e(0)}Po(){for(let e of(aK("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE"),this.To))e(1)}static p(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}}let d4=null;function d6(){return null===d4?d4=0x10000000+Math.round(0x80000000*Math.random()):d4++,"0x"+d4.toString(16)}let d8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class d3{Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}}let d5="WebChannelConnection";class d7 extends class{get Co(){return!1}Oo(e,t,n,r,i){let s=d6(),a=this.No(e,t.toUriEncodedString());aK("RestConnection",`Sending RPC '${e}' ${s}:`,a,n);let o={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(o,r,i),this.Bo(e,a,o,n).then(t=>(aK("RestConnection",`Received RPC '${e}' ${s}: `,t),t),t=>{throw aW("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t})}ko(e,t,n,r,i,s){return this.Oo(e,t,n,r,i)}Lo(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+aq}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}No(e,t){let n=d8[e];return`${this.Fo}/v1/${t}:${n}`}terminate(){}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Fo=t+"://"+e.host,this.Mo=`projects/${n}/databases/${r}`,this.xo="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}}{Bo(e,t,n,r){let i=d6();return new Promise((s,a)=>{let l=new o;l.setWithCredentials(!0),l.listenOnce(c.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case h.NO_ERROR:let t=l.getResponseJson();aK(d5,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case h.TIMEOUT:aK(d5,`RPC '${e}' ${i} timed out`),a(new a0(aZ.DEADLINE_EXCEEDED,"Request time out"));break;case h.HTTP_ERROR:let n=l.getStatus();if(aK(d5,`RPC '${e}' ${i} failed with status:`,n,"response text:",l.getResponseText()),n>0){let e=l.getResponseJson();Array.isArray(e)&&(e=e[0]);let t=null==e?void 0:e.error;if(t&&t.status&&t.message){let e=function(e){let t=e.toLowerCase().replace(/_/g,"-");return Object.values(aZ).indexOf(t)>=0?t:aZ.UNKNOWN}(t.status);a(new a0(e,t.message))}else a(new a0(aZ.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new a0(aZ.UNAVAILABLE,"Connection failed."));break;default:aJ()}}finally{aK(d5,`RPC '${e}' ${i} completed.`)}});let u=JSON.stringify(r);aK(d5,`RPC '${e}' ${i} sending request:`,r),l.send(t,"POST",u,n,15)})}qo(e,t,n){let r=d6(),i=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=m(),a=p(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;let c=i.join("");aK(d5,`Creating RPC '${e}' stream ${r}: ${c}`,o);let h=s.createWebChannel(c,o),y=!1,v=!1,x=new d3({Eo:t=>{v?aK(d5,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(y||(aK(d5,`Opening RPC '${e}' stream ${r} transport.`),h.open(),y=!0),aK(d5,`RPC '${e}' stream ${r} sending:`,t),h.send(t))},Ao:()=>h.close()}),b=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return b(h,u.EventType.OPEN,()=>{v||(aK(d5,`RPC '${e}' stream ${r} transport opened.`),x.So())}),b(h,u.EventType.CLOSE,()=>{v||(v=!0,aK(d5,`RPC '${e}' stream ${r} transport closed`),x.Do())}),b(h,u.EventType.ERROR,t=>{v||(v=!0,aW(d5,`RPC '${e}' stream ${r} transport errored:`,t),x.Do(new a0(aZ.UNAVAILABLE,"The operation could not be completed")))}),b(h,u.EventType.MESSAGE,t=>{var n,i;if(!v){;let i=t.data[0];!i&&aJ();let s=(null==i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(s){aK(d5,`RPC '${e}' stream ${r} received error:`,s);let t=s.status,n=function(e){let t=g[e];if(void 0!==t)return cg(t)}(t),i=s.message;void 0===n&&(n=aZ.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),v=!0,x.Do(new a0(n,i)),h.close()}else aK(d5,`RPC '${e}' stream ${r} received:`,i),x.vo(i)}}),b(a,f.STAT_EVENT,t=>{t.stat===d.PROXY?aK(d5,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===d.NOPROXY&&aK(d5,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{x.bo()},0),x}constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}}function d9(){return"undefined"!=typeof window?window:null}function fe(){return"undefined"!=typeof document?document:null}function ft(e){return new cL(e,!0)}class fn{reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();let t=Math.floor(this.Uo+this.Ho()),n=Math.max(0,Date.now()-this.Go),r=Math.max(0,t-n);r>0&&aK("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,r,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){null!==this.Wo&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){null!==this.Wo&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}constructor(e,t,n=1e3,r=1.5,i=6e4){this.li=e,this.timerId=t,this.Qo=n,this.Ko=r,this.$o=i,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}}class fr{i_(){return 1===this.state||5===this.state||this.s_()}s_(){return 2===this.state||3===this.state}start(){this.n_=0,4!==this.state?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&null===this.e_&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,4!==e?this.r_.reset():t&&t.code===aZ.RESOURCE_EXHAUSTED?(aG(t.toString()),aG("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===aZ.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;let e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Xo===t&&this.I_(n,r)},t=>{e(()=>{let e=new a0(aZ.UNKNOWN,"Fetching auth token failed: "+t.message);return this.E_(e)})})}I_(e,t){let n=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{n(()=>this.listener.Ro())}),this.stream.mo(()=>{n(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(e=>{n(()=>this.E_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.n_?this.A_(e):this.onNext(e))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return aK("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(aK("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}constructor(e,t,n,r,i,s,a,o){this.li=e,this.Yo=n,this.Zo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new fn(e,t)}}class fi extends fr{d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();let t=function(e,t){let n;if("targetChange"in t){var r,i,s,a,o,l;t.targetChange;let u="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:aJ(),c=t.targetChange.targetIds||[],h=(i=e,s=t.targetChange.resumeToken,i.useProto3Json?(void 0===s||"string"==typeof s||aJ(),ly.fromBase64String(s||"")):(void 0===s||s instanceof Buffer||s instanceof Uint8Array||aJ(),ly.fromUint8Array(s||new Uint8Array))),d=t.targetChange.cause;n=new cT(u,c,h,d&&new a0(void 0===(l=d).code?aZ.UNKNOWN:cg(l.code),l.message||"")||null)}else if("documentChange"in t){t.documentChange;let r=t.documentChange;r.document,r.document.name,r.document.updateTime;let i=c$(e,r.document.name),s=cU(r.document.updateTime),a=r.document.createTime?cU(r.document.createTime):os.min(),o=new lQ({mapValue:{fields:r.document.fields}}),l=lJ.newFoundDocument(i,s,a,o),u=r.targetIds||[];n=new cE(u,r.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){t.documentDelete;let r=t.documentDelete;r.document;let i=c$(e,r.document),s=r.readTime?cU(r.readTime):os.min(),a=lJ.newNoDocument(i,s);n=new cE([],r.removedTargetIds||[],a.key,a)}else if("documentRemove"in t){t.documentRemove;let r=t.documentRemove;r.document;let i=c$(e,r.document);n=new cE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return aJ();{t.filter;let e=t.filter;e.targetId;let{count:r=0,unchangedNames:i}=e,s=new cp(r,i);n=new ck(e.targetId,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return os.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?os.min():t.readTime?cU(t.readTime):os.min()}(e);return this.listener.R_(t,n)}V_(e){let t={};t.database=cG(this.serializer),t.addTarget=function(e,t){let n;let r=t.target;if((n=uh(r)?{documents:cZ(e,r)}:{query:c0(e,r).ct}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=cV(e,t.resumeToken);let r=cM(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(os.min())>0){n.readTime=cF(e,t.snapshotVersion.toTimestamp());let r=cM(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);let n=function(e,t){let n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return aJ()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.c_(t)}m_(e){let t={};t.database=cG(this.serializer),t.removeTarget=e,this.c_(t)}constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}}class fs extends fr{get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){var t,n;return!e.streamToken&&aJ(),this.lastStreamToken=e.streamToken,e.writeResults&&0!==e.writeResults.length&&aJ(),this.listener.p_()}onNext(e){var t,n,r,i;e.streamToken||aJ(),this.lastStreamToken=e.streamToken,this.r_.reset();let s=(n=e.writeResults,r=e.commitTime,n&&n.length>0?(void 0!==r||aJ(),n.map(e=>{var t,n;let i;return t=e,n=r,(i=t.updateTime?cU(t.updateTime):cU(n)).isEqual(os.min())&&(i=cU(n)),new u3(i,t.transformResults||[])})):[]),a=cU(e.commitTime);return this.listener.y_(a,s)}w_(){let e={};e.database=cG(this.serializer),this.c_(e)}g_(e){let t={streamToken:this.lastStreamToken,writes:e.map(e=>cY(this.serializer,e))};this.c_(t)}constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}}class fa extends class{}{b_(){if(this.S_)throw new a0(aZ.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,n,r){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.Oo(e,cj(t,n),r,s,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===aZ.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new a0(aZ.UNKNOWN,e.toString())})}ko(e,t,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[a,o]=s;return this.connection.ko(e,cj(t,n),r,a,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===aZ.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new a0(aZ.UNKNOWN,e.toString())})}terminate(){this.S_=!0,this.connection.terminate()}constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.S_=!1}}class fo{F_(){0===this.D_&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){"Online"===this.state?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,"Online"===e&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(aG(t),this.C_=!1):aK("OnlineStateTracker",t)}N_(){null!==this.v_&&(this.v_.cancel(),this.v_=null)}constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}}class fl{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=i,this.Q_.uo(e=>{n.enqueueAndForget(async()=>{fy(this)&&(aK("RemoteStore","Restarting streams for network reachability change."),await async function(e){var t;e.k_.add(4),await fc(e),e.K_.set("Unknown"),e.k_.delete(4),await fu(e)}(this))})}),this.K_=new fo(n,r)}}async function fu(e){if(fy(e))for(let t of e.q_)await t(!0)}async function fc(e){for(let t of e.q_)await t(!1)}function fh(e,t){var n;e.B_.has(t.targetId)||(e.B_.set(t.targetId,t),fg(e)?fm(e):fO(e).s_()&&ff(e,t))}function fd(e,t){var n;let r=fO(e);e.B_.delete(t),r.s_()&&fp(e,t),0===e.B_.size&&(r.s_()?r.a_():fy(e)&&e.K_.set("Unknown"))}function ff(e,t){if(e.U_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(os.min())>0){let n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}fO(e).V_(t)}function fp(e,t){e.U_.xe(t),fO(e).m_(t)}function fm(e){e.U_=new cA({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.B_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),fO(e).start(),e.K_.F_()}function fg(e){return fy(e)&&!fO(e).i_()&&e.B_.size>0}function fy(e){var t;return 0===e.k_.size}function fv(e){e.U_=void 0}async function fx(e){e.K_.set("Online")}async function fb(e){e.B_.forEach((t,n)=>{ff(e,t)})}async function fw(e,t){e.U_=void 0,fg(e)?(e.K_.O_(t),fm(e)):e.K_.set("Unknown")}async function f_(e,t,n){if(e.K_.set("Online"),t instanceof cT&&2===t.state&&t.cause)try{await async function(e,t){let n=t.cause;for(let r of t.targetIds)e.B_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.B_.delete(r),e.U_.removeTarget(r))}(e,t)}catch(n){aK("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await fS(e,n)}else if(t instanceof cE?e.U_.$e(t):t instanceof ck?e.U_.Je(t):e.U_.Ge(t),!n.isEqual(os.min()))try{let t=await dL(e.localStore);n.compareTo(t)>=0&&await function(e,t){let n=e.U_.it(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){let i=e.B_.get(r);i&&e.B_.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{let r=e.B_.get(t);if(!r)return;e.B_.set(t,r.withResumeToken(ly.EMPTY_BYTE_STRING,r.snapshotVersion)),fp(e,t);let i=new c3(r.target,t,n,r.sequenceNumber);ff(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){aK("RemoteStore","Failed to raise snapshot:",t),await fS(e,t)}}async function fS(e,t,n){if(!oN(t))throw t;e.k_.add(1),await fc(e),e.K_.set("Offline"),n||(n=()=>dL(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{aK("RemoteStore","Retrying IndexedDB access"),await n(),e.k_.delete(1),await fu(e)})}function fI(e,t){return t().catch(n=>fS(e,n,t))}async function fE(e){var t;let n=fL(e),r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;function(e){return fy(e)&&e.L_.length<10}(e);)try{let t=await function(e,t){var n;return e.persistence.runTransaction("Get next mutation batch","readonly",n=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}(e.localStore,r);if(null===t){0===e.L_.length&&n.a_();break}r=t.batchId,function(e,t){e.L_.push(t);let n=fL(e);n.s_()&&n.f_&&n.g_(t.mutations)}(e,t)}catch(t){await fS(e,t)}fk(e)&&fT(e)}function fk(e){return fy(e)&&!fL(e).i_()&&e.L_.length>0}function fT(e){fL(e).start()}async function fC(e){fL(e).w_()}async function fA(e){let t=fL(e);for(let n of e.L_)t.g_(n.mutations)}async function fN(e,t,n){let r=e.L_.shift(),i=ch.from(r,t,n);await fI(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await fE(e)}async function fD(e,t){t&&fL(e).f_&&await async function(e,t){var n;if(cm(n=t.code)&&n!==aZ.ABORTED){let n=e.L_.shift();fL(e).__(),await fI(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await fE(e)}}(e,t),fk(e)&&fT(e)}async function fP(e,t){var n;e.asyncQueue.verifyOperationInProgress(),aK("RemoteStore","RemoteStore received new credentials");let r=fy(e);e.k_.add(3),await fc(e),r&&e.K_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.k_.delete(3),await fu(e)}async function fR(e,t){var n;t?(e.k_.delete(2),await fu(e)):t||(e.k_.add(2),await fc(e),e.K_.set("Unknown"))}function fO(e){var t,n,r,i;return e.W_||(e.W_=(t=e.datastore,n=e.asyncQueue,r={Ro:fx.bind(null,e),mo:fb.bind(null,e),po:fw.bind(null,e),R_:f_.bind(null,e)},t.b_(),new fi(n,t.connection,t.authCredentials,t.appCheckCredentials,t.serializer,r)),e.q_.push(async t=>{t?(e.W_.__(),fg(e)?fm(e):e.K_.set("Unknown")):(await e.W_.stop(),e.U_=void 0)})),e.W_}function fL(e){var t,n,r,i;return e.G_||(e.G_=(t=e.datastore,n=e.asyncQueue,r={Ro:()=>Promise.resolve(),mo:fC.bind(null,e),po:fD.bind(null,e),p_:fA.bind(null,e),y_:fN.bind(null,e)},t.b_(),new fs(n,t.connection,t.authCredentials,t.appCheckCredentials,t.serializer,r)),e.q_.push(async t=>{t?(e.G_.__(),await fE(e)):(await e.G_.stop(),e.L_.length>0&&(aK("RemoteStore",`Stopping write stream with ${e.L_.length} pending writes`),e.L_=[]))})),e.G_}class fM{get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){let s=new fM(e,t,Date.now()+n,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new a0(aZ.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new a1,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}}function fF(e,t){if(aG("AsyncQueue",`${t}: ${e}`),oN(e))return new a0(aZ.UNAVAILABLE,`${t}: ${e}`);throw e}class fV{static emptySet(e){return new fV(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof fV)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){let e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){let n=new fV;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}constructor(e){this.comparator=e?(t,n)=>e(t,n)||oc.comparator(t.key,n.key):(e,t)=>oc.comparator(e.key,t.key),this.keyedMap=uM(),this.sortedSet=new lu(this.comparator)}}class fU{track(e){let t=e.doc.key,n=this.z_.get(t);n?0!==e.type&&3===n.type?this.z_=this.z_.insert(t,e):3===e.type&&1!==n.type?this.z_=this.z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.z_=this.z_.remove(t):1===e.type&&2===n.type?this.z_=this.z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):aJ():this.z_=this.z_.insert(t,e)}j_(){let e=[];return this.z_.inorderTraversal((t,n)=>{e.push(n)}),e}constructor(){this.z_=new lu(oc.comparator)}}class fB{static fromInitialDocuments(e,t,n,r,i){let s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new fB(e,t,fV.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uk(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}}class fj{Y_(){return this.J_.some(e=>e.Z_())}constructor(){this.H_=void 0,this.J_=[]}}class fz{terminate(){!function(e,t){var n;let r=e.queries;e.queries=fq(),r.forEach((e,n)=>{for(let e of n.J_)e.onError(t)})}(this,new a0(aZ.ABORTED,"Firestore shutting down"))}constructor(){this.queries=fq(),this.onlineState="Unknown",this.X_=new Set}}function fq(){return new uP(e=>uT(e),uk)}async function f$(e,t){var n;let r=3,i=t.query,s=e.queries.get(i);s?!s.Y_()&&t.Z_()&&(r=2):(s=new fj,r=t.Z_()?0:1);try{switch(r){case 0:s.H_=await e.onListen(i,!0);break;case 1:s.H_=await e.onListen(i,!1);break;case 2:await e.onFirstRemoteStoreListen(i)}}catch(n){let e=fF(n,`Initialization of query '${uC(t.query)}' failed`);return void t.onError(e)}e.queries.set(i,s),s.J_.push(t),t.ea(e.onlineState),s.H_&&t.ta(s.H_)&&fW(e)}async function fH(e,t){var n;let r=t.query,i=3,s=e.queries.get(r);if(s){let e=s.J_.indexOf(t);e>=0&&(s.J_.splice(e,1),0===s.J_.length?i=t.Z_()?0:1:!s.Y_()&&t.Z_()&&(i=2))}switch(i){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function fK(e,t){var n;let r=!1;for(let n of t){let t=n.query,i=e.queries.get(t);if(i){for(let e of i.J_)e.ta(n)&&(r=!0);i.H_=n}}r&&fW(e)}function fG(e,t,n){var r;let i=e.queries.get(t);if(i)for(let e of i.J_)e.onError(n);e.queries.delete(t)}function fW(e){e.X_.forEach(e=>{e.next()})}(x=v||(v={})).na="default",x.Cache="cache";class fQ{ta(e){if(!this.options.includeMetadataChanges){let t=[];for(let n of e.docChanges)3!==n.type&&t.push(n);e=new fB(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){return!(e.fromCache&&this.Z_())||(!this.options.ua||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}oa(e){if(e.docChanges.length>0)return!0;let t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}aa(e){e=fB.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==v.Cache}constructor(e,t,n){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=n||{}}}class fJ{la(){return"metadata"in this.ca}constructor(e,t){this.ca=e,this.byteLength=t}}class fY{As(e){return c$(this.serializer,e)}Rs(e){return e.metadata.exists?cJ(this.serializer,e.document,!1):lJ.newNoDocument(this.As(e.metadata.name),this.Vs(e.metadata.readTime))}Vs(e){return cU(e)}constructor(e){this.serializer=e}}class fX{Pa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ca.namedQuery)this.queries.push(e.ca.namedQuery);else if(e.ca.documentMetadata){this.documents.push({metadata:e.ca.documentMetadata}),e.ca.documentMetadata.exists||++t;let n=oo.fromString(e.ca.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ca.document&&(this.documents[this.documents.length-1].document=e.ca.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ta(e){let t=new Map,n=new fY(this.serializer);for(let r of e)if(r.metadata.queries){let e=n.As(r.metadata.name);for(let n of r.metadata.queries){let r=(t.get(n)||uq()).add(e);t.set(n,r)}}return t}async complete(){let e=await dq(this.localStore,new fY(this.serializer),this.documents,this.ha.id),t=this.Ta(this.documents);for(let e of this.queries)await d$(this.localStore,e,t.get(e.name));return this.progress.taskState="Success",{progress:this.progress,Ia:this.collectionGroups,Ea:e}}constructor(e,t,n){this.ha=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=fZ(e)}}function fZ(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class f0{constructor(e){this.key=e}}class f1{constructor(e){this.key=e}}class f2{get fa(){return this.da}ga(e,t){let n=t?t.pa:new fU,r=t?t.ma:this.ma,i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1,o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{let u=r.get(e),c=uA(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations),f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.ya(u,c)||(n.track({type:2,doc:c}),f=!0,(o&&this.Va(c,o)>0||l&&0>this.Va(c,l))&&(a=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(o||l)&&(a=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){let e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ma:s,pa:n,ss:a,mutatedKeys:i}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){let i=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;let s=e.pa.j_();s.sort((e,t)=>(function(e,t){let n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return aJ()}};return n(e)-n(t)})(e.type,t.type)||this.Va(e.doc,t.doc)),this.wa(n),r=null!=r&&r;let a=t&&!r?this.Sa():[],o=0===this.Ra.size&&this.current&&!r?1:0,l=o!==this.Aa;return(this.Aa=o,0!==s.length||l)?{snapshot:new fB(this.query,e.ma,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ma:this.ma,pa:new fU,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(e=>this.da=this.da.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.da=this.da.delete(e)),this.current=e.current)}Sa(){if(!this.current)return[];let e=this.Ra;this.Ra=uq(),this.ma.forEach(e=>{this.Da(e.key)&&(this.Ra=this.Ra.add(e.key))});let t=[];return e.forEach(e=>{this.Ra.has(e)||t.push(new f1(e))}),this.Ra.forEach(n=>{e.has(n)||t.push(new f0(n))}),t}va(e){this.da=e.ds,this.Ra=uq();let t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return fB.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,0===this.Aa,this.hasCachedResults)}constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=uq(),this.mutatedKeys=uq(),this.Va=uD(e),this.ma=new fV(this.Va)}}class f4{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class f6{constructor(e){this.key=e,this.Fa=!1}}class f8{get isPrimaryClient(){return!0===this.$a}constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ma={},this.xa=new uP(e=>uT(e),uk),this.Oa=new Map,this.Na=new Set,this.La=new lu(oc.comparator),this.Ba=new Map,this.ka=new dd,this.qa={},this.Qa=new Map,this.Ka=hQ.Qn(),this.onlineState="Unknown",this.$a=void 0}}async function f3(e,t){let n,r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],i=pT(e),s=i.xa.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),n=s.view.Ca()):n=await f7(i,t,r,!0),n}async function f5(e,t){let n=pT(e);await f7(n,t,!0,!1)}async function f7(e,t,n,r){let i;let s=await dF(e.localStore,uw(t)),a=s.targetId,o=e.sharedClientState.addLocalQueryTarget(a,n);return r&&(i=await f9(e,t,a,"current"===o,s.resumeToken)),e.isPrimaryClient&&n&&fh(e.remoteStore,s),i}async function f9(e,t,n,r,i){e.Ua=(t,n,r)=>(async function(e,t,n,r){let i=t.view.ga(n);i.ss&&(i=await dU(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ga(n,i)}));let s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return pf(e,t.targetId,o.ba),o.snapshot})(e,t,n,r);let s=await dU(e.localStore,t,!0),a=new f2(t,s.ds),o=a.ga(s.documents),l=cI.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=a.applyChanges(o,e.isPrimaryClient,l);pf(e,n,u.ba);let c=new f4(t,n,a);return e.xa.set(t,c),e.Oa.has(n)?e.Oa.get(n).push(t):e.Oa.set(n,[t]),u.snapshot}async function pe(e,t,n){var r;let i=e.xa.get(t),s=e.Oa.get(i.targetId);if(s.length>1)return e.Oa.set(i.targetId,s.filter(e=>!uk(e,t))),void e.xa.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||await dV(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),n&&fd(e.remoteStore,i.targetId),ph(e,i.targetId)}).catch(oS)):(ph(e,i.targetId),await dV(e.localStore,i.targetId,!0))}async function pt(e,t){var n;let r=e.xa.get(t),i=e.Oa.get(r.targetId);e.isPrimaryClient&&1===i.length&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),fd(e.remoteStore,r.targetId))}async function pn(e,t,n){let r=pC(e);try{var i,s,a;let e,o=await function(e,t){var n;let r,i;let s=oi.now(),a=t.reduce((e,t)=>e.add(t.key),uq());return e.persistence.runTransaction("Locally write mutations","readwrite",n=>{let o=uR,l=uq();return e.hs.getEntries(n,a).next(e=>{(o=e).forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>e.localDocuments.getOverlayedDocuments(n,o)).next(i=>{r=i;let a=[];for(let e of t){let t=function(e,t){let n=null;for(let r of e.fieldTransforms){let e=t.data.field(r.field),i=uJ(r.transform,e||null);null!=i&&(null===n&&(n=lQ.empty()),n.set(r.field,i))}return n||null}(e,r.get(e.key).overlayedDocument);null!=t&&a.push(new ci(e.key,t,function e(t){let n=[];return la(t.fields,(t,r)=>{let i=new ou([t]);if(lz(r)){let t=e(r.mapValue).fields;if(0===t.length)n.push(i);else for(let e of t)n.push(i.child(e))}else n.push(i)}),new lm(n)}(t.value.mapValue),u5.exists(!0)))}return e.mutationQueue.addMutationBatch(n,s,a,t)}).next(t=>{i=t;let s=t.applyToLocalDocumentSet(r,l);return e.documentOverlayCache.saveOverlays(n,t.batchId,s)})}).then(()=>({batchId:i.batchId,changes:uF(r)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),i=r,s=o.batchId,a=n,(e=i.qa[i.currentUser.toKey()])||(e=new lu(ot)),e=e.insert(s,a),i.qa[i.currentUser.toKey()]=e,await pm(r,o.changes),await fE(r.remoteStore)}catch(t){let e=fF(t,"Failed to persist write");n.reject(e)}}async function pr(e,t){var n;try{let n=await function(e,t){var n;let r=t.snapshotVersion,i=e.us;return e.persistence.runTransaction("Apply remote event","readwrite-primary",n=>{let s=e.hs.newChangeBuffer({trackRemovals:!0});i=e.us;let a=[];t.targetChanges.forEach((s,o)=>{var l,u,c;let h=i.get(o);if(!h)return;a.push(e.Gr.removeMatchingKeys(n,s.removedDocuments,o).next(()=>e.Gr.addMatchingKeys(n,s.addedDocuments,o)));let d=h.withSequenceNumber(n.currentSequenceNumber);null!==t.targetMismatches.get(o)?d=d.withResumeToken(ly.EMPTY_BYTE_STRING,os.min()).withLastLimboFreeSnapshotVersion(os.min()):s.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(s.resumeToken,r)),i=i.insert(o,d),l=h,u=d,c=s,(0===l.resumeToken.approximateByteSize()||u.snapshotVersion.toMicroseconds()-l.snapshotVersion.toMicroseconds()>=3e8||c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size>0)&&a.push(e.Gr.updateTargetData(n,d))});let o=uR,l=uq();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(n,r))}),a.push(dM(n,s,t.documentUpdates).next(e=>{o=e.Is,l=e.Es})),!r.isEqual(os.min())){let t=e.Gr.getLastRemoteSnapshotVersion(n).next(t=>e.Gr.setTargetsMetadata(n,n.currentSequenceNumber,r));a.push(t)}return oI.waitFor(a).next(()=>s.apply(n)).next(()=>e.localDocuments.getLocalViewOfDocuments(n,o,l)).next(()=>o)}).then(t=>(e.us=i,t))}(e.localStore,t);t.targetChanges.forEach((t,n)=>{var r,i,s;let a=e.Ba.get(n);a&&(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1||aJ(),t.addedDocuments.size>0?a.Fa=!0:t.modifiedDocuments.size>0?a.Fa||aJ():t.removedDocuments.size>0&&(a.Fa||aJ(),a.Fa=!1))}),await pm(e,n,t)}catch(e){await oS(e)}}function pi(e,t,n){var r,i,s,a;if(e.isPrimaryClient&&0===n||!e.isPrimaryClient&&1===n){;let n,r=[];e.xa.forEach((e,n)=>{let i=n.view.ea(t);i.snapshot&&r.push(i.snapshot)}),i=e.eventManager,s=t,i.onlineState=s,n=!1,i.queries.forEach((e,t)=>{for(let e of t.J_)e.ea(s)&&(n=!0)}),n&&fW(i),r.length&&e.Ma.R_(r),e.onlineState=t,e.isPrimaryClient&&e.sharedClientState.setOnlineState(t)}}async function ps(e,t,n){var r;e.sharedClientState.updateQueryState(t,"rejected",n);let i=e.Ba.get(t),s=i&&i.key;if(s){let n=new lu(oc.comparator);n=n.insert(s,lJ.newNoDocument(s,os.min()));let r=uq().add(s),i=new cS(os.min(),new Map,new lu(ot),n,r);await pr(e,i),e.La=e.La.remove(s),e.Ba.delete(t),pp(e)}else await dV(e.localStore,t,!1).then(()=>ph(e,t,n)).catch(oS)}async function pa(e,t){var n,r,i,s;let a=t.batch.batchId;try{;let n=await (r=e.localStore,i=t,r.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{let t=i.batch.keys(),n=r.hs.newChangeBuffer({trackRemovals:!0});return(function(e,t,n,r){let i=n.batch,s=i.keys(),a=oI.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{var s;let a=n.docVersions.get(e);null!==a||aJ(),0>t.version.compareTo(a)&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))})(r,e,i,n).next(()=>n.apply(e)).next(()=>r.mutationQueue.performConsistencyCheck(e)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(e,t,i.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=uq();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(i))).next(()=>r.localDocuments.getDocuments(e,t))}));pc(e,a,null),pu(e,a),e.sharedClientState.updateMutationState(a,"acknowledged"),await pm(e,n)}catch(e){await oS(e)}}async function po(e,t,n){var r,i,s,a;try{;let r=await (i=e.localStore,s=t,i.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let t;return i.mutationQueue.lookupMutationBatch(e,s).next(n=>{var r;return null!==n||aJ(),t=n.keys(),i.mutationQueue.removeMutationBatch(e,n)}).next(()=>i.mutationQueue.performConsistencyCheck(e)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(e,t,s)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,t)).next(()=>i.localDocuments.getDocuments(e,t))}));pc(e,t,n),pu(e,t),e.sharedClientState.updateMutationState(t,"rejected",n),await pm(e,r)}catch(e){await oS(e)}}async function pl(e,t){var n,r,i;fy(e.remoteStore)||aK("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{;let n=await (r=e.localStore).persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>r.mutationQueue.getHighestUnacknowledgedBatchId(e));if(-1===n)return void t.resolve();let i=e.Qa.get(n)||[];i.push(t),e.Qa.set(n,i)}catch(n){let e=fF(n,"Initialization of waitForPendingWrites() operation failed");t.reject(e)}}function pu(e,t){(e.Qa.get(t)||[]).forEach(e=>{e.resolve()}),e.Qa.delete(t)}function pc(e,t,n){var r;let i=e.qa[e.currentUser.toKey()];if(i){let r=i.get(t);r&&(n?r.reject(n):r.resolve(),i=i.remove(t)),e.qa[e.currentUser.toKey()]=i}}function ph(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;for(let r of(e.sharedClientState.removeLocalQueryTarget(t),e.Oa.get(t)))e.xa.delete(r),n&&e.Ma.Wa(r,n);e.Oa.delete(t),e.isPrimaryClient&&e.ka.yr(t).forEach(t=>{e.ka.containsKey(t)||pd(e,t)})}function pd(e,t){e.Na.delete(t.path.canonicalString());let n=e.La.get(t);null!==n&&(fd(e.remoteStore,n),e.La=e.La.remove(t),e.Ba.delete(n),pp(e))}function pf(e,t,n){for(let r of n)r instanceof f0?(e.ka.addReference(r.key,t),function(e,t){let n=t.key,r=n.path.canonicalString();e.La.get(n)||e.Na.has(r)||(aK("SyncEngine","New document in limbo: "+n),e.Na.add(r),pp(e))}(e,r)):r instanceof f1?(aK("SyncEngine","Document no longer in limbo: "+r.key),e.ka.removeReference(r.key,t),e.ka.containsKey(r.key)||pd(e,r.key)):aJ()}function pp(e){for(;e.Na.size>0&&e.La.size<e.maxConcurrentLimboResolutions;){let t=e.Na.values().next().value;e.Na.delete(t);let n=new oc(oo.fromString(t)),r=e.Ka.next();e.Ba.set(r,new f6(n)),e.La=e.La.insert(n,r),fh(e.remoteStore,new c3(uw(uy(n.path)),r,"TargetPurposeLimboResolution",oF.oe))}}async function pm(e,t,n){var r;let i=[],s=[],a=[];e.xa.isEmpty()||(e.xa.forEach((r,o)=>{a.push(e.Ua(o,t,n).then(t=>{var r;if((t||n)&&e.isPrimaryClient){let i=t?!t.fromCache:null===(r=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===r?void 0:r.current;e.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(t){i.push(t);let e=dA.zi(o.targetId,t);s.push(e)}}))}),await Promise.all(a),e.Ma.R_(i),await async function(e,t){var n;try{await e.persistence.runTransaction("notifyLocalViewChanges","readwrite",n=>oI.forEach(t,t=>oI.forEach(t.Wi,r=>e.persistence.referenceDelegate.addReference(n,t.targetId,r)).next(()=>oI.forEach(t.Gi,r=>e.persistence.referenceDelegate.removeReference(n,t.targetId,r)))))}catch(e){if(!oN(e))throw e;aK("LocalStore","Failed to update sequence numbers: "+e)}for(let n of t){let t=n.targetId;if(!n.fromCache){let n=e.us.get(t),r=n.snapshotVersion,i=n.withLastLimboFreeSnapshotVersion(r);e.us=e.us.insert(t,i)}}}(e.localStore,s))}async function pg(e,t){var n,r,i;if(!e.currentUser.isEqual(t)){;aK("SyncEngine","User change. New user:",t.toKey());let n=await dO(e.localStore,t);e.currentUser=t,i="'waitForPendingWrites' promise is rejected due to a user change.",(r=e).Qa.forEach(e=>{e.forEach(e=>{e.reject(new a0(aZ.CANCELLED,i))})}),r.Qa.clear(),e.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await pm(e,n.Ts)}}function py(e,t){var n;let r=e.Ba.get(t);if(r&&r.Fa)return uq().add(r.key);{let n=uq(),r=e.Oa.get(t);if(!r)return n;for(let t of r){let r=e.xa.get(t);n=n.unionWith(r.view.fa)}return n}}async function pv(e,t){var n;let r=await dU(e.localStore,t.query,!0),i=t.view.va(r);return e.isPrimaryClient&&pf(e,t.targetId,i.ba),i}async function px(e,t){var n;return dj(e.localStore,t).then(t=>pm(e,t))}async function pb(e,t,n,r){var i;let s=await function(e,t){var n,r;let i=e.mutationQueue;return e.persistence.runTransaction("Lookup mutation documents","readonly",n=>i.On(n,t).next(t=>t?e.localDocuments.getDocuments(n,t):oI.resolve(null)))}(e.localStore,t);null!==s?("pending"===n?await fE(e.remoteStore):"acknowledged"===n||"rejected"===n?(pc(e,t,r||null),pu(e,t),function(e,t){var n,r;e.mutationQueue.Ln(t)}(e.localStore,t)):aJ(),await pm(e,s)):aK("SyncEngine","Cannot apply mutation batch with id: "+t)}async function pw(e,t){var n,r,i;if(pT(e),pC(e),!0===t&&!0!==e.$a){let t=e.sharedClientState.getAllActiveQueryTargets(),n=await p_(e,t.toArray());for(let t of(e.$a=!0,await fR(e.remoteStore,!0),n))fh(e.remoteStore,t)}else if(!1===t&&!1!==e.$a){;let t=[],n=Promise.resolve();e.Oa.forEach((r,i)=>{e.sharedClientState.isLocalQueryTarget(i)?t.push(i):n=n.then(()=>(ph(e,i),dV(e.localStore,i,!0))),fd(e.remoteStore,i)}),await n,await p_(e,t),(r=e).Ba.forEach((e,t)=>{fd(r.remoteStore,t)}),r.ka.wr(),r.Ba=new Map,r.La=new lu(oc.comparator),e.$a=!1,await fR(e.remoteStore,!1)}}async function p_(e,t,n){var r;let i=[],s=[];for(let n of t){let t;let r=e.Oa.get(n);if(r&&0!==r.length)for(let n of(t=await dF(e.localStore,uw(r[0])),r)){let t=e.xa.get(n),r=await pv(e,t);r.snapshot&&s.push(r.snapshot)}else{let r=await dB(e.localStore,n);t=await dF(e.localStore,r),await f9(e,pS(r),n,!1,t.resumeToken)}i.push(t)}return e.Ma.R_(s),i}function pS(e){var t,n,r,i,s,a,o;return t=e.path,n=e.collectionGroup,r=e.orderBy,i=e.filters,s=e.limit,a="F",o=e.startAt,new um(t,n,r,i,s,"F",o,e.endAt)}function pI(e){var t,n,r;return e.localStore.persistence.$i()}async function pE(e,t,n,r){var i;if(e.$a)return void aK("SyncEngine","Ignoring unexpected query state notification.");let s=e.Oa.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{let r=await dj(e.localStore,uN(s[0])),i=cS.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,ly.EMPTY_BYTE_STRING);await pm(e,r,i);break}case"rejected":await dV(e.localStore,t,!0),ph(e,t,r);break;default:aJ()}}async function pk(e,t,n){let r=pT(e);if(r.$a){for(let e of t){if(r.Oa.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){aK("SyncEngine","Adding an already active target "+e);continue}let t=await dB(r.localStore,e),n=await dF(r.localStore,t);await f9(r,pS(t),n.targetId,!1,n.resumeToken),fh(r.remoteStore,n)}for(let e of n)r.Oa.has(e)&&await dV(r.localStore,e,!1).then(()=>{fd(r.remoteStore,e),ph(r,e)}).catch(oS)}}function pT(e){var t;return e.remoteStore.remoteSyncer.applyRemoteEvent=pr.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=py.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ps.bind(null,e),e.Ma.R_=fK.bind(null,e.eventManager),e.Ma.Wa=fG.bind(null,e.eventManager),e}function pC(e){var t;return e.remoteStore.remoteSyncer.applySuccessfulWrite=pa.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=po.bind(null,e),e}class pA{async initialize(e){this.serializer=ft(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){var t,n,r;return t=this.persistence,n=new dD,r=e.initialUser,new dP(t,n,r,this.serializer)}ja(e){return new dv(db.ei,this.serializer)}za(e){return new d0}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}constructor(){this.kind="memory",this.synchronizeTabs=!1}}pA.provider={build:()=>new pA};class pN extends pA{Ja(e,t){var n;return this.persistence.referenceDelegate instanceof dw||aJ(),new h2(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}ja(e){let t=void 0!==this.cacheSizeBytes?hj.withCacheSize(this.cacheSizeBytes):hj.DEFAULT;return new dv(e=>dw.ei(e,t),this.serializer)}constructor(e){super(),this.cacheSizeBytes=e}}class pD extends pA{async initialize(e){await super.initialize(e),await this.Za.initialize(this,e),await pC(this.Za.syncEngine),await fE(this.Za.remoteStore),await this.persistence.Si(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Ha(e){var t,n,r;return t=this.persistence,n=new dD,r=e.initialUser,new dP(t,n,r,this.serializer)}Ja(e,t){return new h2(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ya(e,t){let n=new oM(t,this.persistence);return new oL(e.asyncQueue,n)}ja(e){let t=dC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?hj.withCacheSize(this.cacheSizeBytes):hj.DEFAULT;return new dE(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,d9(),fe(),this.serializer,this.sharedClientState,!!this.forceOwnership)}za(e){return new d0}constructor(e,t,n){super(),this.Za=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}}class pP extends pD{async initialize(e){await super.initialize(e);let t=this.Za.syncEngine;this.sharedClientState instanceof dZ&&(this.sharedClientState.syncEngine={io:pb.bind(null,t),so:pE.bind(null,t),oo:pk.bind(null,t),$i:pI.bind(null,t),ro:px.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Si(async e=>{await pw(this.Za.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())})}za(e){let t=d9();if(!dZ.p(t))throw new a0(aZ.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let n=dC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new dZ(t,e.asyncQueue,n,e.clientId,e.initialUser)}constructor(e,t){super(e,t,!1),this.Za=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}}class pR{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>pi(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=pg.bind(null,this.syncEngine),await fR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new fz}createDatastore(e){var t,n;let r=ft(e.databaseInfo.databaseId),i=new d7(e.databaseInfo);return t=e.authCredentials,n=e.appCheckCredentials,new fa(t,n,i,r)}createRemoteStore(e){var t,n,r;return t=this.localStore,n=this.datastore,r=e.asyncQueue,new fl(t,n,r,e=>pi(this.syncEngine,e,0),d2.p()?new d2:new d1)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){let o=new f8(e,t,n,r,i,s);return a&&(o.$a=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){var t;aK("RemoteStore","RemoteStore shutting down."),e.k_.add(5),await fc(e),e.Q_.shutdown(),e.K_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}function pO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){let r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}pR.provider={build:()=>new pR};class pL{next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):aG("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}constructor(e){this.observer=e,this.muted=!1}}class pM{close(){return this.tu.cancel()}async getMetadata(){return this.metadata.promise}async Ga(){return await this.getMetadata(),this.ru()}async ru(){let e=await this.iu();if(null===e)return null;let t=this.nu.decode(e),n=Number(t);return isNaN(n)&&this.su(`length string (${t}) is not valid number`),new fJ(JSON.parse(await this.ou(n)),e.length+n)}_u(){return this.buffer.findIndex(e=>123===e)}async iu(){for(;0>this._u()&&!await this.au(););if(0===this.buffer.length)return null;let e=this._u();e<0&&this.su("Reached the end of bundle when a length string is expected.");let t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async ou(e){for(;this.buffer.length<e;)await this.au()&&this.su("Reached the end of bundle when more is expected.");let t=this.nu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}su(e){throw this.tu.cancel(),Error(`Invalid bundle format: ${e}`)}async au(){let e=await this.tu.read();if(!e.done){let t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}constructor(e,t){this.tu=e,this.serializer=t,this.metadata=new a1,this.buffer=new Uint8Array,this.nu=new TextDecoder("utf-8"),this.ru().then(e=>{e&&e.la()?this.metadata.resolve(e.ca.metadata):this.metadata.reject(Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(null==e?void 0:e.ca)}`))},e=>this.metadata.reject(e))}}class pF{async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new a0(aZ.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let t=await async function(e,t){var n;let r={documents:t.map(t=>cq(e.serializer,t))},i=await e.ko("BatchGetDocuments",e.serializer.databaseId,oo.emptyPath(),r,t.length),s=new Map;i.forEach(t=>{var n,r;let i=(n=e.serializer,"found"in(r=t)?function(e,t){var n;t.found||aJ(),t.found.name,t.found.updateTime;let r=c$(e,t.found.name),i=cU(t.found.updateTime),s=t.found.createTime?cU(t.found.createTime):os.min(),a=new lQ({mapValue:{fields:t.found.fields}});return lJ.newFoundDocument(r,i,s,a)}(n,r):"missing"in r?function(e,t){var n,r;t.missing||aJ(),!t.readTime&&aJ();let i=c$(e,t.missing),s=cU(t.readTime);return lJ.newNoDocument(i,s)}(n,r):aJ());s.set(i.key.toString(),i)});let a=[];return t.forEach(e=>{var t;let n=s.get(e.toString());n||aJ(),a.push(n)}),a}(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new cl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{let n=oc.fromPath(t);this.mutations.push(new cu(n,this.precondition(n)))}),await async function(e,t){var n;let r={writes:t.map(t=>cY(e.serializer,t))};await e.Oo("Commit",e.serializer.databaseId,oo.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw aJ();t=os.min()}let n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new a0(aZ.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){let t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(os.min())?u5.exists(!1):u5.updateTime(t):u5.none()}preconditionForUpdate(e){let t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(os.min()))throw new a0(aZ.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return u5.updateTime(t)}return u5.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}}class pV{cu(){this.uu-=1,this.lu()}lu(){this.r_.jo(async()=>{let e=new pF(this.datastore),t=this.hu(e);t&&t.then(t=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(t)}).catch(e=>{this.Pu(e)}))}).catch(e=>{this.Pu(e)})})}hu(e){try{let t=this.updateFunction(e);return!oV(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Pu(e){this.uu>0&&this.Tu(e)?(this.uu-=1,this.asyncQueue.enqueueAndForget(()=>(this.lu(),Promise.resolve()))):this.deferred.reject(e)}Tu(e){if("FirebaseError"===e.name){let t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!cm(t)}return!1}constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.uu=n.maxAttempts,this.r_=new fn(this.asyncQueue,"transaction_retry")}}class pU{get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new a1;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let t=fF(n,"Failed to shutdown persistence");e.reject(t)}}),e.promise}constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=az.UNAUTHENTICATED,this.clientId=oe.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{aK("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(aK("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}}async function pB(e,t){e.asyncQueue.verifyOperationInProgress(),aK("FirestoreClient","Initializing OfflineComponentProvider");let n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await dO(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function pj(e,t){e.asyncQueue.verifyOperationInProgress();let n=await pz(e);aK("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>fP(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>fP(t.remoteStore,n)),e._onlineComponents=t}async function pz(e){if(!e._offlineComponents){if(e._uninitializedComponentsProvider){aK("FirestoreClient","Using user provided OfflineComponentProvider");try{await pB(e,e._uninitializedComponentsProvider._offline)}catch(n){var t;if(!("FirebaseError"===(t=n).name?t.code===aZ.FAILED_PRECONDITION||t.code===aZ.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code))throw n;aW("Error using user provided cache. Falling back to memory cache: "+n),await pB(e,new pA)}}else aK("FirestoreClient","Using default OfflineComponentProvider"),await pB(e,new pN(void 0))}return e._offlineComponents}async function pq(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(aK("FirestoreClient","Using user provided OnlineComponentProvider"),await pj(e,e._uninitializedComponentsProvider._online)):(aK("FirestoreClient","Using default OnlineComponentProvider"),await pj(e,new pR))),e._onlineComponents}function p$(e){return pz(e).then(e=>e.persistence)}function pH(e){return pz(e).then(e=>e.localStore)}function pK(e){return pq(e).then(e=>e.remoteStore)}function pG(e){return pq(e).then(e=>e.syncEngine)}function pW(e){return pq(e).then(e=>e.datastore)}async function pQ(e){let t=await pq(e),n=t.eventManager;return n.onListen=f3.bind(null,t.syncEngine),n.onUnlisten=pe.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=f5.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=pt.bind(null,t.syncEngine),n}function pJ(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new a1;return e.asyncQueue.enqueueAndForget(async()=>(function(e,t,n,r,i){let s=new pL({next:o=>{s.eu(),t.enqueueAndForget(()=>fH(e,a));let l=o.docs.has(n);!l&&o.fromCache?i.reject(new a0(aZ.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new a0(aZ.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new fQ(uy(n.path),s,{includeMetadataChanges:!0,ua:!0});return f$(e,a)})(await pQ(e),e.asyncQueue,t,n,r)),r.promise}function pY(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new a1;return e.asyncQueue.enqueueAndForget(async()=>(function(e,t,n,r,i){let s=new pL({next:n=>{s.eu(),t.enqueueAndForget(()=>fH(e,a)),n.fromCache&&"server"===r.source?i.reject(new a0(aZ.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new fQ(n,s,{includeMetadataChanges:!0,ua:!0});return f$(e,a)})(await pQ(e),e.asyncQueue,t,n,r)),r.promise}function pX(e){let t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}let pZ=new Map;function p0(e,t,n){if(!n)throw new a0(aZ.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function p1(e){if(!oc.isDocumentKey(e))throw new a0(aZ.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function p2(e){if(oc.isDocumentKey(e))throw new a0(aZ.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function p4(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{var t;let n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}return"function"==typeof e?"a function":aJ()}function p6(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new a0(aZ.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=p4(e);throw new a0(aZ.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function p8(e,t){if(t<=0)throw new a0(aZ.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class p3{isEqual(e){var t,n;return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new a0(aZ.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=0x2800000;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new a0(aZ.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new a0(aZ.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pX(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new a0(aZ.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new a0(aZ.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new a0(aZ.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}}class p5{get app(){if(!this._app)throw new a0(aZ.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new a0(aZ.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p3(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new a4;switch(e.type){case"firstParty":return new a5(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new a0(aZ.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let t=pZ.get(e);t&&(aK("ComponentProvider","Removing Datastore"),pZ.delete(e),t.terminate())}(this),Promise.resolve()}constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p3({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}}class p7{withConverter(e){return new p7(this.firestore,e,this._query)}constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}}class p9{get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new me(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new p9(this.firestore,e,this._key)}constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}}class me extends p7{get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new p9(this.firestore,null,new oc(e))}withConverter(e){return new me(this.firestore,e,this._path)}constructor(e,t,n){super(e,t,uy(n)),this._path=n,this.type="collection"}}function mt(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=tH(e),1==arguments.length&&(t=oe.newId()),p0("doc","path",t),e instanceof p5){let n=oo.fromString(t,...r);return p1(n),new p9(e,null,new oc(n))}{if(!(e instanceof p9||e instanceof me))throw new a0(aZ.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=e._path.child(oo.fromString(t,...r));return p1(n),new p9(e.firestore,e instanceof me?e.converter:null,new oc(n))}}function mn(e,t){return e=getModularInstance(e),t=getModularInstance(t),e instanceof p7&&t instanceof p7&&e.firestore===t.firestore&&uk(e._query,t._query)&&e.converter===t.converter}class mr{get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;let t=fe();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});let t=new a1;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(0!==this.Iu.length){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!oN(e))throw e;aK("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){let t=this.gu.then(()=>(this.Ru=!0,e().catch(e=>{var t;let n;this.Au=e,this.Ru=!1;throw aG("INTERNAL UNHANDLED ERROR: ",(n=(t=e).message||"",t.stack&&(n=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),n)),e}).then(e=>(this.Ru=!1,e))));return this.gu=t,t}enqueueAfterDelay(e,t,n){this.pu(),this.mu.indexOf(e)>-1&&(t=0);let r=fM.createAndSchedule(this,e,t,n,e=>this.Su(e));return this.du.push(r),r}pu(){this.Au&&aJ()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(let t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{for(let t of(this.du.sort((e,t)=>e.targetTimeMs-t.targetTimeMs),this.du))if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){let t=this.du.indexOf(e);this.du.splice(t,1)}constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new fn(this,"async_queue_retry"),this.fu=()=>{let e=fe();e&&aK("AsyncQueue","Visibility state changed to "+e.visibilityState),this.r_.Jo()},this.gu=e;let t=fe();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.fu)}}function mi(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(let n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])}class ms{onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}constructor(){this._progressObserver={},this._taskCompletionResolver=new a1,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}}class ma extends p5{async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new mr(e),this._firestoreClient=void 0,await e}}constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new mr,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}}function mo(e,t){let n=ng("object"==typeof e?e:nS(),"firestore").getImmediate({identifier:"string"==typeof e?e:t||"(default)"});if(!n._initialized){let e=tT("firestore");e&&function(e,t,n){var r;let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=(e=p6(e,p5))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&aW("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),i.mockUserToken){let t,n;if("string"==typeof i.mockUserToken)t=i.mockUserToken,n=az.MOCK_USER;else{t=function(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[tb(JSON.stringify({alg:"none",type:"JWT"})),tb(JSON.stringify(s)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);let s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new a0(aZ.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new az(s)}e._authCredentials=new a6(new a2(t,n))}}(n,...e)}return n}function ml(e){if(e._terminated)throw new a0(aZ.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||mu(e),e._firestoreClient}function mu(e){var t,n,r,i,s,a,o;let l=e._freezeSettings(),u=(i=e._databaseId,s=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",a=e._persistenceKey,new lE(i,s,a,(o=l).host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,pX(o.experimentalLongPollingOptions),o.useFetchStreams));e._componentsProvider||(null===(n=l.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=l.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),e._firestoreClient=new pU(e._authCredentials,e._appCheckCredentials,e._queue,u,e._componentsProvider&&function(e){let t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}function mc(e,t,n){if((e=p6(e,ma))._firestoreClient||e._terminated)throw new a0(aZ.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(e._componentsProvider||e._getSettings().localCache)throw new a0(aZ.FAILED_PRECONDITION,"SDK cache is already specified.");e._componentsProvider={_online:t,_offline:n},mu(e)}class mh{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class md{data(){return this._userDataWriter.convertObjectMap(this._data)}constructor(e,t,n){this._userDataWriter=t,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}}class mf{static fromBase64String(e){try{return new mf(ly.fromBase64String(e))}catch(e){throw new a0(aZ.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new mf(ly.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}constructor(e){this._byteString=e}}class mp{isEqual(e){return this._internalPath.isEqual(e._internalPath)}constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new a0(aZ.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ou(e)}}class mm{constructor(e){this._methodName=e}}class mg{get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new a0(aZ.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new a0(aZ.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}}class my{toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}constructor(e){this._values=(e||[]).map(e=>e)}}let mv=/^__.*__$/;class mx{toMutation(e,t){return null!==this.fieldMask?new ci(e,this.data,this.fieldMask,t,this.fieldTransforms):new cr(e,this.data,t,this.fieldTransforms)}constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}}class mb{toMutation(e,t){return new ci(e,this.data,this.fieldMask,t,this.fieldTransforms)}constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}}function mw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw aJ()}}class m_{get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new m_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;let n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xu({path:n,Nu:!1});return r.Lu(e),r}Bu(e){var t;let n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xu({path:n,Nu:!1});return r.Fu(),r}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return mz(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(0===e.length)throw this.qu("Document fields must not be empty");if(mw(this.Mu)&&mv.test(e))throw this.qu('Document fields cannot begin and end with "__"')}constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Fu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}}class mS{$u(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new m_({Mu:e,methodName:t,Ku:n,path:ou.emptyPath(),Nu:!1,Qu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||ft(e)}}function mI(e){let t=e._freezeSettings(),n=ft(e._databaseId);return new mS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function mE(e,t,n,r,i){let s,a,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},l=e.$u(o.merge||o.mergeFields?2:0,t,n,i);mV("Data must be an object, but it was:",l,r);let u=mM(r,l);if(o.merge)s=new lm(l.fieldMask),a=l.fieldTransforms;else if(o.mergeFields){let e=[];for(let r of o.mergeFields){let i=mU(t,r,n);if(!l.contains(i))throw new a0(aZ.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);mq(e,i)||e.push(i)}s=new lm(e),a=l.fieldTransforms.filter(e=>s.covers(e.field))}else s=null,a=l.fieldTransforms;return new mx(new lQ(u),s,a)}class mk extends mm{_toFieldTransform(e){if(2!==e.Mu)throw 1===e.Mu?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mk}}function mT(e,t,n){return new m_({Mu:3,Ku:t.settings.Ku,methodName:e._methodName,Nu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class mC extends null{_toFieldTransform(e){return new u8(e.path,new uY)}isEqual(e){return e instanceof mC}}class mA extends mm{_toFieldTransform(e){let t=mT(this,e,!0),n=new uX(this.Uu.map(e=>mL(e,t)));return new u8(e.path,n)}isEqual(e){return e instanceof mA&&tF(this.Uu,e.Uu)}constructor(e,t){super(e),this.Uu=t}}class mN extends mm{_toFieldTransform(e){let t=mT(this,e,!0),n=new u0(this.Uu.map(e=>mL(e,t)));return new u8(e.path,n)}isEqual(e){return e instanceof mN&&tF(this.Uu,e.Uu)}constructor(e,t){super(e),this.Uu=t}}class mD extends mm{_toFieldTransform(e){let t=new u2(e.serializer,uW(e.serializer,this.Wu));return new u8(e.path,t)}isEqual(e){return e instanceof mD&&this.Wu===e.Wu}constructor(e,t){super(e),this.Wu=t}}function mP(e,t,n,r){let i=e.$u(1,t,n);mV("Data must be an object, but it was:",i,r);let s=[],a=lQ.empty();return la(r,(e,r)=>{let o=mj(t,e,n);r=tH(r);let l=i.Bu(o);if(r instanceof mk)s.push(o);else{let e=mL(r,l);null!=e&&(s.push(o),a.set(o,e))}}),new mb(a,new lm(s),i.fieldTransforms)}function mR(e,t,n,r,i,s){let a=e.$u(1,t,n),o=[mU(t,r,n)],l=[i];if(s.length%2!=0)throw new a0(aZ.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)o.push(mU(t,s[e])),l.push(s[e+1]);let u=[],c=lQ.empty();for(let e=o.length-1;e>=0;--e)if(!mq(u,o[e])){let t=o[e],n=l[e];n=tH(n);let r=a.Bu(t);if(n instanceof mk)u.push(t);else{let e=mL(n,r);null!=e&&(u.push(t),c.set(t,e))}}return new mb(c,new lm(u),a.fieldTransforms)}function mO(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return mL(n,e.$u(r?4:3,t))}function mL(e,t){if(mF(e=tH(e)))return mV("Unsupported field value:",t,e),mM(e,t);if(e instanceof mm)return function(e,t){if(!mw(t.Mu))throw t.qu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.qu(`${e._methodName}() is not currently supported inside arrays`);let n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Nu&&4!==t.Mu)throw t.qu("Nested arrays are not supported");return function(e,t){let n=[],r=0;for(let i of e){let e=mL(i,t.ku(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=tH(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return uW(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){let n=oi.fromDate(e);return{timestampValue:cF(t.serializer,n)}}if(e instanceof oi){let n=new oi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:cF(t.serializer,n)}}if(e instanceof mg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof mf)return{bytesValue:cV(t.serializer,e._byteString)};if(e instanceof p9){let n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.qu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:cB(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof my){var n,r;return n=e,r=t,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:n.toArray().map(e=>{if("number"!=typeof e)throw r.qu("VectorValues must only contain numeric values.");return uK(r.serializer,e)})}}}}}}throw t.qu(`Unsupported field value: ${p4(e)}`)}(e,t)}function mM(e,t){let n={};return ll(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):la(e,(e,r)=>{let i=mL(r,t.Ou(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function mF(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof oi||e instanceof mg||e instanceof mf||e instanceof p9||e instanceof mm||e instanceof my)}function mV(e,t,n){var r;if(!mF(n)||!("object"==typeof(r=n)&&null!==r&&(Object.getPrototypeOf(r)===Object.prototype||null===Object.getPrototypeOf(r)))){let r=p4(n);throw"an object"===r?t.qu(e+" a custom object"):t.qu(e+" "+r)}}function mU(e,t,n){if((t=tH(t))instanceof mp)return t._internalPath;if("string"==typeof t)return mj(e,t);throw mz("Field path arguments must be of type string or ",e,!1,void 0,n)}let mB=RegExp("[~\\*/\\[\\]]");function mj(e,t,n){if(t.search(mB)>=0)throw mz(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new mp(...t.split("."))._internalPath}catch(r){throw mz(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function mz(e,t,n,r,i){let s=r&&!r.isEmpty(),a=void 0!==i,o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new a0(aZ.INVALID_ARGUMENT,o+e+l)}function mq(e,t){return e.some(e=>e.isEqual(t))}class m${get id(){return this._key.path.lastSegment()}get ref(){return new p9(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){let e=new mH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(mK("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}}class mH extends m${data(){return super.data()}}function mK(e,t){return"string"==typeof t?mj(e,t):t instanceof mp?t._internalPath:t._delegate._internalPath}function mG(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new a0(aZ.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mW{}class mQ extends mW{}class mJ extends mQ{static _create(e,t,n){return new mJ(e,t,n)}_apply(e){let t=this._parse(e);return m8(e._query,t),new p7(e.firestore,e.converter,uI(e._query,t))}_parse(e){let t=mI(e.firestore);return function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new a0(aZ.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){m6(a,s);let t=[];for(let n of a)t.push(m4(r,e,n));o={arrayValue:{values:t}}}else o=m4(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||m6(a,s),o=mO(n,t,a,"in"===s||"not-in"===s);return l2.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}}class mY extends mW{static _create(e,t){return new mY(e,t)}_parse(e){let t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:l4.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;for(let e of t.getFlattenedFilters())m8(n,e),n=uI(n,e)}(e._query,t),new p7(e.firestore,e.converter,uI(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}constructor(e,t){super(),this.type=e,this._queryConstraints=t}}class mX extends mQ{static _create(e,t){return new mX(e,t)}_apply(e){let t=function(e,t,n){if(null!==e.startAt)throw new a0(aZ.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new a0(aZ.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new l0(t,n)}(e._query,this._field,this._direction);return new p7(e.firestore,e.converter,function(e,t){let n=e.explicitOrderBy.concat([t]);return new um(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}}class mZ extends mQ{static _create(e,t,n){return new mZ(e,t,n)}_apply(e){return new p7(e.firestore,e.converter,uE(e._query,this._limit,this._limitType))}constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}}class m0 extends mQ{static _create(e,t,n){return new m0(e,t,n)}_apply(e){var t,n;let r=m2(e,this.type,this._docOrFields,this._inclusive);return new p7(e.firestore,e.converter,(t=e._query,n=r,new um(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,n,t.endAt)))}constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}}class m1 extends mQ{static _create(e,t,n){return new m1(e,t,n)}_apply(e){var t,n;let r=m2(e,this.type,this._docOrFields,this._inclusive);return new p7(e.firestore,e.converter,(t=e._query,n=r,new um(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,n)))}constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}}function m2(e,t,n,r){if(n[0]=tH(n[0]),n[0]instanceof m$)return function(e,t,n,r,i){if(!r)throw new a0(aZ.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);let s=[];for(let n of ub(e))if(n.field.isKeyField())s.push(lF(t,r.key));else{let e=r.data.field(n.field);if(l_(e))throw new a0(aZ.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){let e=n.field.canonicalString();throw new a0(aZ.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new lY(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{let i=mI(e.firestore);return function(e,t,n,r,i,s){let a=e.explicitOrderBy;if(i.length>a.length)throw new a0(aZ.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let o=[];for(let s=0;s<i.length;s++){let l=i[s];if(a[s].field.isKeyField()){if("string"!=typeof l)throw new a0(aZ.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof l}`);if(!ux(e)&&-1!==l.indexOf("/"))throw new a0(aZ.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${l}' contains a slash.`);let n=e.path.child(oo.fromString(l));if(!oc.isDocumentKey(n))throw new a0(aZ.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);let i=new oc(n);o.push(lF(t,i))}else{let e=mO(n,r,l);o.push(e)}}return new lY(o,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function m4(e,t,n){if("string"==typeof(n=tH(n))){if(""===n)throw new a0(aZ.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ux(t)&&-1!==n.indexOf("/"))throw new a0(aZ.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=t.path.child(oo.fromString(n));if(!oc.isDocumentKey(r))throw new a0(aZ.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lF(e,new oc(r))}if(n instanceof p9)return lF(e,n._key);throw new a0(aZ.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${p4(n)}.`)}function m6(e,t){if(!Array.isArray(e)||0===e.length)throw new a0(aZ.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function m8(e,t){let n=function(e,t){for(let n of e)for(let e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new a0(aZ.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new a0(aZ.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function m3(e,t){if(!(t instanceof mJ||t instanceof mY))throw new a0(aZ.INVALID_ARGUMENT,`Function ${e}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class m5{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(lA(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lb(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(lw(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw aJ()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",n={};return la(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;return new my(null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>lb(e.doubleValue)))}convertGeoPoint(e){return new mg(lb(e.latitude),lb(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":let n=lS(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(lI(e));default:return null}}convertTimestamp(e){let t=lx(e);return new oi(t.seconds,t.nanos)}convertDocumentKey(e,t){var n;let r=oo.fromString(e);c8(r)||aJ();let i=new lk(r.get(1),r.get(3)),s=new oc(r.popFirst(5));return i.isEqual(t)||aG(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function m7(e,t,n){let r;return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}class m9 extends m5{convertBytes(e){return new mf(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new p9(this.firestore,null,t)}constructor(e){super(),this.firestore=e}}class ge{isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}}class gt extends m${exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){let t=new gn(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){let n=this._document.data.field(mK("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}}class gn extends gt{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class gr{get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new gn(this._firestore,this._userDataWriter,n.key,n,new ge(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new a0(aZ.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{let r=new gn(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ge(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{let r=new gn(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ge(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(s=(n=n.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return aJ()}}(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ge(r.hasPendingWrites,r.fromCache),this.query=n}}class gi extends m5{convertBytes(e){return new mf(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new p9(this.firestore,null,t)}constructor(e){super(),this.firestore=e}}function gs(e,t,n){e=p6(e,p9);let r=p6(e.firestore,ma),i=m7(e.converter,t,n);return ga(r,[mE(mI(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,u5.none())])}function ga(e,t){return function(e,t){let n=new a1;return e.asyncQueue.enqueueAndForget(async()=>pn(await pG(e),t,n)),n.promise}(ml(e),t)}function go(e,t,n){let r=n.docs.get(t._key),i=new gi(e);return new gt(e,i,t._key,r,new ge(n.hasPendingWrites,n.fromCache),t.converter)}class gl{toJSON(){return{kind:this.kind}}constructor(e){this.kind="memory",this._onlineComponentProvider=pR.provider,(null==e?void 0:e.garbageCollector)?this._offlineComponentProvider=e.garbageCollector._offlineComponentProvider:this._offlineComponentProvider={build:()=>new pN(void 0)}}}class gu{toJSON(){return{kind:this.kind}}constructor(e){let t;this.kind="persistent",(null==e?void 0:e.tabManager)?(e.tabManager._initialize(e),t=e.tabManager):(t=function(e){return new gd(null==e?void 0:e.forceOwnership)}(void 0))._initialize(e),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}}class gc{toJSON(){return{kind:this.kind}}constructor(){this.kind="memoryEager",this._offlineComponentProvider=pA.provider}}class gh{toJSON(){return{kind:this.kind}}constructor(e){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new pN(e)}}}class gd{toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=pR.provider,this._offlineComponentProvider={build:t=>new pD(t,null==e?void 0:e.cacheSizeBytes,this.forceOwnership)}}constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}}class gf{toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=pR.provider,this._offlineComponentProvider={build:t=>new pP(t,null==e?void 0:e.cacheSizeBytes)}}constructor(){this.kind="PersistentMultipleTab"}}class gp{set(e,t,n){this._verifyNotCommitted();let r=gm(e,this._firestore),i=m7(r.converter,t,n),s=mE(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,u5.none())),this}update(e,t,n){let r;for(var i=arguments.length,s=Array(i>3?i-3:0),a=3;a<i;a++)s[a-3]=arguments[a];this._verifyNotCommitted();let o=gm(e,this._firestore);return r="string"==typeof(t=getModularInstance(t))||t instanceof mp?mR(this._dataReader,"WriteBatch.update",o._key,t,n,s):mP(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(r.toMutation(o._key,u5.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=gm(e,this._firestore);return this._mutations=this._mutations.concat(new cl(t._key,u5.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new a0(aZ.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=mI(e)}}function gm(e,t){if((e=tH(e)).firestore!==t)throw new a0(aZ.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class gg extends class{get(e){let t=gm(e,this._firestore),n=new m9(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return aJ();let r=e[0];if(r.isFoundDocument())return new m$(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new m$(this._firestore,n,t._key,null,t.converter);throw aJ()})}set(e,t,n){let r=gm(e,this._firestore),i=m7(r.converter,t,n),s=mE(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){let r;for(var i=arguments.length,s=Array(i>3?i-3:0),a=3;a<i;a++)s[a-3]=arguments[a];let o=gm(e,this._firestore);return r="string"==typeof(t=tH(t))||t instanceof mp?mR(this._dataReader,"Transaction.update",o._key,t,n,s):mP(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,r),this}delete(e){let t=gm(e,this._firestore);return this._transaction.delete(t._key),this}constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=mI(e)}}{get(e){let t=gm(e,this._firestore),n=new gi(this._firestore);return super.get(e).then(e=>new gt(this._firestore,n,t._key,e._document,new ge(!1,!1),t.converter))}constructor(e,t){super(e,t),this._firestore=e}}function gy(e,t){if("string"!=typeof e[t])throw new a0(aZ.INVALID_ARGUMENT,"Missing string value for: "+t);return e[t]}class gv{constructor(e){this._firestore=e,this.type="PersistentCacheIndexManager"}}function gx(e,t){var n,r;(n=ml(e._firestore),r=t,n.asyncQueue.enqueue(async()=>{var e,t,i;return e=await pH(n),t=r,void(e._s.Hi=t)})).then(e=>aK(`setting persistent cache index auto creation isEnabled=${t} succeeded`)).catch(e=>aW(`setting persistent cache index auto creation isEnabled=${t} failed`,e))}let gb=new WeakMap;!function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];aq=nw,nm(new tK("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n,s=e.getProvider("app").getImmediate(),a=new ma(new a8(e.getProvider("auth-internal")),new a9(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new a0(aZ.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lk(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),nE(aj,"4.7.5",e),nE(aj,"4.7.5","esm2017")}();var gw=n("311"),g_=n.n(gw);let gS="5000",gI=e=>{let t="",n=e||Math.floor(8*Math.random())+15;for(let e=0;e<n;e++)switch(Math.floor(4*Math.random())){case 0:t+=e0.charAt(Math.floor(Math.random()*e0.length));break;case 1:t+=e1.charAt(Math.floor(Math.random()*e1.length));break;case 2:t+=e2.charAt(Math.floor(Math.random()*e2.length));break;case 3:t+=e4.charAt(Math.floor(Math.random()*e4.length))}return t},gE=e=>e.charAt(0).toUpperCase()+e.slice(1),gk=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return g_().lib.WordArray.random(e).toString()},gT=(e,t,n)=>{let r=g_().PBKDF2(t,n,{keySize:8,iterations:gS}),i=g_().lib.WordArray.random(16),s=g_().AES.encrypt(e,r,{iv:i,padding:g_().pad.Pkcs7,mode:g_().mode.CBC,hasher:g_().algo.SHA256}),a=g_().HmacSHA256(s.toString(),r);return s.toString()+":"+i.toString(g_().enc.Hex)+":"+a.toString()},gC=(e,t,n)=>{let r=e.split(":");if(3!==r.length)throw Error("El formato de los datos cifrados es inv\xe1lido.");let[i,s,a]=r,o=g_().enc.Hex.parse(s),l=g_().PBKDF2(t,n,{keySize:8,iterations:gS});if(g_().HmacSHA256(i,l).toString()!==a)throw Error("Los datos cifrados han sido manipulados o est\xe1n corruptos.");return g_().AES.decrypt(i,l,{iv:o,padding:g_().pad.Pkcs7,mode:g_().mode.CBC,hasher:g_().algo.SHA256}).toString(g_().enc.Utf8)},gA=(e,t)=>""===t.currentPassword||""===t.newPassword||""===t.confirmPassword?{result:!1,message:"Todos los campos son necesarios"}:t.currentPassword!==e?{result:!1,message:"Contrase\xf1a actual no coincide"}:t.currentPassword===t.newPassword?{result:!1,message:"La nueva contrase\xf1a debe ser distinta a la actual"}:t.newPassword!==t.confirmPassword?{result:!1,message:"Las contrase\xf1as no coinciden"}:{result:!0,message:"Contrase\xf1a cambiada correctamente"},gN=async(e,t,n)=>new Promise(async(r,i)=>{try{let s=n||gk(),a=mo(e);gs(mt(a,t.email,"salt"),{salt:s}).then(()=>{r({salt:s})}).catch(e=>{i({error:e})})}catch(e){i({error:e})}}),gD=async(e,t,n)=>{let r=mt(mo(e),t,n),i=await function(e){e=p6(e,p9);let t=p6(e.firestore,ma);return pJ(ml(t),e._key).then(n=>go(t,e,n))}(r);return i.exists()?i.data():null},gP=async(e,t)=>gD(e,t,"salt"),gR=(e,t)=>gD(e,t,"data"),gO=()=>crypto.randomUUID(),gL=(e,t,n,r,i)=>new Promise((s,a)=>{try{let o=gT(JSON.stringify(t),r,i),l=mo(e);gs(mt(l,n,"data"),{data:o}).then(()=>{s(!0)}).catch(e=>{a(!1)})}catch(e){a(!1)}}),gM=aE()(aA(e=>({message:"",type:"",isVisible:!1,showAlert:(t,n)=>e({message:t,type:n,isVisible:!0}),hideAlert:()=>e({isVisible:!1})}),{name:"storeAlert"})),gF=tl("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),gV=tl("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),gU=tl("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),gB=tl("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),gj={success:{bg:"bg-green-600",txtColor:"text-white",icon:(0,b.jsx)(gF,{})},warning:{bg:"bg-yellow-400",txtColor:"text-black",icon:(0,b.jsx)(gV,{})},error:{bg:"bg-red-600",txtColor:"text-black",icon:(0,b.jsx)(gU,{})},info:{bg:"bg-blue-600",txtColor:"text-white",icon:(0,b.jsx)(gB,{})}},gz=()=>{let{message:e,type:t,isVisible:n,hideAlert:r}=gM(ab(e=>({message:e.message,type:e.type,isVisible:e.isVisible,hideAlert:e.hideAlert}))),[i,s]=(0,w.useState)(!1);return((0,w.useEffect)(()=>{if(n){let e=setTimeout(()=>s(!0),500),t=setTimeout(()=>s(!1),4500),n=setTimeout(()=>r(),5e3);return()=>{clearTimeout(e),clearTimeout(t),clearTimeout(n)}}},[n]),n)?(0,b.jsxs)("div",{className:`absolute bottom-0 font-semibold px-4 py-2 rounded-md flex gap-4 items-center transition-all duration-500
     ${gj[t].bg} ${gj[t].txtColor} ${i?"opacity-100 mb-8":"opacity-0 mb-0"}`,children:[gj[t].icon,e]}):null},gq=e=>{let{onChange:t}=e,{changeSession:n}=aM(ab(e=>({changeSession:e.changeSession}))),{appFirebase:r}=aO(ab(e=>({appFirebase:e.appFirebase}))),{showAlert:i}=gM(ab(e=>({showAlert:e.showAlert}))),[s,a]=(0,w.useState)(!1),o=eX();return(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center p-4",children:[(0,b.jsx)(K,{...o,children:(0,b.jsxs)(eZ,{onSubmit:e=>{a(!0),(function(e,t,n){return ny(e.app)?Promise.reject(nJ(e)):ij(tH(e),iI.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&iQ(e),t})})(am(),e.email,e.password).then(()=>{gP(r,e.email).then(t=>{t?n(!0,e.email,t.salt,e.password):i("Error retrieving data.",e5),a(!1)})}).catch(e=>{"auth/invalid-credential"===e.code?i("Invalid credentials.",e5):i("Server error.",e5),a(!1)})},children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-slate-800 text-center",children:"Welcome"}),(0,b.jsx)(td,{label:"Email",identify:"email",type:"email",placeholder:"Email",icon:(0,b.jsx)(tf,{className:"text-indigo-800"}),disabled:s}),(0,b.jsx)(td,{label:"Password",identify:"password",type:"password",placeholder:"Password",disabled:s}),(0,b.jsxs)(tn,{color:"blue",type:"submit",disabled:s,children:["Sign In",(0,b.jsx)(tp,{className:"ml-2"})]}),(0,b.jsx)(tn,{color:"link",onClick:t,disabled:s,children:"Create Account"})]})}),(0,b.jsx)(gz,{})]})},g$=e=>{let{onChange:t}=e,{appFirebase:n}=aO(ab(e=>({appFirebase:e.appFirebase}))),{showAlert:r}=gM(ab(e=>({showAlert:e.showAlert}))),{changeSession:i}=aM(ab(e=>({changeSession:e.changeSession}))),s=eX();return(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center p-4",children:[(0,b.jsx)(K,{...s,children:(0,b.jsxs)(eZ,{onSubmit:e=>{let t=am();e.password===e.rePassword?iY(t,e.email,e.password).then(t=>{t.user,gN(n,e).then(t=>{i(!0,e.email,t.salt,e.password)}).catch(e=>{console.log(e),r("Error saving data.",e5)})}).catch(e=>{let t=e.code,n=e.message;console.log(t,n),r(n,e5)}):(console.log("la contrase\xf1a no es igual"),r("The password does not match.","warning"))},children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-black text-center",children:"Welcome"}),(0,b.jsx)(td,{label:"Email",identify:"email",type:"email",placeholder:"Email",icon:(0,b.jsx)(tf,{className:"text-indigo-800"})}),(0,b.jsx)(td,{label:"Password",identify:"password",type:"password",placeholder:"Password"}),(0,b.jsx)(td,{label:"Password",identify:"rePassword",type:"password",placeholder:"Repeat Password"}),(0,b.jsx)(tn,{color:"green",type:"submit",children:"Create Account"}),(0,b.jsx)(tn,{color:"link",onClick:t,children:"Login"})]})}),(0,b.jsx)(gz,{})]})},gH=function(e){let{icon:t,label:n,isActive:r,onClick:i}=e;return(0,b.jsxs)(tn,{onClick:i,className:`h-12 inline-flex items-center px-1 pt-1 text-sm font-medium border-b-2 lg:h-auto ${r?"border-indigo-500 text-slate-900":"border-transparent text-slate-500 hover:border-slate-300 hover:text-slate-700"}`,children:[(0,w.cloneElement)(t,{className:"h-5 w-5 mr-2"}),n]})},gK=tl("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),gG=tl("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),gW=tl("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),gQ=tl("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),gJ=tl("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),gY=tl("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),gX=tl("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),gZ=async(e,t,n)=>{try{let r=aO.getState().appFirebase,i=aM.getState().session.email,s=aM.getState().session.password,a=aM.getState().session.salt;await gL(r,e,i,s,a)&&t(t=>({...t,store:e})),n&&n()}catch(e){console.log("Error save"),gM.getState().showAlert("Error saving data",e5),n&&n()}},g0={add:(e,t)=>[...e().store,t],update:(e,t)=>e().store.map(e=>e.id===t.id?t:e),remove:(e,t)=>e().store.filter(e=>e.id!==t.id)},g1=aE()(aA(aP((e,t)=>({store:[],modifyStore:(n,r,i)=>{gZ(g0[n](t,r),e,i)},setItems:t=>e(e=>({...e,store:t})),clearItems:()=>e(e=>({...e,store:[]}))}),{name:"storeData"}))),g2=[{label:"Items",value:"items",icon:(0,b.jsx)(gK,{})},{label:"Add New",value:"add",icon:(0,b.jsx)(gG,{})},{label:"Password",value:"password",icon:(0,b.jsx)(gW,{})},{label:"Help",value:"help",icon:(0,b.jsx)(gQ,{})}],g4=e=>{let{currentPage:t,onNavigate:n}=e,{logout:r}=aM(ab(e=>({logout:e.logout}))),{clearItems:i}=g1(ab(e=>({clearItems:e.clearItems}))),[s,a]=(0,w.useState)(!0);return(0,b.jsx)("nav",{className:"bg-white border-b border-slate-200",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,b.jsx)("div",{className:"flex justify-between h-16",children:(0,b.jsxs)("div",{className:"flex justify-between w-full",children:[(0,b.jsxs)("div",{className:"flex-shrink-0 flex items-center",children:[(0,b.jsx)(gJ,{className:"h-8 w-8 text-indigo-600"}),(0,b.jsx)("span",{className:"ml-2 text-xl font-bold text-slate-800",children:"PassWallet"})]}),(0,b.jsx)("div",{className:"flex items-center lg:hidden",children:(0,b.jsx)(tn,{onClick:()=>a(!s),className:"px-4 py-2 border text-sm rounded-md font-medium text-slate-700 hover:text-slate-900 hover:bg-slate-100",children:(0,b.jsx)(gY,{})})}),(0,b.jsxs)("div",{className:`${s?"hidden":"flex"} bg-white m-2 rounded-lg p-4 border lg:border-none lg:rounded-none lg:m-0 lg:p-0 lg:flex flex-col absolute top-16 left-0 right-0 shadow-lg z-10 lg:shadow-none lg:static lg:flex-row lg:ml-6 lg:space-x-8`,children:[g2.map((e,r)=>(0,b.jsx)(gH,{icon:e.icon,label:e.label,isActive:t===e.value,onClick:()=>n(e.value)},r)),(0,b.jsx)("div",{className:"flex items-center",children:(0,b.jsxs)(tn,{onClick:()=>{tH(am()).signOut().then(()=>{r(),i()}).catch(e=>{console.log(e)})},className:"m-auto px-4 py-2 border text-sm rounded-md font-medium text-slate-700 hover:text-slate-900 hover:bg-red-600",children:[(0,b.jsx)(gX,{className:"h-5 w-5 mr-2"}),"Logout"]})})]})]})})})})};function g6(e){let{children:t,currentPage:n,onNavigate:r}=e;return(0,b.jsxs)("div",{className:"min-h-screen bg-slate-50",children:[(0,b.jsx)(g4,{currentPage:n,onNavigate:r}),(0,b.jsx)("main",{className:"mx-2 max-w-7xl py-6 lg:mx-auto lg:px-8",children:t})]})}let g8=function(e){let{label:t,value:n,current:r,onClick:i}=e;return(0,b.jsx)(tn,{onClick:()=>i(n),className:`px-3 py-1 rounded-full text-sm font-medium ${r===n?"bg-indigo-100 text-indigo-800":"text-slate-600 hover:bg-slate-100"}`,children:t})},g3=[{value:e7,label:gE(e7)},{value:e9,label:gE(e9)},{value:te,label:gE(te)}],g5=e=>{let{identify:t,register:n,className:r,disabled:i,required:s,icon:a}=e;return(0,b.jsxs)("div",{className:"relative flex w-full",children:[(0,b.jsx)("div",{className:"absolute left-2 top-1/2 -translate-y-1/2",children:a}),(0,b.jsx)("select",{className:`w-full pl-10 pr-3 py-2 border border-slate-200 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-transparent bg-white rounded-lg ${r}`,disabled:i,required:s,...n(t,{required:s}),children:g3.map((e,t)=>(0,b.jsx)("option",{value:e.value,children:e.label},t))})]})},g7=tl("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),g9=()=>{let{setValue:e}=H();return(0,b.jsx)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:(0,b.jsxs)(tn,{className:"text-indigo-800 flex items-center",onClick:()=>{e(e8,gI())},children:[(0,b.jsx)(g7,{className:"h-4 w-4 mr-1"}),"Generate"]})})},ye=e=>e===e8||"number"===e||e===e3?e:e.toLowerCase().includes(e8)?e8:e6,yt=function(e){let{onSubmit:t,item:n,onCancel:r,disabled:i,icons:s}=e,{handleSubmit:a,register:o}=H();return(0,b.jsxs)("form",{onSubmit:a(t),className:"space-y-4",children:[Object.keys(n).map((e,t)=>"id"===e?null:"category"===e?(0,b.jsx)(g5,{identify:e,register:o,icon:null==s?void 0:s[e],disabled:i},t):(0,b.jsx)(th,{identify:e,type:ye(e),placeholder:gE(e),icon:null==s?void 0:s[e],disabled:i,children:e===e8&&(0,b.jsx)(g9,{})},t)),(0,b.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,b.jsx)(tn,{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-slate-700 hover:text-slate-900",disabled:i,children:"Cancel"}),(0,b.jsx)(tn,{color:"indigo",type:"submit",className:"px-4 py-2 text-sm font-medium",disabled:i,children:"Save Changes"})]})]})},yn=tl("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),yr=tl("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),yi=tl("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ys=e=>{let{item:t,setEditingItem:n}=e,{modifyStore:r}=g1(ab(e=>({modifyStore:e.modifyStore}))),[i,s]=(0,w.useState)(!1),[a,o]=(0,w.useState)(!1),l=()=>{s(e=>!e)},u=e=>{l(),r("remove",e,l)};return(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-0 items-start lg:items-center lg:flex-row lg:gap-6",children:[(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-slate-900",children:t.title}),t.url&&(0,b.jsx)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-indigo-600 hover:text-indigo-800",children:(0,b.jsx)(yn,{className:"h-4 w-4"})})]}),t.username&&(0,b.jsx)("p",{className:"text-sm text-slate-500",children:t.username}),t.email&&(0,b.jsx)("p",{className:"text-sm text-slate-500",children:t.email}),(0,b.jsxs)("div",{className:"flex items-center mt-1",children:[(0,b.jsx)("span",{className:"text-sm font-mono",children:a?t.password:""}),(0,b.jsx)(tn,{onClick:()=>o(e=>!e),className:"ml-2 text-slate-400 hover:text-slate-600",children:a?(0,b.jsx)(tu,{className:"h-4 w-4"}):(0,b.jsx)(tc,{className:"h-4 w-4"})})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(tn,{onClick:()=>n(t.id),className:"p-2 text-slate-400 hover:text-indigo-600 rounded-full hover:bg-slate-100",disabled:i,children:(0,b.jsx)(yr,{className:"h-5 w-5"})}),(0,b.jsx)(tn,{onClick:()=>u(t),className:"p-2 text-slate-400 hover:text-red-600 rounded-full hover:bg-slate-100",disabled:i,children:(0,b.jsx)(yi,{className:"h-5 w-5"})})]})]})},ya=e=>{let{children:t}=e;return(0,b.jsx)("div",{className:"bg-white rounded-lg shadow",children:t})},yo=e=>{let{children:t}=e;return(0,b.jsx)("div",{className:"p-4 border-b border-slate-200",children:(0,b.jsxs)("div",{className:"flex-col flex items-center justify-between mb-4 lg:flex-row",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-slate-800",children:"Stored Passwords"}),(0,b.jsx)("div",{className:"flex space-x-2",children:t})]})})},yl=()=>(0,b.jsx)("div",{className:"p-8 text-center text-slate-500",children:"No items found. Add some passwords to get started!"}),yu=e=>{let{children:t,length:n}=e;return(0,b.jsx)("div",{className:"divide-y divide-slate-200",children:0===n?(0,b.jsx)(yl,{}):t})},yc=e=>{let{children:t}=e;return(0,b.jsx)("div",{className:"p-4 hover:bg-slate-50",children:t})},yh=tl("Captions",[["rect",{width:"18",height:"14",x:"3",y:"5",rx:"2",ry:"2",key:"12ruh7"}],["path",{d:"M7 15h4M15 15h2M7 11h2M13 11h4",key:"1ueiar"}]]),yd=tl("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),yf=tl("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),yp=tl("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),ym=[{value:"all",label:gE("all")},{value:e7,label:gE(e7)},{value:e9,label:gE(e9)},{value:te,label:gE(te)}],yg={title:(0,b.jsx)(yh,{className:"text-indigo-800"}),username:(0,b.jsx)(yd,{className:"text-indigo-800"}),category:(0,b.jsx)(yf,{className:"text-indigo-800"}),url:(0,b.jsx)(yp,{className:"text-indigo-800"}),email:(0,b.jsx)(tf,{className:"text-indigo-800"})};function yy(){let{items:e,modifyStore:t}=g1(ab(e=>({items:e.store,modifyStore:e.modifyStore}))),[n,r]=(0,w.useState)("all"),[i,s]=(0,w.useState)(null),[a,o]=(0,w.useState)(!1),l=eX(),u=()=>{o(e=>!e),s(null),l.reset()},c=e=>{o(e=>!e),t("update",e,u)},h=t=>{let n=e.find(e=>e.id===t);n&&(Object.keys(n).map(e=>{l.setValue(e,n[e])}),s(n.id))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(ya,{children:[(0,b.jsx)(yo,{children:ym.map((e,t)=>(0,b.jsx)(g8,{label:e.label,value:e.value,current:n,onClick:r},t))}),(0,b.jsx)(yu,{length:e.length,children:e.filter(e=>"all"===n||e.category===n).map(e=>(0,b.jsx)(yc,{children:i===e.id?(0,b.jsx)(K,{...l,children:(0,b.jsx)(yt,{onSubmit:c,item:e,onCancel:()=>s(null),icons:yg,disabled:a})}):(0,b.jsx)(ys,{item:e,setEditingItem:h})},e.id))})]}),(0,b.jsx)(gz,{})]})}let yv={title:(0,b.jsx)(yh,{className:"text-indigo-800"}),username:(0,b.jsx)(yd,{className:"text-indigo-800"}),category:(0,b.jsx)(yf,{className:"text-indigo-800"}),url:(0,b.jsx)(yp,{className:"text-indigo-800"}),email:(0,b.jsx)(tf,{className:"text-indigo-800"})},yx={id:"",title:"",username:"",password:"",category:"social",url:"",email:""},yb=function(e){let{onCancel:t}=e,{modifyStore:n}=g1(ab(e=>({modifyStore:e.modifyStore}))),[r,i]=(0,w.useState)(!1),s=eX(),a=()=>{i(e=>!e),s.reset()};return(0,b.jsx)("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow",children:(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold text-slate-800 mb-6",children:"Add New Password"}),(0,b.jsx)(K,{...s,children:(0,b.jsx)(yt,{onSubmit:e=>{i(e=>!e),n("add",{...e,id:gO()},a)},item:yx,onCancel:t,icons:yv,disabled:r})})]})})},yw={currentPassword:"",newPassword:"",confirmPassword:""},y_=function(e){let{onCancel:t}=e,{FbApp:n}=aO(ab(e=>({FbApp:e.appFirebase}))),{currentPassword:r,email:i,salt:s}=aM(ab(e=>({currentPassword:e.session.password,email:e.session.email,salt:e.session.salt}))),{store:a}=g1(ab(e=>({store:e.store}))),{showAlert:o}=gM(ab(e=>({showAlert:e.showAlert}))),[l,u]=(0,w.useState)(!1),c=eX();return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow",children:(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold text-slate-800 mb-6",children:"Change Master Password"}),(0,b.jsx)(K,{...c,children:(0,b.jsx)(yt,{onSubmit:e=>{u(e=>!e);let t=am(),l=gA(r,e),h=t.currentUser;if(h&&l.result){var d,f;(d=h,f=e.newPassword,i0(tH(d),null,f)).then(()=>{gL(n,a,i,e.newPassword,s).then(e=>{c.reset(),o(l.message,"success"),u(e=>!e)})}).catch(()=>{o(l.message,"error"),u(e=>!e)})}else u(e=>!e),o(l.message,"error")},item:yw,onCancel:t,disabled:l})})]})}),(0,b.jsx)(gz,{})]})},yS=tl("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),yI=e=>{let{icon:t,title:n,description:r}=e;return(0,b.jsxs)("div",{className:"flex space-x-4",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:t}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-slate-900 mb-2",children:n}),(0,b.jsx)("p",{className:"text-slate-600",children:r})]})]})};function yE(){return(0,b.jsx)("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow",children:(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold text-slate-800 mb-6",children:"How to Use SecureVault"}),(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsx)(yI,{icon:(0,b.jsx)(gJ,{className:"h-8 w-8 text-indigo-600"}),title:"Secure Password Storage",description:"PassWallet uses advanced encryption to keep your passwords safe. All data is encrypted locally before being stored, ensuring that only you can access your passwords."}),(0,b.jsx)(yI,{icon:(0,b.jsx)(gW,{className:"h-8 w-8 text-indigo-600"}),title:"Managing Passwords",description:"Add, edit, and delete passwords easily. Organize them by categories (Social, Banking, Other) and use the filter to quickly find what you need."}),(0,b.jsx)(yI,{icon:(0,b.jsx)(yS,{className:"h-8 w-8 text-indigo-600"}),title:"Master Password",description:"Your master password is the key to all your stored passwords. Make sure to choose a strong master password and change it periodically."}),(0,b.jsx)(yI,{icon:(0,b.jsx)(gV,{className:"h-8 w-8 text-indigo-600"}),title:"Security Tips",description:"Use unique, complex passwords for each account. Enable two-factor authentication when available. Never share your master password with anyone."})]})]})})}function yk(){let{appFirebase:e}=aO(ab(e=>({appFirebase:e.appFirebase}))),{email:t,pass:n,salt:r}=aM(ab(e=>({email:e.session.email,pass:e.session.password,salt:e.session.salt}))),[i,s]=(0,w.useState)("items"),{items:a,setItems:o}=g1(ab(e=>({items:e.store,setItems:e.setItems})));return(0,w.useEffect)(()=>{0===a.length&&gR(e,t).then(e=>{if(null!==e)o(JSON.parse(gC(e.data,n,r)))}).catch(e=>{console.error("error")})},[]),(0,b.jsx)(g6,{currentPage:i,onNavigate:s,children:(()=>{switch(i){case"items":return(0,b.jsx)(yy,{});case"add":return(0,b.jsx)(yb,{onCancel:()=>s("items")});case"password":return(0,b.jsx)(y_,{onCancel:()=>s("items")});case"help":return(0,b.jsx)(yE,{});default:return null}})()})}n("825"),_.createRoot(document.getElementById("root")).render((0,b.jsx)(w.StrictMode,{children:(0,b.jsx)(function(){let{L_A:e,session:t,changeL_A:n,changeSession:r}=aM(ab(e=>({L_A:e.L_A,session:e.session,changeL_A:e.changeL_A,changeSession:e.changeSession})));return t.active?(0,b.jsx)(yk,{}):e?(0,b.jsx)(gq,{onChange:()=>n()}):(0,b.jsx)(g$,{onChange:()=>n()})},{})}))})()})();
//# sourceMappingURL=main.js.map